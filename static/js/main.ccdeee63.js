/*! For license information please see main.ccdeee63.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},46:function(e,t,n){"use strict";n.r(t),n.d(t,{DB_NTWIEET_COLLECTION_NAME:function(){return r}});var r="ntwiteets"},149:function(e,t,n){"use strict";n.r(t),n.d(t,{authService:function(){return X_},dbService:function(){return J_},storageService:function(){return eI}});var r={};n.r(r),n.d(r,{ActionCodeOperation:function(){return Pe},ActionCodeURL:function(){return Qn},AuthCredential:function(){return vn},AuthErrorCodes:function(){return Ue},EmailAuthCredential:function(){return Fn},EmailAuthProvider:function(){return $n},FacebookAuthProvider:function(){return tr},FactorId:function(){return Ae},GithubAuthProvider:function(){return rr},GoogleAuthProvider:function(){return nr},OAuthCredential:function(){return Vn},OAuthProvider:function(){return er},OperationType:function(){return Ze},PhoneAuthCredential:function(){return Gn},PhoneAuthProvider:function(){return Ha},PhoneMultiFactorGenerator:function(){return ou},ProviderId:function(){return Oe},RecaptchaVerifier:function(){return Ra},SAMLAuthProvider:function(){return ar},SignInMethod:function(){return Re},TwitterAuthProvider:function(){return or},applyActionCode:function(){return qr},browserLocalPersistence:function(){return Bi},browserPopupRedirectResolver:function(){return iu},browserSessionPersistence:function(){return Wi},checkActionCode:function(){return Hr},confirmPasswordReset:function(){return Vr},connectAuthEmulator:function(){return hn},createUserWithEmailAndPassword:function(){return Qr},debugErrorMap:function(){return Le},deleteUser:function(){return Ri},fetchSignInMethodsForEmail:function(){return ai},getAdditionalUserInfo:function(){return Ii},getAuth:function(){return fu},getIdToken:function(){return _t},getIdTokenResult:function(){return It},getMultiFactorResolver:function(){return Li},getRedirectResult:function(){return xo},inMemoryPersistence:function(){return Wt},indexedDBLocalPersistence:function(){return va},initializeAuth:function(){return Xe},isSignInWithEmailLink:function(){return ei},linkWithCredential:function(){return Cr},linkWithPhoneNumber:function(){return Ma},linkWithPopup:function(){return io},linkWithRedirect:function(){return bo},multiFactor:function(){return ji},onAuthStateChanged:function(){return Ci},onIdTokenChanged:function(){return Si},parseActionCodeURL:function(){return Yn},prodErrorMap:function(){return Me},reauthenticateWithCredential:function(){return Ar},reauthenticateWithPhoneNumber:function(){return Ua},reauthenticateWithPopup:function(){return no},reauthenticateWithRedirect:function(){return go},reload:function(){return Lt},sendEmailVerification:function(){return ui},sendPasswordResetEmail:function(){return Ur},sendSignInLinkToEmail:function(){return Xr},setPersistence:function(){return Ti},signInAnonymously:function(){return fr},signInWithCredential:function(){return Tr},signInWithCustomToken:function(){return Pr},signInWithEmailAndPassword:function(){return $r},signInWithEmailLink:function(){return ti},signInWithPhoneNumber:function(){return Da},signInWithPopup:function(){return eo},signInWithRedirect:function(){return mo},signOut:function(){return Oi},unlink:function(){return mr},updateCurrentUser:function(){return Ai},updateEmail:function(){return vi},updatePassword:function(){return mi},updatePhoneNumber:function(){return qa},updateProfile:function(){return di},useDeviceLanguage:function(){return Ni},verifyBeforeUpdateEmail:function(){return ci},verifyPasswordResetCode:function(){return Kr}});var i={};n.r(i),n.d(i,{AbstractUserDataWriter:function(){return Nx},Bytes:function(){return Iw},CACHE_SIZE_UNLIMITED:function(){return ow},CollectionReference:function(){return $b},DocumentReference:function(){return Qb},DocumentSnapshot:function(){return ix},FieldPath:function(){return Ew},FieldValue:function(){return Tw},Firestore:function(){return uw},FirestoreError:function(){return Vf},GeoPoint:function(){return Sw},LoadBundleTask:function(){return aw},Query:function(){return Yb},QueryConstraint:function(){return lx},QueryDocumentSnapshot:function(){return ax},QuerySnapshot:function(){return ox},SnapshotMetadata:function(){return rx},Timestamp:function(){return ih},Transaction:function(){return Qx},WriteBatch:function(){return Rx},_DatabaseId:function(){return Mb},_DocumentKey:function(){return Th},_EmptyAppCheckTokenProvider:function(){return $f},_EmptyAuthCredentialsProvider:function(){return Bf},_FieldPath:function(){return hh},_cast:function(){return Bb},_debugAssert:function(){return Ff},_isBase64Available:function(){return ph},_logWarn:function(){return Pf},_validateIsNotUsedTogether:function(){return jb},addDoc:function(){return Bx},arrayRemove:function(){return eE},arrayUnion:function(){return Jx},clearIndexedDbPersistence:function(){return vw},collection:function(){return Xb},collectionGroup:function(){return Jb},connectFirestoreEmulator:function(){return Gb},deleteDoc:function(){return qx},deleteField:function(){return $x},disableNetwork:function(){return gw},doc:function(){return ew},documentId:function(){return _w},enableIndexedDbPersistence:function(){return hw},enableMultiTabIndexedDbPersistence:function(){return dw},enableNetwork:function(){return yw},endAt:function(){return _x},endBefore:function(){return Ex},ensureFirestoreConfigured:function(){return lw},executeWrite:function(){return Kx},getDoc:function(){return Px},getDocFromCache:function(){return Lx},getDocFromServer:function(){return Mx},getDocs:function(){return Fx},getDocsFromCache:function(){return Ux},getDocsFromServer:function(){return jx},getFirestore:function(){return cw},increment:function(){return tE},initializeFirestore:function(){return sw},limit:function(){return yx},limitToLast:function(){return gx},loadBundle:function(){return bw},namedQuery:function(){return ww},onSnapshot:function(){return Hx},onSnapshotsInSync:function(){return Wx},orderBy:function(){return vx},query:function(){return fx},queryEqual:function(){return nw},refEqual:function(){return tw},runTransaction:function(){return Yx},serverTimestamp:function(){return Xx},setDoc:function(){return Vx},setLogLevel:function(){return Of},snapshotEqual:function(){return sx},startAfter:function(){return wx},startAt:function(){return bx},terminate:function(){return kw},updateDoc:function(){return zx},waitForPendingWrites:function(){return mw},where:function(){return dx},writeBatch:function(){return nE}});var a={};n.r(a),n.d(a,{StringFormat:function(){return SE},_FbsBlob:function(){return ZE},_Location:function(){return vE},_TaskEvent:function(){return a_},_TaskState:function(){return o_},_UploadTask:function(){return y_},_dataFromString:function(){return NE},_getChild:function(){return W_},_invalidArgument:function(){return cE},_invalidRootOperation:function(){return fE},connectStorageEmulator:function(){return G_},deleteObject:function(){return B_},getBlob:function(){return Q_},getBytes:function(){return D_},getDownloadURL:function(){return q_},getMetadata:function(){return U_},getStorage:function(){return K_},getStream:function(){return Y_},list:function(){return V_},listAll:function(){return z_},ref:function(){return H_},updateMetadata:function(){return j_},uploadBytes:function(){return L_},uploadBytesResumable:function(){return F_},uploadString:function(){return M_}});var o=n(181);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,o.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}var s=n(942),c=n(671),l=n(144),f=n(757),h=n.n(f),d=n(433),p=n(861),v=n(439),m=n(326),y=n(136),g=n(277),k=n(120),b=n(611);var w=n(814);function x(e,t,n){return x=(0,w.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,b.Z)(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,(0,k.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,b.Z)(n,e)},E(e)}var _=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},T=function(e){return function(e){var t=_(e);return I.encodeByteArray(t,!0)}(e).replace(/\./g,"")},S=function(e){try{return I.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var C=function(){function e(){var t=this;(0,c.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,l.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function N(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[T(JSON.stringify({alg:"none",type:"JWT"})),T(JSON.stringify(a)),""].join(".")}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function R(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function P(){var e=A();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var L=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,m.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,m.Z)(a),M.prototype.create),a}return(0,l.Z)(n)}(E(Error)),M=function(){function e(t,n,r){(0,c.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,l.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?F(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new L(n,a,t);return o}}]),e}();function F(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var U=/\{\$([^}]+)}/g;function j(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(V(u)&&V(s)){if(!j(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function V(e){return null!==e&&"object"===typeof e}function z(e){for(var t=[],n=function(){var e=(0,v.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function q(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,v.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function B(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var H=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,l.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=u(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function W(){}function K(e){return e&&e._delegate?e._delegate:e}var G=function(){function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,l.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Q="[DEFAULT]",Y=function(){function e(t,n){(0,c.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new C;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(c){}var t,n=u(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,v.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,p.Z)(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,d.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,d.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=u(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,v.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Zk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Q?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Zk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?e:Q:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var $,X,J=function(){function e(t){(0,c.Z)(this,e),this.name=t,this.providers=new Map}return(0,l.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Y(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ee=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(X||(X={}));var te,ne,re={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ie=X.INFO,ae=($={},(0,s.Z)($,X.DEBUG,"log"),(0,s.Z)($,X.VERBOSE,"log"),(0,s.Z)($,X.INFO,"info"),(0,s.Z)($,X.WARN,"warn"),(0,s.Z)($,X.ERROR,"error"),$),oe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ue=function(){function e(t){(0,c.Z)(this,e),this.name=t,this._logLevel=ie,this._logHandler=oe,this._userLogHandler=null,ee.push(this)}return(0,l.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in X))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?re[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.DEBUG].concat(t)),this._logHandler.apply(this,[this,X.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.VERBOSE].concat(t)),this._logHandler.apply(this,[this,X.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.INFO].concat(t)),this._logHandler.apply(this,[this,X.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.WARN].concat(t)),this._logHandler.apply(this,[this,X.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,X.ERROR].concat(t)),this._logHandler.apply(this,[this,X.ERROR].concat(t))}}]),e}();var se=function(){function e(t){(0,c.Z)(this,e),this.container=t}return(0,l.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ce="@firebase/app",le="0.7.11",fe=new ue("@firebase/app"),he="[DEFAULT]",de=(te={},(0,s.Z)(te,ce,"fire-core"),(0,s.Z)(te,"@firebase/app-compat","fire-core-compat"),(0,s.Z)(te,"@firebase/analytics","fire-analytics"),(0,s.Z)(te,"@firebase/analytics-compat","fire-analytics-compat"),(0,s.Z)(te,"@firebase/app-check","fire-app-check"),(0,s.Z)(te,"@firebase/app-check-compat","fire-app-check-compat"),(0,s.Z)(te,"@firebase/auth","fire-auth"),(0,s.Z)(te,"@firebase/auth-compat","fire-auth-compat"),(0,s.Z)(te,"@firebase/database","fire-rtdb"),(0,s.Z)(te,"@firebase/database-compat","fire-rtdb-compat"),(0,s.Z)(te,"@firebase/functions","fire-fn"),(0,s.Z)(te,"@firebase/functions-compat","fire-fn-compat"),(0,s.Z)(te,"@firebase/installations","fire-iid"),(0,s.Z)(te,"@firebase/installations-compat","fire-iid-compat"),(0,s.Z)(te,"@firebase/messaging","fire-fcm"),(0,s.Z)(te,"@firebase/messaging-compat","fire-fcm-compat"),(0,s.Z)(te,"@firebase/performance","fire-perf"),(0,s.Z)(te,"@firebase/performance-compat","fire-perf-compat"),(0,s.Z)(te,"@firebase/remote-config","fire-rc"),(0,s.Z)(te,"@firebase/remote-config-compat","fire-rc-compat"),(0,s.Z)(te,"@firebase/storage","fire-gcs"),(0,s.Z)(te,"@firebase/storage-compat","fire-gcs-compat"),(0,s.Z)(te,"@firebase/firestore","fire-fst"),(0,s.Z)(te,"@firebase/firestore-compat","fire-fst-compat"),(0,s.Z)(te,"fire-js","fire-js"),(0,s.Z)(te,"firebase","fire-js-all"),te),pe=new Map,ve=new Map;function me(e,t){try{e.container.addComponent(t)}catch(n){fe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ye(e){var t=e.name;if(ve.has(t))return fe.debug("There were multiple attempts to register component ".concat(t,".")),!1;ve.set(t,e);var n,r=u(pe.values());try{for(r.s();!(n=r.n()).done;){me(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ge(e,t){return e.container.getProvider(t)}var ke,be=(ne={},(0,s.Z)(ne,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,s.Z)(ne,"bad-app-name","Illegal App name: '{$appName}"),(0,s.Z)(ne,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,s.Z)(ne,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,s.Z)(ne,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,s.Z)(ne,"invalid-log-argument","First argument to `onLog` must be null or a function."),ne),we=new M("app","Firebase",be),xe=function(){function e(t,n,r){var i=this;(0,c.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new G("app",(function(){return i}),"PUBLIC"))}return(0,l.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw we.create("app-deleted",{appName:this._name})}}]),e}(),Ee="9.6.1";function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=pe.get(e);if(!t)throw we.create("no-app",{appName:e});return t}function Ie(e,t,n){var r,i=null!==(r=de[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fe.warn(u.join(" "))}ye(new G("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}ke="",ye(new G("platform-logger",(function(e){return new se(e)}),"PRIVATE")),Ie(ce,le,ke),Ie(ce,le,"esm2017"),Ie("fire-js","");function Te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,k.Z)(e)););return e}function Se(){return Se="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Te(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Se.apply(this,arguments)}Ie("firebase","9.6.1","app");function Ce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ne;Object.create;var Ae={PHONE:"phone"},Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Re={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},Ze={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},Pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function De(){return(0,s.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Le=function(){var e;return e={},(0,s.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,s.Z)(e,"argument-error",""),(0,s.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,s.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,s.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,s.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,s.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,s.Z)(e,"cors-unsupported","This browser is not supported."),(0,s.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,s.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,s.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,s.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,s.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,s.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,s.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,s.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,s.Z)(e,"expired-action-code","The action code has expired."),(0,s.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,s.Z)(e,"internal-error","An internal AuthError has occurred."),(0,s.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,s.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,s.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,s.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,s.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,s.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,s.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,s.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,s.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,s.Z)(e,"invalid-email","The email address is badly formatted."),(0,s.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,s.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,s.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,s.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,s.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,s.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,s.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,s.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,s.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,s.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,s.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,s.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,s.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,s.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,s.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,s.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,s.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,s.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,s.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,s.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,s.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,s.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,s.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,s.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,s.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,s.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,s.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,s.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,s.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,s.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,s.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,s.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,s.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,s.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,s.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,s.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,s.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,s.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,s.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,s.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,s.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,s.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,s.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,s.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,s.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,s.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,s.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,s.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,s.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,s.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,s.Z)(e,"timeout","The operation has timed out."),(0,s.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,s.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,s.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,s.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,s.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,s.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,s.Z)(e,"unverified-email","The operation requires a verified email."),(0,s.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,s.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,s.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,s.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,s.Z)(e,"user-signed-out",""),(0,s.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,s.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,s.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Me=De,Fe=new M("auth","Firebase",De()),Ue={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},je=new ue("@firebase/auth");function Ve(e){if(je.logLevel<=X.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];je.error.apply(je,["Auth (".concat(Ee,"): ").concat(e)].concat(n))}}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw We.apply(void 0,[e].concat(n))}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return We.apply(void 0,[e].concat(n))}function Be(e,t,n){var r=Object.assign(Object.assign({},Me()),(0,s.Z)({},t,n));return new M("auth","Firebase",r).create(t,{appName:e.name})}function He(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ze(e,"argument-error"),Be(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function We(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,d.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,d.Z)(o)))}return Fe.create.apply(Fe,[e].concat(n))}function Ke(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw We.apply(void 0,[t].concat(r))}}function Ge(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ve(t),new Error(t)}function Qe(e,t){e||Ge(t)}var Ye=new Map;function $e(e){Qe(e instanceof Function,"Expected a class definition");var t=Ye.get(e);return t?(Qe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ye.set(e,t),t)}function Xe(e,t){var n=ge(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(j(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;ze(r,"already-initialized")}return n.initialize({options:t})}function Je(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function et(){return"http:"===tt()||"https:"===tt()}function tt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var nt=function(){function e(t,n){(0,c.Z)(this,e),this.shortDelay=t,this.longDelay=n,Qe(n>t,"Short delay should be less than long delay!"),this.isMobile=O()||Z()}return(0,l.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(et()||R()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function rt(e,t){Qe(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var it=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),at=(Ne={},(0,s.Z)(Ne,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,s.Z)(Ne,"MISSING_CUSTOM_TOKEN","internal-error"),(0,s.Z)(Ne,"INVALID_IDENTIFIER","invalid-email"),(0,s.Z)(Ne,"MISSING_CONTINUE_URI","internal-error"),(0,s.Z)(Ne,"INVALID_PASSWORD","wrong-password"),(0,s.Z)(Ne,"MISSING_PASSWORD","internal-error"),(0,s.Z)(Ne,"EMAIL_EXISTS","email-already-in-use"),(0,s.Z)(Ne,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,s.Z)(Ne,"INVALID_IDP_RESPONSE","invalid-credential"),(0,s.Z)(Ne,"INVALID_PENDING_TOKEN","invalid-credential"),(0,s.Z)(Ne,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,s.Z)(Ne,"MISSING_REQ_TYPE","internal-error"),(0,s.Z)(Ne,"EMAIL_NOT_FOUND","user-not-found"),(0,s.Z)(Ne,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,s.Z)(Ne,"EXPIRED_OOB_CODE","expired-action-code"),(0,s.Z)(Ne,"INVALID_OOB_CODE","invalid-action-code"),(0,s.Z)(Ne,"MISSING_OOB_CODE","internal-error"),(0,s.Z)(Ne,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,s.Z)(Ne,"INVALID_ID_TOKEN","invalid-user-token"),(0,s.Z)(Ne,"TOKEN_EXPIRED","user-token-expired"),(0,s.Z)(Ne,"USER_NOT_FOUND","user-token-expired"),(0,s.Z)(Ne,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,s.Z)(Ne,"INVALID_CODE","invalid-verification-code"),(0,s.Z)(Ne,"INVALID_SESSION_INFO","invalid-verification-id"),(0,s.Z)(Ne,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,s.Z)(Ne,"MISSING_SESSION_INFO","missing-verification-id"),(0,s.Z)(Ne,"SESSION_EXPIRED","code-expired"),(0,s.Z)(Ne,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,s.Z)(Ne,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,s.Z)(Ne,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,s.Z)(Ne,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,s.Z)(Ne,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,s.Z)(Ne,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,s.Z)(Ne,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,s.Z)(Ne,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,s.Z)(Ne,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,s.Z)(Ne,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,s.Z)(Ne,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ne),ot=new nt(3e4,6e4);function ut(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function st(e,t,n,r){return ct.apply(this,arguments)}function ct(){return ct=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",lt(t,a,(0,p.Z)(h().mark((function e(){var a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=z(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",it.fetch()(pt(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}function lt(e,t,n){return ft.apply(this,arguments)}function ft(){return(ft=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},at),n),e.prev=2,a=new vt(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw mt(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,v.Z)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw mt(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw mt(t,"email-already-in-use",u);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Be(t,p,d);case 30:ze(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof L)){e.next=37;break}throw e.t0;case 37:ze(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ht(e,t,n,r){return dt.apply(this,arguments)}function dt(){return dt=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,st(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ze(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),dt.apply(this,arguments)}function pt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?rt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vt=function(){function e(t){var n=this;(0,c.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(qe(n.auth,"timeout"))}),ot.get())}))}return(0,l.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function mt(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=qe(e,t,r);return i.customData._tokenResponse=n,i}function yt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return K(e).getIdToken(t)}function It(e){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o,u,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=K(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ke((a=Ct(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Et(St(a.auth_time)),issuedAtTime:Et(St(a.iat)),expirationTime:Et(St(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}function St(e){return 1e3*Number(e)}function Ct(e){var t=e.split("."),n=(0,v.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{var o=S(i);return o?JSON.parse(o):(Ve("Failed to decode base64 JWT payload"),null)}catch(u){return Ve("Caught error parsing JWT payload as JSON",u),null}}function Nt(e,t){return At.apply(this,arguments)}function At(){return At=(0,p.Z)(h().mark((function e(t,n){var r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof L&&Ot(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),At.apply(this,arguments)}function Ot(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Rt=function(){function e(t){(0,c.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,l.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zt=function(){function e(t,n){(0,c.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,l.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Et(this.lastLoginAt),this.creationTime=Et(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Pt(e){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Nt(t,wt(r,{idToken:i}));case 6:Ke(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ut(o.providerUserInfo):[],s=Ft(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zt(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}function Lt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=K(t),e.next=3,Pt(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,d.Z)(n),(0,d.Z)(t))}function Ut(e){return e.map((function(e){var t=e.providerId,n=Ce(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function jt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(t,{},(0,p.Z)(h().mark((function e(){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=pt(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",it.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zt=function(){function e(){(0,c.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,l.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ke(e.idToken,"internal-error"),Ke("undefined"!==typeof e.idToken,"internal-error"),Ke("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ct(e);return Ke(t,"internal-error"),Ke("undefined"!==typeof t.exp,"internal-error"),Ke("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ke(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ge("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ke("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ke("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ke("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function qt(e,t){Ke("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Bt=function(){function e(t){(0,c.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ce(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Zt(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,l.Z)(e,[{key:"getIdToken",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ke(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return It(this,e)}},{key:"reload",value:function(){return Lt(this)}},{key:"_assign",value:function(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r,i=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Pt(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Nt(this,yt(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Ke(k&&E,t,"internal-error");var _=zt.fromJSON(this.name,E);Ke("string"===typeof k,t,"internal-error"),qt(f,t.name),qt(h,t.name),Ke("boolean"===typeof b,t,"internal-error"),Ke("boolean"===typeof w,t,"internal-error"),qt(d,t.name),qt(p,t.name),qt(v,t.name),qt(m,t.name),qt(y,t.name),qt(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=(0,p.Z)(h().mark((function t(n,r){var i,a,o,u=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new zt).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Pt(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ht=function(){function e(){(0,c.Z)(this,e),this.type="NONE",this.storage={}}return(0,l.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ht.type="NONE";var Wt=Ht;function Kt(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Gt=function(){function e(t,n,r){(0,c.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Kt(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kt("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,l.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Bt._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,p.Z)(h().mark((function t(n,r){var i,a,o,s,c,l,f,d,v,m,y,g=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e($e(Wt),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||$e(Wt),s=Kt(i,n.config.apiKey,n.name),c=null,l=u(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return d=f.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(v=t.sent)){t.next=23;break}return m=Bt._fromJSON(n,v),d!==o&&(c=m),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(y=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&y.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=y[0],!c){t.next=44;break}return t.next=44,o._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Qt(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tn(t))return"Blackberry";if(nn(t))return"Webos";if($t(t))return"Safari";if((t.includes("chrome/")||Xt(t))&&!t.includes("edge/"))return"Chrome";if(en(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/firefox\//i.test(e)}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/crios\//i.test(e)}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/iemobile/i.test(e)}function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/android/i.test(e)}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/blackberry/i.test(e)}function nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/webos/i.test(e)}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return/iphone|ipad|ipod/i.test(e)}function an(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return rn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function on(){return P()&&10===document.documentMode}function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A();return rn(e)||en(e)||nn(e)||tn(e)||/windows phone/i.test(e)||Jt(e)}function sn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qt(A());break;case"Worker":t="".concat(Qt(A()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ee,"/").concat(r)}var cn=function(){function e(t,n){(0,c.Z)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fn(this),this.idTokenSubscription=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return(0,l.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=$e(t)),this._initializationPromise=this.queue((0,p.Z)(h().mark((function r(){var i,a;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Gt.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ke(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?K(t):null)&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ke(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,p.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence($e(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new M("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ke(n=t&&$e(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Gt.create(this,[$e(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ln(e){return K(e)}var fn=function(){function e(t){var n=this;(0,c.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new H(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,l.Z)(e,[{key:"next",get:function(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function hn(e,t,n){var r=ln(e);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=dn(t),o=function(e){var t=dn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:pn(r.substr(a.length+1))}}var o=r.split(":"),u=(0,v.Z)(o,2);return{host:u[0],port:pn(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function dn(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pn(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var vn=function(){function e(t,n){(0,c.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,l.Z)(e,[{key:"toJSON",value:function(){return Ge("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ge("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ge("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ge("not implemented")}}]),e}();function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:resetPassword",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:update",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithPassword",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e,t){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:sendOobCode",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t){return On.apply(this,arguments)}function On(){return(On=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithEmailLink",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithEmailLink",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fn=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,c.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,l.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xn(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Pn(t,{email:this._email,oobCode:this._password}));case 5:ze(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gn(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ln(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ze(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(vn);function Un(e,t){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithIdp",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vn=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,l.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Un(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Un(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Un(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=z(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ze("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ce(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(vn);function zn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:sendVerificationCode",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw mt(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wn=(0,s.Z)({},"USER_NOT_FOUND","user-not-found");function Kn(){return(Kn=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,r),Wn));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gn=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,l.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Bn.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Hn.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Kn.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(vn);var Qn=function(){function e(t){var n,r,i,a,o,u;(0,c.Z)(this,e);var s=q(B(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ke(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,l.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=q(B(e)).link,n=t?q(B(t)).deep_link_id:null,r=q(B(e)).deep_link_id;return(r?q(B(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Zk){return null}}}]),e}();function Yn(e){return Qn.parseLink(e)}var $n=function(){function e(){(0,c.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,l.Z)(e,null,[{key:"credential",value:function(e,t){return Fn._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Qn.parseLink(t);return Ke(n,"argument-error"),Fn._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$n.PROVIDER_ID="password",$n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Xn=function(){function e(t){(0,c.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,l.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Jn=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,l.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,d.Z)(this.scopes)}}]),n}(Xn),er=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ke(e.idToken||e.accessToken,"argument-error"),Vn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ke("providerId"in t&&"signInMethod"in t,"argument-error"),Vn._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Jn),tr=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,"facebook.com")}return(0,l.Z)(n,null,[{key:"credential",value:function(e){return Vn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zk){return null}}}]),n}(Jn);tr.FACEBOOK_SIGN_IN_METHOD="facebook.com",tr.PROVIDER_ID="facebook.com";var nr=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,l.Z)(n,null,[{key:"credential",value:function(e,t){return Vn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Zk){return null}}}]),n}(Jn);nr.GOOGLE_SIGN_IN_METHOD="google.com",nr.PROVIDER_ID="google.com";var rr=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,"github.com")}return(0,l.Z)(n,null,[{key:"credential",value:function(e){return Vn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zk){return null}}}]),n}(Jn);rr.GITHUB_SIGN_IN_METHOD="github.com",rr.PROVIDER_ID="github.com";var ir=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,l.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Un(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Un(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Un(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vn),ar=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){return(0,c.Z)(this,n),Ke(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,l.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ir.fromJSON(e);return Ke(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ir._create(r,n)}catch(i){return null}}}]),n}(Xn),or=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,"twitter.com")}return(0,l.Z)(n,null,[{key:"credential",value:function(e,t){return Vn._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Zk){return null}}}]),n}(Jn);function ur(e,t){return sr.apply(this,arguments)}function sr(){return(sr=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signUp",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}or.TWITTER_SIGN_IN_METHOD="twitter.com",or.PROVIDER_ID="twitter.com";var cr=function(){function e(t){(0,c.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,l.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,p.Z)(h().mark((function t(n,r,i){var a,o,u,s,c=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Bt._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=lr(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,p.Z)(h().mark((function t(n,r,i){var a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=lr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function lr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function fr(e){return hr.apply(this,arguments)}function hr(){return hr=(0,p.Z)(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new cr({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ur(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,cr._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}var dr=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){var o,u;return(0,c.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,m.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,l.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(L);function pr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw dr._fromErrorAndOperation(e,n,t,r);throw n}))}function vr(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function mr(e,t){return yr.apply(this,arguments)}function yr(){return yr=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t),e.next=3,br(!0,r,n);case 3:return e.t0=kt,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=vr(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(e,t){return kr.apply(this,arguments)}function kr(){return kr=(0,p.Z)(h().mark((function e(t,n){var r,i,a=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Nt,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",cr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}function br(e,t,n){return wr.apply(this,arguments)}function wr(){return(wr=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(n);case 2:i=vr(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ke(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xr(e,t){return Er.apply(this,arguments)}function Er(){return Er=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Nt(t,pr(i,a,n,t),r);case 6:return Ke((o=e.sent).idToken,i,"internal-error"),Ke(u=Ct(o.idToken),i,"internal-error"),s=u.sub,Ke(t.uid===s,i,"user-mismatch"),e.abrupt("return",cr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ze(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Er.apply(this,arguments)}function _r(e,t){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,pr(t,i,n);case 4:return a=e.sent,e.next=7,cr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Tr(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_r(ln(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t),e.next=3,br(!1,r,n.providerId);case 3:return e.abrupt("return",gr(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ar(e,t){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xr(K(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,"POST","/v1/accounts:signInWithCustomToken",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln(t),e.next=3,Rr(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,cr._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lr=function(){function e(t,n){(0,c.Z)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,l.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Mr._fromServerResponse(e,t):ze(e,"internal-error")}}]),e}(),Mr=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,l.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Lr);function Fr(e,t,n){var r;Ke((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ke("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ke(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ke(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ur(e,t,n){return jr.apply(this,arguments)}function jr(){return(jr=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),a={requestType:"PASSWORD_RESET",email:n},r&&Fr(i,a,r),e.next=5,Cn(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e,t,n){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(K(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qr(e,t){return Br.apply(this,arguments)}function Br(){return(Br=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(K(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t),e.next=3,mn(r,{oobCode:n});case 3:i=e.sent,Ke(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ke(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ke(i.mfaInfo,r,"internal-error");case 13:Ke(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Lr._fromServerResponse(ln(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr(K(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(e,t,n){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),e.next=3,ur(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,cr._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e,t,n){return Tr(K(e),$n.credential(t,n))}function Xr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),a={requestType:"EMAIL_SIGNIN",email:n},Ke(r.handleCodeInApp,i,"argument-error"),r&&Fr(i,a,r),e.next=6,An(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t){var n=Qn.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function ti(e,t,n){return ni.apply(this,arguments)}function ni(){return(ni=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),Ke((a=$n.credentialWithLink(n,r||Je()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Tr(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(e,t){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:createAuthUri",ut(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e,t){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=et()?Je():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ri(K(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e,t){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Fr(r.auth,a,n),e.next=8,Tn(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ci(e,t,n){return li.apply(this,arguments)}function li(){return(li=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Fr(i.auth,o,r),e.next=8,Rn(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e,t){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",st(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=K(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Nt(a,fi(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t){return yi(K(e),t,null)}function mi(e,t){return yi(K(e),null,t)}function yi(e,t,n){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Nt(t,gn(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ki=(0,l.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),bi=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){var o;return(0,c.Z)(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,l.Z)(n)}(ki),wi=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,l.Z)(n)}(ki),xi=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,l.Z)(n)}(bi),Ei=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"google.com",r)}return(0,l.Z)(n)}(ki),_i=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){return(0,c.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,l.Z)(n)}(bi);function Ii(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ct(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ki(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wi(a,i);case"github.com":return new xi(a,i);case"google.com":return new Ei(a,i);case"twitter.com":return new _i(a,i,e.screenName||null);case"custom":case"anonymous":return new ki(a,null);default:return new ki(a,r,i)}}(n)}function Ti(e,t){return K(e).setPersistence(t)}function Si(e,t,n,r){return K(e).onIdTokenChanged(t,n,r)}function Ci(e,t,n,r){return K(e).onAuthStateChanged(t,n,r)}function Ni(e){K(e).useDeviceLanguage()}function Ai(e,t){return K(e).updateCurrentUser(t)}function Oi(e){return K(e).signOut()}function Ri(e){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pi=function(){function e(t,n){(0,c.Z)(this,e),this.type=t,this.credential=n}return(0,l.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,s.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Di=function(){function e(t,n,r){(0,c.Z)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,l.Z)(e,[{key:"resolveSignIn",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ln(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Lr._fromServerResponse(r,e)}));Ke(i.mfaPendingCredential,r,"internal-error");var o=Pi._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=(0,p.Z)(h().mark((function e(t){var a,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,cr._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ke(n.user,r,"internal-error"),e.abrupt("return",cr._forOperation(n.user,n.operationType,u));case 17:ze(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Li(e,t){var n,r=K(e),i=t;return Ke(t.customData.operationType,r,"argument-error"),Ke(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Di._fromError(r,i)}function Mi(e,t){return st(e,"POST","/v2/accounts/mfaEnrollment:start",ut(e,t))}var Fi=function(){function e(t){var n=this;(0,c.Z)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Lr._fromServerResponse(t.auth,e)})))}))}return(0,l.Z)(e,[{key:"getSession",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pi,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Nt(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Nt(this.user,st(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ui=new WeakMap;function ji(e){var t=K(e);return Ui.has(t)||Ui.set(t,Fi._fromUser(t)),Ui.get(t)}var Vi="__sak",zi=function(){function e(t,n){(0,c.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,l.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vi,"1"),this.storage.removeItem(Vi),Promise.resolve(!0)):Promise.resolve(!1)}catch(Zk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qi=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=A();return $t(e)||rn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=un(),e._shouldAllowMigration=!0,e}return(0,l.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);on()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,p.Z)(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((0,k.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,p.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((0,k.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((0,k.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zi);qi.type="LOCAL";var Bi=qi,Hi=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,l.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zi);Hi.type="SESSION";var Wi=Hi;function Ki(e){return Promise.all(e.map(function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Gi=function(){function e(t){(0,c.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,l.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ki(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gi.receivers=[];var Yi=function(){function e(t){(0,c.Z)(this,e),this.target=t,this.handlers=new Set}return(0,l.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Qi("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function $i(){return window}function Xi(){return"undefined"!==typeof $i().WorkerGlobalScope&&"function"===typeof $i().importScripts}function Ji(){return ea.apply(this,arguments)}function ea(){return(ea=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ta(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var na="firebaseLocalStorageDb",ra="firebaseLocalStorage",ia="fbase_key",aa=function(){function e(t){(0,c.Z)(this,e),this.request=t}return(0,l.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function oa(e,t){return e.transaction([ra],t?"readwrite":"readonly").objectStore(ra)}function ua(){var e=indexedDB.deleteDatabase(na);return new aa(e).toPromise()}function sa(){var e=indexedDB.open(na,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ra,{keyPath:ia})}catch(r){n(r)}})),e.addEventListener("success",(0,p.Z)(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ra)){n.next=12;break}return r.close(),n.next=5,ua();case 5:return n.t0=t,n.next=8,sa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ca(e,t,n){return la.apply(this,arguments)}function la(){return la=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oa(t,!0).put((i={},(0,s.Z)(i,ia,n),(0,s.Z)(i,"value",r),i)),e.abrupt("return",new aa(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oa(t,!1).get(n),e.next=3,new aa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){var n=oa(e,!0).delete(t);return new aa(n).toPromise()}var pa=function(){function e(){(0,c.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,l.Z)(e,[{key:"_openDb",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,sa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,p.Z)(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Gi._getInstance(Xi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,p.Z)(h().mark((function e(n,r){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ta()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,sa();case 5:return t=e.sent,e.next=8,ca(t,Vi,"1");case 8:return e.next=10,da(t,Vi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ca(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return fa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return da(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i,a,o,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=oa(e,!1).getAll();return new aa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=u(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,c=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)d=f[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pa.type="LOCAL";var va=pa;function ma(e,t){return st(e,"POST","/v2/accounts/mfaSignIn:start",ut(e,t))}function ya(e){return ga.apply(this,arguments)}function ga(){return(ga=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=qe("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ba(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var wa=1e12,xa=function(){function e(t){(0,c.Z)(this,e),this.auth=t,this.counter=wa,this._widgets=new Map}return(0,l.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ea(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||wa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||wa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||wa,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ea=function(){function e(t,n,r){var i=this;(0,c.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ke(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,l.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var _a=ba("rcb"),Ia=new nt(3e4,6e4),Ta="https://www.google.com/recaptcha/api.js?",Sa=function(){function e(){(0,c.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$i().grecaptcha}return(0,l.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ke(Ca(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve($i().grecaptcha):new Promise((function(r,i){var a=$i().setTimeout((function(){i(qe(e,"network-request-failed"))}),Ia.get());$i()[_a]=function(){$i().clearTimeout(a),delete $i()[_a];var o=$i().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(qe(e,"internal-error"))},ka("".concat(Ta,"?").concat(z({onload:_a,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(qe(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!$i().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ca(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Na=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"load",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xa(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Aa="recaptcha",Oa={theme:"light",type:"image"},Ra=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Oa),r=arguments.length>2?arguments[2]:void 0;(0,c.Z)(this,e),this.parameters=n,this.type=Aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(r),this.isInvisible="invisible"===this.parameters.size,Ke("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ke(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Na:new Sa,this.validateStartingState()}return(0,l.Z)(e,[{key:"verify",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ke(!this.parameters.sitekey,this.auth,"argument-error"),Ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ke("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=$i()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ke(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(et()&&!Xi(),this.auth,"internal-error"),e.next=3,Za();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ya(this.auth);case 8:Ke(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Za(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Pa=function(){function e(t,n){(0,c.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,l.Z)(e,[{key:"confirm",value:function(e){var t=Gn._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Da(e,t,n){return La.apply(this,arguments)}function La(){return(La=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),e.next=3,Va(i,n,K(r));case 3:return a=e.sent,e.abrupt("return",new Pa(a,(function(e){return Tr(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e,t,n){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),e.next=3,br(!1,i,"phone");case 3:return e.next=5,Va(i.auth,n,K(r));case 5:return a=e.sent,e.abrupt("return",new Pa(a,(function(e){return Cr(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t,n){return ja.apply(this,arguments)}function ja(){return(ja=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K(t),e.next=3,Va(i.auth,n,K(r));case 3:return a=e.sent,e.abrupt("return",new Pa(a,(function(e){return Ar(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t,n){return za.apply(this,arguments)}function za(){return za=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ke("string"===typeof a,t,"argument-error"),Ke(r.type===Aa,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ke("enroll"===u.type,t,"internal-error"),e.next=13,Mi(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ke("signin"===u.type,t,"internal-error"),Ke(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ma(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,zn(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),za.apply(this,arguments)}function qa(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr(K(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ha=function(){function e(t){(0,c.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=ln(t)}return(0,l.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Va(this.auth,e,K(t))}}],[{key:"credential",value:function(e,t){return Gn._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Gn._fromTokenResponse(n,r):null}}]),e}();function Wa(e,t){return t?$e(t):(Ke(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ha.PROVIDER_ID="phone",Ha.PHONE_SIGN_IN_METHOD="phone";var Ka=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,l.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Un(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Un(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Un(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vn);function Ga(e){return _r(e.auth,new Ka(e),e.bypassAuthState)}function Qa(e){var t=e.auth,n=e.user;return Ke(n,t,"internal-error"),xr(n,new Ka(e),e.bypassAuthState)}function Ya(e){return $a.apply(this,arguments)}function $a(){return($a=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ke(r=t.user,n,"internal-error"),e.abrupt("return",gr(r,new Ka(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,c.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,l.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,p.Z)(h().mark((function t(n,r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ga;case"linkViaPopup":case"linkViaRedirect":return Ya;case"reauthViaPopup":case"reauthViaRedirect":return Qa;default:ze(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ja=new nt(2e3,1e4);function eo(e,t,n){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),He(t,n,Xn),a=Wa(i,r),o=new oo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t,n){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He((i=K(t)).auth,n,Xn),a=Wa(i.auth,r),o=new oo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t,n){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He((i=K(t)).auth,n,Xn),a=Wa(i.auth,r),o=new oo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oo=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o){var u;return(0,c.Z)(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,m.Z)(u),u}return(0,l.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ke(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(1===this.filter.length,"Popup operations only handle one event"),t=Qi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(qe(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(qe(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(qe(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ja.get())}()}}]),n}(Xa);oo.currentPopupAction=null;var uo=new Map,so=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,c.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,l.Z)(n,[{key:"execute",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=uo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,co(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Se((0,k.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:uo.set(this.auth._key(),t);case 21:return this.bypassAuthState||uo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,p.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Se((0,k.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Se((0,k.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Xa);function co(e,t){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(n),i=po(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",po(t)._set(vo(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(e){return $e(e._redirectPersistence)}function vo(e){return Kt("pendingRedirect",e.config.apiKey,e.name)}function mo(e,t,n){return function(e,t,n){return yo.apply(this,arguments)}(e,t,n)}function yo(){return(yo=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ln(t),He(t,n,Xn),a=Wa(i,r),e.next=5,fo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t,n){return function(e,t,n){return ko.apply(this,arguments)}(e,t,n)}function ko(){return(ko=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He((i=K(t)).auth,n,Xn),a=Wa(i.auth,r),e.next=5,fo(a,i.auth);case 5:return e.next=7,To(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t,n){return function(e,t,n){return wo.apply(this,arguments)}(e,t,n)}function wo(){return(wo=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He((i=K(t)).auth,n,Xn),a=Wa(i.auth,r),e.next=5,br(!1,i,n.providerId);case 5:return e.next=7,fo(a,i.auth);case 7:return e.next=9,To(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t)._initializationPromise;case 2:return e.abrupt("return",_o(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){return Io.apply(this,arguments)}function Io(){return Io=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ln(t),a=Wa(i,n),o=new so(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function To(e){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qi("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Co=function(){function e(t){(0,c.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,l.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ao(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ao(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qe(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(No(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function No(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ao(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Oo(e){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,p.Z)(h().mark((function e(t){var n,r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",st(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}var Zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;function Do(){return(Do=(0,p.Z)(h().mark((function e(t){var n,r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oo(t);case 4:n=e.sent,r=n.authorizedDomains,i=u(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Lo(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ze(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Lo(e){var t=Je(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Po.test(r))return!1;if(Zo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Mo=new nt(3e4,6e4);function Fo(){var e=$i().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,d.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Uo=null;function jo(e){return Uo=Uo||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fo(),n(qe(e,"network-request-failed"))},timeout:Mo.get()})}if(null===(i=null===(r=$i().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=$i().gapi)||void 0===a?void 0:a.load)){var u=ba("iframefcb");return $i()[u]=function(){gapi.load?o():n(qe(e,"network-request-failed"))},ka("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Uo=null,e}))}(e),Uo}var Vo=new nt(5e3,15e3),zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bo(e){var t=e.config;Ke(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?rt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ee},i=qo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(z(r).slice(1))}function Ho(e){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t);case 2:return n=e.sent,Ke(r=$i().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zo,dontclear:!0},(function(e){return new Promise(function(){var n=(0,p.Z)(h().mark((function n(r,i){var a,o,u;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){$i().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=qe(t,"network-request-failed"),o=$i().setTimeout((function(){i(a)}),Vo.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Go="_blank",Qo="http://localhost",Yo=function(){function e(t){(0,c.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,l.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ko),{width:r.toString(),height:i.toString(),top:a,left:o}),c=A().toLowerCase();n&&(u=Xt(c)?Go:n),Yt(c)&&(t=t||Qo,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,v.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(an(c)&&"_self"!==u)return Xo(t||"",u),new Yo(null);var f=window.open(t||"",u,l);Ke(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Yo(f)}function Xo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jo="__/auth/handler",eu="emulator/auth/handler";function tu(e,t,n,r,i,a){Ke(e.config.authDomain,e,"auth-domain-config-required"),Ke(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ee,eventId:i};if(t instanceof Xn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,v.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Jn){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,m=Object.keys(d);p<m.length;p++){var y=m[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jo);return rt(t,eu)}(e),"?").concat(z(d).slice(1))}var nu="webStorageSupport",ru=function(){function e(){(0,c.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wi,this._completeRedirectFn=_o}return(0,l.Z)(e,[{key:"_openPopup",value:function(){var e=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=tu(t,n,r,Je(),i),e.abrupt("return",$o(t,o,Qi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,p.Z)(h().mark((function e(t,n,r,i){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tu(t,n,r,Je(),i),$i().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Qe(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(t);case 2:return n=e.sent,r=new Co(t),n.register("authEvent",(function(e){return Ke(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nu,{type:nu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ze(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Do.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return un()||$t()||rn()}}]),e}(),iu=ru,au=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,l.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return st(e,"POST","/v2/accounts/mfaEnrollment:finalize",ut(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return st(e,"POST","/v2/accounts/mfaSignIn:finalize",ut(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){(0,c.Z)(this,e),this.factorId=t}return(0,l.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ge("unexpected MultiFactorSessionType")}}}]),e}()),ou=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,null,[{key:"assertion",value:function(e){return au._fromCredential(e)}}]),e}();ou.FACTOR_ID="phone";var uu,su="@firebase/auth",cu="0.19.4",lu=function(){function e(t){(0,c.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,l.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e(),t=ge(e,"auth");return t.isInitialized()?t.getImmediate():Xe(e,{popupRedirectResolver:iu,persistence:[va,Bi,Wi]})}uu="Browser",ye(new G("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ke(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ke(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:uu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sn(uu)},r=new cn(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($e);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ye(new G("auth-internal",(function(e){return function(e){return new lu(e)}(ln(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ie(su,cu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uu)),Ie(su,cu,"esm2017");var hu,du="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pu={},vu=vu||{},mu=du||self;function yu(){}function gu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ku(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bu="closure_uid_"+(1e9*Math.random()>>>0),wu=0;function xu(e,t,n){return e.call.apply(e.bind,arguments)}function Eu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _u(e,t,n){return(_u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xu:Eu).apply(null,arguments)}function Iu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tu(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Su(){this.s=this.s,this.o=this.o}var Cu={};Su.prototype.s=!1,Su.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,bu)&&e[bu]||(e[bu]=++wu)}(this);delete Cu[e]}},Su.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Au=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ou(e){return Array.prototype.concat.apply([],arguments)}function Ru(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zu(e){return/^[\s\xa0]*$/.test(e)}var Pu,Du=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lu(e,t){return-1!=e.indexOf(t)}function Mu(e,t){return e<t?-1:e>t?1:0}e:{var Fu=mu.navigator;if(Fu){var Uu=Fu.userAgent;if(Uu){Pu=Uu;break e}}Pu=""}function ju(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vu(e){var t={};for(var n in e)t[n]=e[n];return t}var zu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zu.length;a++)n=zu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bu(e){return Bu[" "](e),e}Bu[" "]=yu;var Hu,Wu=Lu(Pu,"Opera"),Ku=Lu(Pu,"Trident")||Lu(Pu,"MSIE"),Gu=Lu(Pu,"Edge"),Qu=Gu||Ku,Yu=Lu(Pu,"Gecko")&&!(Lu(Pu.toLowerCase(),"webkit")&&!Lu(Pu,"Edge"))&&!(Lu(Pu,"Trident")||Lu(Pu,"MSIE"))&&!Lu(Pu,"Edge"),$u=Lu(Pu.toLowerCase(),"webkit")&&!Lu(Pu,"Edge");function Xu(){var e=mu.document;return e?e.documentMode:void 0}e:{var Ju="",es=function(){var e=Pu;return Yu?/rv:([^\);]+)(\)|;)/.exec(e):Gu?/Edge\/([\d\.]+)/.exec(e):Ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$u?/WebKit\/(\S+)/.exec(e):Wu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(es&&(Ju=es?es[1]:""),Ku){var ts=Xu();if(null!=ts&&ts>parseFloat(Ju)){Hu=String(ts);break e}}Hu=Ju}var ns,rs={};function is(){return function(e){var t=rs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Du(String(Hu)).split("."),n=Du("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mu(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mu(0==a[2].length,0==o[2].length)||Mu(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mu.document&&Ku){var as=Xu();ns=as||(parseInt(Hu,10)||void 0)}else ns=void 0;var os=ns,us=function(){if(!mu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mu.addEventListener("test",yu,t),mu.removeEventListener("test",yu,t)}catch(n){}return e}();function ss(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function cs(e,t){if(ss.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yu){e:{try{Bu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ls[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cs.Z.h.call(this)}}ss.prototype.h=function(){this.defaultPrevented=!0},Tu(cs,ss);var ls={2:"touch",3:"pen",4:"mouse"};cs.prototype.h=function(){cs.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fs="closure_listenable_"+(1e6*Math.random()|0),hs=0;function ds(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hs,this.ca=this.fa=!1}function ps(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vs(e){this.src=e,this.g={},this.h=0}function ms(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ps(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ys(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}vs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ys(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ds(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var gs="closure_lm_"+(1e6*Math.random()|0),ks={};function bs(e,t,n,r,i){if(r&&r.once)return xs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bs(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[fs]?e.N(t,n,ku(r)?!!r.capture:!!r,i):ws(e,t,n,!1,r,i)}function ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ku(i)?!!i.capture:!!i,u=Ss(e);if(u||(e[gs]=u=new vs(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ts;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)us||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Is(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xs(e,t[a],n,r,i);return null}return n=Ns(n),e&&e[fs]?e.O(t,n,ku(r)?!!r.capture:!!r,i):ws(e,t,n,!0,r,i)}function Es(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Es(e,t[a],n,r,i);else r=ku(r)?!!r.capture:!!r,n=Ns(n),e&&e[fs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ys(a=e.g[t],n,r,i))&&(ps(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ss(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ys(t,n,r,i)),(n=-1<e?t[e]:null)&&_s(n))}function _s(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fs])ms(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Is(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ss(t))?(ms(n,e),0==n.h&&(n.src=null,t[gs]=null)):ps(e)}}}function Is(e){return e in ks?ks[e]:ks[e]="on"+e}function Ts(e,t){if(e.ca)e=!0;else{t=new cs(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_s(e),e=n.call(r,t)}return e}function Ss(e){return(e=e[gs])instanceof vs?e:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ns(e){return"function"===typeof e?e:(e[Cs]||(e[Cs]=function(t){return e.handleEvent(t)}),e[Cs])}function As(){Su.call(this),this.i=new vs(this),this.P=this,this.I=null}function Os(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ss(t,e);else if(t instanceof ss)t.target=t.target||e;else{var i=t;qu(t=new ss(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rs(o,r,!0,t)&&i}if(i=Rs(o=t.g=e,r,!0,t)&&i,i=Rs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rs(o=t.g=n[a],r,!1,t)&&i}function Rs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ms(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Tu(As,Su),As.prototype[fs]=!0,As.prototype.removeEventListener=function(e,t,n,r){Es(this,e,t,n,r)},As.prototype.M=function(){if(As.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ps(n[r]);delete t.g[e],t.h--}}this.I=null},As.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},As.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zs=mu.JSON.stringify;function Ps(){var e=zs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ds,Ls=function(){function e(){(0,c.Z)(this,e),this.h=this.g=null}return(0,l.Z)(e,[{key:"add",value:function(e,t){var n=Ms.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ms=new(function(){function e(t,n){(0,c.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,l.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fs}),(function(e){return e.reset()})),Fs=function(){function e(){(0,c.Z)(this,e),this.next=this.g=this.h=null}return(0,l.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Us(e){mu.setTimeout((function(){throw e}),0)}function js(e,t){Ds||function(){var e=mu.Promise.resolve(void 0);Ds=function(){e.then(qs)}}(),Vs||(Ds(),Vs=!0),zs.add(e,t)}var Vs=!1,zs=new Ls;function qs(){for(var e;e=Ps();){try{e.h.call(e.g)}catch(n){Us(n)}var t=Ms;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vs=!1}function Bs(e,t){As.call(this),this.h=e||1,this.g=t||mu,this.j=_u(this.kb,this),this.l=Date.now()}function Hs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ws(e,t,n){if("function"===typeof e)n&&(e=_u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_u(e.handleEvent,e)}return 2147483647<Number(t)?-1:mu.setTimeout(e,t||0)}function Ks(e){e.g=Ws((function(){e.g=null,e.i&&(e.i=!1,Ks(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Tu(Bs,As),(hu=Bs.prototype).da=!1,hu.S=null,hu.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Os(this,"tick"),this.da&&(Hs(this),this.start()))}},hu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hu.M=function(){Bs.Z.M.call(this),Hs(this),delete this.g};var Gs=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,l.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ks(this)}},{key:"M",value:function(){Se((0,k.Z)(n.prototype),"M",this).call(this),this.g&&(mu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Su);function Qs(e){Su.call(this),this.h=e,this.g={}}Tu(Qs,Su);var Ys=[];function $s(e,t,n,r){Array.isArray(n)||(n&&(Ys[0]=n.toString()),n=Ys);for(var i=0;i<n.length;i++){var a=bs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xs(e){ju(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_s(e)}),e),e.g={}}function Js(){this.g=!0}function ec(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zs(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Qs.prototype.M=function(){Qs.Z.M.call(this),Xs(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.Aa=function(){this.g=!1},Js.prototype.info=function(){};var tc={},nc=null;function rc(){return nc=nc||new As}function ic(e){ss.call(this,tc.Ma,e)}function ac(e){var t=rc();Os(t,new ic(t,e))}function oc(e,t){ss.call(this,tc.STAT_EVENT,e),this.stat=t}function uc(e){var t=rc();Os(t,new oc(t,e))}function sc(e,t){ss.call(this,tc.Na,e),this.size=t}function cc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mu.setTimeout((function(){e()}),t)}tc.Ma="serverreachability",Tu(ic,ss),tc.STAT_EVENT="statevent",Tu(oc,ss),tc.Na="timingevent",Tu(sc,ss);var lc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hc(){}function dc(e){return e.h||(e.h=e.i())}function pc(){}hc.prototype.h=null;var vc,mc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yc(){ss.call(this,"d")}function gc(){ss.call(this,"c")}function kc(){}function bc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qs(this),this.P=xc,e=Qu?125:void 0,this.W=new Bs(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}Tu(yc,ss),Tu(gc,ss),Tu(kc,hc),kc.prototype.g=function(){return new XMLHttpRequest},kc.prototype.i=function(){return{}},vc=new kc;var xc=45e3,Ec={},_c={};function Ic(e,t,n){e.K=1,e.v=Gc(zc(t)),e.s=n,e.U=!0,Tc(e,null)}function Tc(e,t){e.F=Date.now(),Ac(e),e.A=zc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ul(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wc,e.g=lf(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gs(_u(e.Ia,e,e.g),e.O)),$s(e.V,e.g,"readystatechange",e.gb),t=e.H?Vu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ac(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Sc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nc(e,n))==_c){4==t&&(e.o=4,uc(14),i=!1),ec(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ec){e.o=4,uc(15),ec(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ec(e.j,e.m,r,null),Dc(e,r)}Sc(e)&&r!=_c&&r!=Ec&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,uc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),tf(t),t.L=!0,uc(11))):(ec(e.j,e.m,n,"[Invalid Chunked Response]"),Pc(e),Zc(e))}function Nc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_c:(n=Number(t.substring(n,r)),isNaN(n)?Ec:(r+=1)+n>t.length?_c:(t=t.substr(r,n),e.C=r+n,t))}function Ac(e){e.Y=Date.now()+e.P,Oc(e,e.P)}function Oc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=cc(_u(e.eb,e),t)}function Rc(e){e.B&&(mu.clearTimeout(e.B),e.B=null)}function Zc(e){0==e.l.G||e.I||af(e.l,e)}function Pc(e){Rc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hs(e.W),Xs(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vl(n.i,e)))if(n.I=e.N,!e.J&&vl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rf(n),Wl(n)}ef(n),uc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=cc(_u(n.ab,n),6e3));if(1>=pl(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else uf(n,11)}else if((e.J||n.g==e)&&rf(n),!Zu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Lu(l,"spdy")||Lu(l,"quic")||Lu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ml(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=cf(r,r.H?r.la:null,r.W),d.J){yl(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rc(p),Ac(p)),r.g=d}else Jl(r);0<n.l.length&&Ql(n)}else"stop"!=a[0]&&"close"!=a[0]||uf(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uf(n,7):Hl(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ac(4)}catch(a){}}function Lc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gu(e)||"string"===typeof e)Au(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gu(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(gu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Uc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Uc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Uc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(hu=bc.prototype).setTimeout=function(e){this.P=e},hu.gb=function(e){e=e.target;var t=this.L;t&&3==jl(e)?t.l():this.Ia(e)},hu.Ia=function(e){try{if(e==this.g)e:{var t=jl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Qu||this.g&&(this.h.h||this.g.ga()||Vl(this.g)))){this.I||4!=t||7==n||ac(8==n||0>=r?3:2),Rc(this);var i=this.g.ba();this.N=i;t:if(Sc(this)){var a=Vl(this.g);e="";var o=a.length,u=4==jl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pc(this),Zc(this);var s="";break t}this.h.i=new mu.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zu(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,uc(12),Pc(this),Zc(this);break e}ec(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dc(this,i)}this.U?(Cc(this,t,s),Qu&&this.i&&3==t&&($s(this.V,this.W,"tick",this.fb),this.W.start())):(ec(this.j,this.m,s,null),Dc(this,s)),4==t&&Pc(this),this.i&&!this.I&&(4==t?af(this.l,this):(this.i=!1,Ac(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,uc(12)):(this.o=0,uc(13)),Pc(this),Zc(this)}}}catch(t){}},hu.fb=function(){if(this.g){var e=jl(this.g),t=this.g.ga();this.C<t.length&&(Rc(this),Cc(this,e,t),this.i&&4!=e&&Ac(this))}},hu.cancel=function(){this.I=!0,Pc(this)},hu.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ac(3),uc(17)),Pc(this),this.o=2,Zc(this)):Oc(this,this.Y-e)},(hu=Mc.prototype).R=function(){Fc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},hu.T=function(){return Fc(this),this.g.concat()},hu.get=function(e,t){return Uc(this.h,e)?this.h[e]:t},hu.set=function(e,t){Uc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},hu.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var jc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vc){this.g=void 0!==t?t:e.g,qc(this,e.j),this.s=e.s,Bc(this,e.i),Hc(this,e.m),this.l=e.l,t=e.h;var n=new rl;n.i=t.i,t.g&&(n.g=new Mc(t.g),n.h=t.h),Wc(this,n),this.o=e.o}else e&&(n=String(e).match(jc))?(this.g=!!t,qc(this,n[1]||"",!0),this.s=Qc(n[2]||""),Bc(this,n[3]||"",!0),Hc(this,n[4]),this.l=Qc(n[5]||"",!0),Wc(this,n[6]||"",!0),this.o=Qc(n[7]||"")):(this.g=!!t,this.h=new rl(null,this.g))}function zc(e){return new Vc(e)}function qc(e,t,n){e.j=n?Qc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bc(e,t,n){e.i=n?Qc(t,!0):t}function Hc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wc(e,t,n){t instanceof rl?(e.h=t,function(e,t){t&&!e.j&&(il(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(al(this,t),ul(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Yc(t,tl)),e.h=new rl(t,e.g))}function Kc(e,t,n){e.h.set(t,n)}function Gc(e){return Kc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$c),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $c(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yc(t,Xc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yc(t,Xc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yc(n,"/"==n.charAt(0)?el:Jc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yc(n,nl)),e.join("")};var Xc=/[#\/\?@]/g,Jc=/[#\?:]/g,el=/[#\?]/g,tl=/[#\?@]/g,nl=/#/g;function rl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function il(e){e.g||(e.g=new Mc,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function al(e,t){il(e),t=sl(e,t),Uc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Uc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fc(e)))}function ol(e,t){return il(e),t=sl(e,t),Uc(e.g.h,t)}function ul(e,t,n){al(e,t),0<n.length&&(e.i=null,e.g.set(sl(e,t),Ru(n)),e.h+=n.length)}function sl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hu=rl.prototype).add=function(e,t){il(this),this.i=null,e=sl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hu.forEach=function(e,t){il(this),this.g.forEach((function(n,r){Au(n,(function(n){e.call(t,n,r,this)}),this)}),this)},hu.T=function(){il(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hu.R=function(e){il(this);var t=[];if("string"===typeof e)ol(this,e)&&(t=Ou(t,this.g.get(sl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ou(t,e[n])}return t},hu.set=function(e,t){return il(this),this.i=null,ol(this,e=sl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hu.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},hu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var cl=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.h=t,this.g=n}));function ll(e){this.l=e||hl,mu.PerformanceNavigationTiming?e=0<(e=mu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mu.g&&mu.g.Ea&&mu.g.Ea()&&mu.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fl,hl=10;function dl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pl(e){return e.h?1:e.g?e.g.size:0}function vl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ml(e,t){e.g?e.g.add(t):e.h=t}function yl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=u(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ru(e.i)}function kl(){}function bl(){this.g=new kl}function wl(e,t,n){var r=n||"";try{Lc(e,(function(e,n){var i=e;ku(e)&&(i=Zs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function El(e){this.l=e.$b||null,this.j=e.ib||!1}function _l(e,t){As.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Il,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ll.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=u(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},kl.prototype.stringify=function(e){return mu.JSON.stringify(e,void 0)},kl.prototype.parse=function(e){return mu.JSON.parse(e,void 0)},Tu(El,hc),El.prototype.g=function(){return new _l(this.l,this.j)},El.prototype.i=(fl={},function(){return fl}),Tu(_l,As);var Il=0;function Tl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cl(e)}function Cl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hu=_l.prototype).open=function(e,t){if(this.readyState!=Il)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cl(this)},hu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},hu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sl(this)),this.readyState=Il},hu.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof mu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},hu.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sl(this):Cl(this),3==this.readyState&&Tl(this)}},hu.Ua=function(e){this.g&&(this.response=this.responseText=e,Sl(this))},hu.Ta=function(e){this.g&&(this.response=e,Sl(this))},hu.ha=function(){this.g&&Sl(this)},hu.setRequestHeader=function(e,t){this.v.append(e,t)},hu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nl=mu.JSON.parse;function Al(e){As.call(this),this.headers=new Mc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ol,this.K=this.L=!1}Tu(Al,As);var Ol="",Rl=/^https?$/i,Zl=["POST","PUT"];function Pl(e){return"content-type"==e.toLowerCase()}function Dl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ll(e),Fl(e)}function Ll(e){e.D||(e.D=!0,Os(e,"complete"),Os(e,"error"))}function Ml(e){if(e.h&&"undefined"!=typeof vu&&(!e.C[1]||4!=jl(e)||2!=e.ba()))if(e.v&&4==jl(e))Ws(e.Fa,0,e);else if(Os(e,"readystatechange"),4==jl(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(jc)[1]||null;if(!a&&mu.self&&mu.self.location){var o=mu.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rl.test(a?a.toLowerCase():"")}t=i}if(t)Os(e,"complete"),Os(e,"success");else{e.m=6;try{var u=2<jl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ll(e)}}finally{Fl(e)}}}function Fl(e,t){if(e.g){Ul(e);var n=e.g,r=e.C[0]?yu:null;e.g=null,e.C=null,t||Os(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ul(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mu.clearTimeout(e.A),e.A=null)}function jl(e){return e.g?e.g.readyState:0}function Vl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ol:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ju(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kc(e,t,n))}function ql(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bl(e){this.za=0,this.l=[],this.h=new Js,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ql("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ql("baseRetryDelayMs",5e3,e),this.$a=ql("retryDelaySeedMs",1e4,e),this.Ya=ql("forwardChannelMaxRetries",2,e),this.ra=ql("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ll(e&&e.concurrentRequestLimit),this.Ca=new bl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Hl(e){if(Kl(e),3==e.G){var t=e.V++,n=zc(e.F);Kc(n,"SID",e.J),Kc(n,"RID",t),Kc(n,"TYPE","terminate"),$l(e,n),(t=new bc(e,e.h,t,void 0)).K=2,t.v=Gc(zc(n)),n=!1,mu.navigator&&mu.navigator.sendBeacon&&(n=mu.navigator.sendBeacon(t.v.toString(),"")),!n&&mu.Image&&((new Image).src=t.v,n=!0),n||(t.g=lf(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ac(t)}sf(e)}function Wl(e){e.g&&(tf(e),e.g.cancel(),e.g=null)}function Kl(e){Wl(e),e.u&&(mu.clearTimeout(e.u),e.u=null),rf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mu.clearTimeout(e.m),e.m=null)}function Gl(e,t){e.l.push(new cl(e.Za++,t)),3==e.G&&Ql(e)}function Ql(e){dl(e.i)||e.m||(e.m=!0,js(e.Ha,e),e.C=0)}function Yl(e,t){var n;n=t?t.m:e.V++;var r=zc(e.F);Kc(r,"SID",e.J),Kc(r,"RID",n),Kc(r,"AID",e.U),$l(e,r),e.o&&e.s&&zl(r,e.o,e.s),n=new bc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ml(e.i,n),Ic(n,r,t)}function $l(e,t){e.j&&Lc({},(function(e,n){Kc(t,n,e)}))}function Xl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_u(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{wl(l,o,"req"+c+"_")}catch(Bf){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Jl(e){e.g||e.u||(e.Y=1,js(e.Ga,e),e.A=0)}function ef(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=cc(_u(e.Ga,e),of(e,e.A)),e.A++,!0)}function tf(e){null!=e.B&&(mu.clearTimeout(e.B),e.B=null)}function nf(e){e.g=new bc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zc(e.oa);Kc(t,"RID","rpc"),Kc(t,"SID",e.J),Kc(t,"CI",e.N?"0":"1"),Kc(t,"AID",e.U),$l(e,t),Kc(t,"TYPE","xmlhttp"),e.o&&e.s&&zl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gc(zc(t)),n.s=null,n.U=!0,Tc(n,e)}function rf(e){null!=e.v&&(mu.clearTimeout(e.v),e.v=null)}function af(e,t){var n=null;if(e.g==t){rf(e),tf(e),e.g=null;var r=2}else{if(!vl(e.i,t))return;n=t.D,yl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Os(r=rc(),new sc(r,n,t,i)),Ql(e)}else Jl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(pl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=cc(_u(e.Ha,e,t),of(e,e.C)),e.C++,!0))}(e,t)||2==r&&ef(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uf(e,5);break;case 4:uf(e,10);break;case 3:uf(e,6);break;default:uf(e,2)}}function of(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function uf(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_u(e.jb,e);n||(n=new Vc("//www.google.com/images/cleardot.gif"),mu.location&&"http"==mu.location.protocol||qc(n,"https"),Gc(n)),function(e,t){var n=new Js;if(mu.Image){var r=new Image;r.onload=Iu(xl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Iu(xl,n,r,"TestLoadImage: error",!1,t),r.onabort=Iu(xl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Iu(xl,n,r,"TestLoadImage: timeout",!1,t),mu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else uc(2);e.G=0,e.j&&e.j.va(t),sf(e),Kl(e)}function sf(e){e.G=0,e.I=-1,e.j&&(0==gl(e.i).length&&0==e.l.length||(e.i.i.length=0,Ru(e.l),e.l.length=0),e.j.ua())}function cf(e,t,n){var r=function(e){return e instanceof Vc?zc(e):new Vc(e,void 0)}(n);if(""!=r.i)t&&Bc(r,t+"."+r.i),Hc(r,r.m);else{var i=mu.location;r=function(e,t,n,r){var i=new Vc(null,void 0);return e&&qc(i,e),t&&Bc(i,t),n&&Hc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ju(e.aa,(function(e,t){Kc(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kc(r,t,n),Kc(r,"VER",e.ma),$l(e,r),r}function lf(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Al(new El({ib:!0})):new Al(e.qa)).L=e.H,t}function ff(){}function hf(){if(Ku&&!(10<=Number(os)))throw Error("Environmental error: no available transport.")}function df(e,t){As.call(this),this.g=new Bl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mf(this)}function pf(e){yc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vf(){gc.call(this),this.status=1}function mf(e){this.g=e}(hu=Al.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vc.g(),this.C=this.u?dc(this.u):dc(vc),this.g.onreadystatechange=_u(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Dl(this,a)}e=n||"";var i=new Mc(this.headers);r&&Lc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pl,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=mu.FormData&&e instanceof mu.FormData,!(0<=Nu(Zl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ul(this),0<this.B&&((this.K=function(e){return Ku&&is()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_u(this.pa,this)):this.A=Ws(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dl(this,a)}},hu.pa=function(){"undefined"!=typeof vu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Os(this,"timeout"),this.abort(8))},hu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Os(this,"complete"),Os(this,"abort"),Fl(this))},hu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fl(this,!0)),Al.Z.M.call(this)},hu.Fa=function(){this.s||(this.F||this.v||this.l?Ml(this):this.cb())},hu.cb=function(){Ml(this)},hu.ba=function(){try{return 2<jl(this)?this.g.status:-1}catch(fl){return-1}},hu.ga=function(){try{return this.g?this.g.responseText:""}catch(fl){return""}},hu.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nl(t)}},hu.Da=function(){return this.m},hu.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(hu=Bl.prototype).ma=8,hu.G=1,hu.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},hu.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new bc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?qu(n=Vu(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xl(this,t,r),Kc(i=zc(this.F),"RID",e),Kc(i,"CVER",22),this.D&&Kc(i,"X-HTTP-Session-Id",this.D),$l(this,i),this.o&&n&&zl(i,this.o,n),ml(this.i,t),this.Ra&&Kc(i,"TYPE","init"),this.ja?(Kc(i,"$req",r),Kc(i,"SID","null"),t.$=!0,Ic(t,i,null)):Ic(t,i,r),this.G=2}}else 3==this.G&&(e?Yl(this,e):0==this.l.length||dl(this.i)||Yl(this))},hu.Ga=function(){if(this.u=null,nf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cc(_u(this.bb,this),e)}},hu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,uc(10),Wl(this),nf(this))},hu.ab=function(){null!=this.v&&(this.v=null,Wl(this),ef(this),uc(19))},hu.jb=function(e){e?(this.h.info("Successfully pinged google.com"),uc(2)):(this.h.info("Failed to ping google.com"),uc(1))},(hu=ff.prototype).xa=function(){},hu.wa=function(){},hu.va=function(){},hu.ua=function(){},hu.Oa=function(){},hf.prototype.g=function(e,t){return new df(e,t)},Tu(df,As),df.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),js(_u(e.hb,e,t))),uc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=cf(e,null,e.W),Ql(e)},df.prototype.close=function(){Hl(this.g)},df.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gl(this.g,t)}else this.v?((t={}).__data__=Zs(e),Gl(this.g,t)):Gl(this.g,e)},df.prototype.M=function(){this.g.j=null,delete this.j,Hl(this.g),delete this.g,df.Z.M.call(this)},Tu(pf,yc),Tu(vf,gc),Tu(mf,ff),mf.prototype.xa=function(){Os(this.g,"a")},mf.prototype.wa=function(e){Os(this.g,new pf(e))},mf.prototype.va=function(e){Os(this.g,new vf(e))},mf.prototype.ua=function(){Os(this.g,"b")},hf.prototype.createWebChannel=hf.prototype.g,df.prototype.send=df.prototype.u,df.prototype.open=df.prototype.m,df.prototype.close=df.prototype.close,lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,fc.COMPLETE="complete",pc.EventType=mc,mc.OPEN="a",mc.CLOSE="b",mc.ERROR="c",mc.MESSAGE="d",As.prototype.listen=As.prototype.N,Al.prototype.listenOnce=Al.prototype.O,Al.prototype.getLastError=Al.prototype.La,Al.prototype.getLastErrorCode=Al.prototype.Da,Al.prototype.getStatus=Al.prototype.ba,Al.prototype.getResponseJson=Al.prototype.Qa,Al.prototype.getResponseText=Al.prototype.ga,Al.prototype.send=Al.prototype.ea;var yf=pu.createWebChannelTransport=function(){return new hf},gf=pu.getStatEventTarget=function(){return rc()},kf=pu.ErrorCode=lc,bf=pu.EventType=fc,wf=pu.Event=tc,xf=pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ef=pu.FetchXmlHttpFactory=El,_f=pu.WebChannel=pc,If=pu.XhrIo=Al,Tf="@firebase/firestore",Sf=function(){function e(t){(0,c.Z)(this,e),this.uid=t}return(0,l.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Sf.UNAUTHENTICATED=new Sf(null),Sf.GOOGLE_CREDENTIALS=new Sf("google-credentials-uid"),Sf.FIRST_PARTY=new Sf("first-party-uid"),Sf.MOCK_USER=new Sf("mock-user");var Cf="9.6.1",Nf=new ue("@firebase/firestore");function Af(){return Nf.logLevel}function Of(e){Nf.setLogLevel(e)}function Rf(e){if(Nf.logLevel<=X.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Df);Nf.debug.apply(Nf,["Firestore (".concat(Cf,"): ").concat(e)].concat((0,d.Z)(i)))}}function Zf(e){if(Nf.logLevel<=X.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Df);Nf.error.apply(Nf,["Firestore (".concat(Cf,"): ").concat(e)].concat((0,d.Z)(i)))}}function Pf(e){if(Nf.logLevel<=X.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Df);Nf.warn.apply(Nf,["Firestore (".concat(Cf,"): ").concat(e)].concat((0,d.Z)(i)))}}function Df(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cf,") INTERNAL ASSERTION FAILED: ")+e;throw Zf(t),new Error(t)}function Mf(e,t){e||Lf()}function Ff(e,t){e||Lf()}function Uf(e,t){return e}var jf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vf=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,l.Z)(n)}(E(Error)),zf=(0,l.Z)((function e(){var t=this;(0,c.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),qf=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bf=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hf=function(){function e(t){(0,c.Z)(this,e),this.token=t,this.changeListener=null}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wf=function(){function e(t){(0,c.Z)(this,e),this.t=t,this.currentUser=Sf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,l.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new zf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new zf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Rf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Rf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Rf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mf("string"==typeof n.accessToken),new qf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mf(null===e||"string"==typeof e),new Sf(e)}}]),e}(),Kf=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.type="FirstParty",this.user=Sf.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gf=function(){function e(t,n,r){(0,c.Z)(this,e),this.h=t,this.l=n,this.m=r}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Kf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Sf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qf=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Yf=function(){function e(t){(0,c.Z)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return(0,l.Z)(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Rf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Rf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Rf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Mf("string"==typeof e.token),new Qf(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),$f=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Qf(""))}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),Xf=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return(0,l.Z)(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Jf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Xf.I=-1;var eh=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Jf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function th(e,t){return e<t?-1:e>t?1:0}function nh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function rh(e){return e+"\0"}var ih=function(){function e(t,n){if((0,c.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vf(jf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vf(jf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vf(jf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vf(jf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,l.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?th(this.nanoseconds,e.nanoseconds):th(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ah=function(){function e(t){(0,c.Z)(this,e),this.timestamp=t}return(0,l.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ih(0,0))}}]),e}();function oh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ch=function(){function e(t,n,r){(0,c.Z)(this,e),void 0===n?n=0:n>t.length&&Lf(),void 0===r?r=t.length-n:r>t.length-n&&Lf(),this.segments=t,this.offset=n,this.len=r}return(0,l.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lh=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Vf(jf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,d.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ch),fh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hh=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vf(jf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Vf(jf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Vf(jf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Vf(jf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ch),dh=function(){function e(t){(0,c.Z)(this,e),this.fields=t,t.sort(hh.comparator)}return(0,l.Z)(e,[{key:"covers",value:function(e){var t,n=u(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return nh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();function ph(){return"undefined"!=typeof atob}var vh=function(){function e(t){(0,c.Z)(this,e),this.binaryString=t}return(0,l.Z)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return th(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();vh.EMPTY_BYTE_STRING=new vh("");var mh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yh(e){if(Mf(!!e),"string"==typeof e){var t=0,n=mh.exec(e);if(Mf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gh(e.seconds),nanos:gh(e.nanos)}}function gh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kh(e){return"string"==typeof e?vh.fromBase64String(e):vh.fromUint8Array(e)}function bh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wh(e){var t=e.mapValue.fields.__previous_value__;return bh(t)?wh(t):t}function xh(e){var t=yh(e.mapValue.fields.__local_write_time__.timestampValue);return new ih(t.seconds,t.nanos)}function Eh(e){return null==e}function _h(e){return 0===e&&1/e==-1/0}function Ih(e){return"number"==typeof e&&Number.isInteger(e)&&!_h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Th=function(){function e(t){(0,c.Z)(this,e),this.path=t}return(0,l.Z)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===lh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lh.fromString(t))}},{key:"fromName",value:function(t){return new e(lh.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return lh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lh(t.slice()))}}]),e}();function Sh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bh(e)?4:10:Lf()}function Ch(e,t){var n=Sh(e);if(n!==Sh(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xh(e).isEqual(xh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=yh(e.timestampValue),r=yh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kh(e.bytesValue).isEqual(kh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gh(e.geoPointValue.latitude)===gh(t.geoPointValue.latitude)&&gh(e.geoPointValue.longitude)===gh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gh(e.integerValue)===gh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=gh(e.doubleValue),r=gh(t.doubleValue);return n===r?_h(n)===_h(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nh(e.arrayValue.values||[],t.arrayValue.values||[],Ch);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oh(n)!==oh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ch(n[i],r[i])))return!1;return!0}(e,t);default:return Lf()}}function Nh(e,t){return void 0!==(e.values||[]).find((function(e){return Ch(e,t)}))}function Ah(e,t){var n=Sh(e),r=Sh(t);if(n!==r)return th(n,r);switch(n){case 0:return 0;case 1:return th(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=gh(e.integerValue||e.doubleValue),r=gh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Oh(e.timestampValue,t.timestampValue);case 4:return Oh(xh(e),xh(t));case 5:return th(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kh(e),r=kh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=th(n[i],r[i]);if(0!==a)return a}return th(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=th(gh(e.latitude),gh(t.latitude));return 0!==n?n:th(gh(e.longitude),gh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ah(n[i],r[i]);if(a)return a}return th(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=th(r[o],a[o]);if(0!==u)return u;var s=Ah(n[r[o]],i[a[o]]);if(0!==s)return s}return th(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lf()}}function Oh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return th(e,t);var n=yh(e),r=yh(t),i=th(n.seconds,r.seconds);return 0!==i?i:th(n.nanos,r.nanos)}function Rh(e){return Zh(e)}function Zh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=yh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Th.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=u(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=u(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lf();var t,n}function Ph(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dh(e){return!!e&&"integerValue"in e}function Lh(e){return!!e&&"arrayValue"in e}function Mh(e){return!!e&&"nullValue"in e}function Fh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uh(e){return!!e&&"mapValue"in e}function jh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jh(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Vh=function(){function e(t){(0,c.Z)(this,e),this.value=t}return(0,l.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Uh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jh(t)}},{key:"setAll",value:function(e){var t=this,n=hh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ch(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Uh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uh(t,(function(t,n){return e[t]=n}));var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zh(e){var t=[];return uh(e.fields,(function(e,n){var r=new hh([e]);if(Uh(n)){var i=zh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=u(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new dh(t)}var qh=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return(0,l.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Vh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Vh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ah.min(),Vh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vh.empty(),2)}}]),e}(),Bh=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,c.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Hh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bh(e,t,n,r,i,a,o)}function Wh(e){var t=Uf(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Rh(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ad(t.startAt)),t.endAt&&(n+="|ub:",n+=ad(t.endAt)),t.R=n}return t.R}function Kh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ud(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ch(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cd(e.startAt,t.startAt)&&cd(e.endAt,t.endAt)}function Gh(e){return Th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Qh=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ah(t,this.value)):null!==t&&Sh(this.value)===Sh(t)&&this.v(Ah(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lf()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Yh(e,t,r):"array-contains"===t?new ed(e,r):"in"===t?new td(e,r):"not-in"===t?new nd(e,r):"array-contains-any"===t?new rd(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new $h(e,n):new Xh(e,n)}}]),n}(function(){return(0,l.Z)((function e(){(0,c.Z)(this,e)}))}());var Yh=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,i)).key=Th.fromName(i.referenceValue),a}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=Th.comparator(e.key,this.key);return this.v(t)}}]),n}(Qh),$h=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,"in",r)).keys=Jh("in",r),i}return(0,l.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qh),Xh=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=Jh("not-in",r),i}return(0,l.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qh);function Jh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Th.fromName(e.referenceValue)}))}var ed=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Lh(t)&&Nh(t.arrayValue,this.value)}}]),n}(Qh),td=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"in",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Nh(this.value.arrayValue,t)}}]),n}(Qh),nd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"not-in",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Nh(this.value.arrayValue,t)}}]),n}(Qh),rd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,l.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Nh(t.value.arrayValue,e)}))}}]),n}(Qh),id=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.position=t,this.before=n}));function ad(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Rh(e)})).join(","))}var od=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,c.Z)(this,e),this.field=t,this.dir=n}));function ud(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function sd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Th.comparator(Th.fromName(o.referenceValue),n.key):Ah(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ch(e.position[n],t.position[n]))return!1;return!0}var ld=(0,l.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,c.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function fd(e,t,n,r,i,a,o,u){return new ld(e,t,n,r,i,a,o,u)}function hd(e){return new ld(e)}function dd(e){return!Eh(e.limit)&&"F"===e.limitType}function pd(e){return!Eh(e.limit)&&"L"===e.limitType}function vd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function md(e){var t,n=u(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function yd(e){return null!==e.collectionGroup}function gd(e){var t=Uf(e);if(null===t.S){t.S=[];var n=md(t),r=vd(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new od(n)),t.S.push(new od(hh.keyField(),"asc"));else{var i,a=!1,o=u(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new od(hh.keyField(),c))}}}return t.S}function kd(e){var t=Uf(e);if(!t.D)if("F"===t.limitType)t.D=Hh(t.path,t.collectionGroup,gd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=u(gd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new od(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new id(t.endAt.position,!t.endAt.before):null,c=t.startAt?new id(t.startAt.position,!t.startAt.before):null;t.D=Hh(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.D}function bd(e,t,n){return new ld(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wd(e,t){return Kh(kd(e),kd(t))&&e.limitType===t.limitType}function xd(e){return"".concat(Wh(kd(e)),"|lt:").concat(e.limitType)}function Ed(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Rh(t.value));var t})).join(", "),"]")),Eh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+ad(e.startAt)),e.endAt&&(t+=", endAt: "+ad(e.endAt)),"Target(".concat(t,")")}(kd(e)),"; limitType=").concat(e.limitType,")")}function _d(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Th.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=u(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!sd(e.startAt,gd(e),t))&&(!e.endAt||!sd(e.endAt,gd(e),t))}(e,t)}function Id(e){return function(t,n){var r,i=!1,a=u(gd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Td(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function Td(e,t,n){var r=e.field.isKeyField()?Th.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ah(r,i):Lf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lf()}}function Sd(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function Cd(e){return{integerValue:""+e}}function Nd(e,t){return Ih(t)?Cd(t):Sd(e,t)}var Ad=(0,l.Z)((function e(){(0,c.Z)(this,e),this._=void 0}));function Od(e,t,n){return e instanceof Pd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dd?Ld(e,t):e instanceof Md?Fd(e,t):function(e,t){var n=Zd(e,t),r=jd(n)+jd(e.N);return Dh(n)&&Dh(e.N)?Cd(r):Sd(e.k,r)}(e,t)}function Rd(e,t,n){return e instanceof Dd?Ld(e,t):e instanceof Md?Fd(e,t):n}function Zd(e,t){return e instanceof Ud?Dh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n)}(Ad),Dd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,l.Z)(n)}(Ad);function Ld(e,t){var n,r=Vd(t),i=u(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ch(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Md=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,l.Z)(n)}(Ad);function Fd(e,t){var n,r=Vd(t),i=u(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ch(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ud=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).k=e,i.N=r,i}return(0,l.Z)(n)}(Ad);function jd(e){return gh(e.integerValue||e.doubleValue)}function Vd(e){return Lh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var zd=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.field=t,this.transform=n}));var qd=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.version=t,this.transformResults=n})),Bd=function(){function e(t,n){(0,c.Z)(this,e),this.updateTime=t,this.exists=n}return(0,l.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Hd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Wd=(0,l.Z)((function e(){(0,c.Z)(this,e)}));function Kd(e,t,n){e instanceof Xd?function(e,t,n){var r=e.value.clone(),i=tp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jd?function(e,t,n){if(Hd(e.precondition,t)){var r=tp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ep(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gd(e,t,n){e instanceof Xd?function(e,t,n){if(Hd(e.precondition,t)){var r=e.value.clone(),i=np(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($d(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Jd?function(e,t,n){if(Hd(e.precondition,t)){var r=np(e.fieldTransforms,n,t),i=t.data;i.setAll(ep(e)),i.setAll(r),t.convertToFoundDocument($d(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Hd(e.precondition,t)&&t.convertToNoDocument(ah.min())}(e,t)}function Qd(e,t){var n,r=null,i=u(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Zd(a.transform,o||null);null!=s&&(null==r&&(r=Vh.empty()),r.set(a.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Yd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dd&&t instanceof Dd||e instanceof Md&&t instanceof Md?nh(e.elements,t.elements,Ch):e instanceof Ud&&t instanceof Ud?Ch(e.N,t.N):e instanceof Pd&&t instanceof Pd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $d(e){return e.isFoundDocument()?e.version:ah.min()}var Xd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,c.Z)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,l.Z)(n)}(Wd),Jd=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,c.Z)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,l.Z)(n)}(Wd);function ep(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function tp(e,t,n){var r=new Map;Mf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Rd(o,u,n[i]))}return r}function np(e,t,n){var r,i=new Map,a=u(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);i.set(o.field,Od(s,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var rp,ip,ap=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,l.Z)(n)}(Wd),op=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,l.Z)(n)}(Wd),up=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.count=t}));function sp(e){switch(e){default:return Lf();case jf.CANCELLED:case jf.UNKNOWN:case jf.DEADLINE_EXCEEDED:case jf.RESOURCE_EXHAUSTED:case jf.INTERNAL:case jf.UNAVAILABLE:case jf.UNAUTHENTICATED:return!1;case jf.INVALID_ARGUMENT:case jf.NOT_FOUND:case jf.ALREADY_EXISTS:case jf.PERMISSION_DENIED:case jf.FAILED_PRECONDITION:case jf.ABORTED:case jf.OUT_OF_RANGE:case jf.UNIMPLEMENTED:case jf.DATA_LOSS:return!0}}function cp(e){if(void 0===e)return Zf("GRPC error has no .code"),jf.UNKNOWN;switch(e){case rp.OK:return jf.OK;case rp.CANCELLED:return jf.CANCELLED;case rp.UNKNOWN:return jf.UNKNOWN;case rp.DEADLINE_EXCEEDED:return jf.DEADLINE_EXCEEDED;case rp.RESOURCE_EXHAUSTED:return jf.RESOURCE_EXHAUSTED;case rp.INTERNAL:return jf.INTERNAL;case rp.UNAVAILABLE:return jf.UNAVAILABLE;case rp.UNAUTHENTICATED:return jf.UNAUTHENTICATED;case rp.INVALID_ARGUMENT:return jf.INVALID_ARGUMENT;case rp.NOT_FOUND:return jf.NOT_FOUND;case rp.ALREADY_EXISTS:return jf.ALREADY_EXISTS;case rp.PERMISSION_DENIED:return jf.PERMISSION_DENIED;case rp.FAILED_PRECONDITION:return jf.FAILED_PRECONDITION;case rp.ABORTED:return jf.ABORTED;case rp.OUT_OF_RANGE:return jf.OUT_OF_RANGE;case rp.UNIMPLEMENTED:return jf.UNIMPLEMENTED;case rp.DATA_LOSS:return jf.DATA_LOSS;default:return Lf()}}(ip=rp||(rp={}))[ip.OK=0]="OK",ip[ip.CANCELLED=1]="CANCELLED",ip[ip.UNKNOWN=2]="UNKNOWN",ip[ip.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ip[ip.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ip[ip.NOT_FOUND=5]="NOT_FOUND",ip[ip.ALREADY_EXISTS=6]="ALREADY_EXISTS",ip[ip.PERMISSION_DENIED=7]="PERMISSION_DENIED",ip[ip.UNAUTHENTICATED=16]="UNAUTHENTICATED",ip[ip.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ip[ip.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ip[ip.ABORTED=10]="ABORTED",ip[ip.OUT_OF_RANGE=11]="OUT_OF_RANGE",ip[ip.UNIMPLEMENTED=12]="UNIMPLEMENTED",ip[ip.INTERNAL=13]="INTERNAL",ip[ip.UNAVAILABLE=14]="UNAVAILABLE",ip[ip.DATA_LOSS=15]="DATA_LOSS";var lp=function(){function e(t,n){(0,c.Z)(this,e),this.comparator=t,this.root=n||hp.EMPTY}return(0,l.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fp(this.root,e,this.comparator,!0)}}]),e}(),fp=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,l.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hp=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,l.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lf();if(this.right.isRed())throw Lf();var e=this.left.check();if(e!==this.right.check())throw Lf();return e+(this.isRed()?0:1)}}]),e}();hp.EMPTY=null,hp.RED=!0,hp.BLACK=!1,hp.EMPTY=new(function(){function e(){(0,c.Z)(this,e),this.size=0}return(0,l.Z)(e,[{key:"key",get:function(){throw Lf()}},{key:"value",get:function(){throw Lf()}},{key:"color",get:function(){throw Lf()}},{key:"left",get:function(){throw Lf()}},{key:"right",get:function(){throw Lf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var dp=function(){function e(t){(0,c.Z)(this,e),this.comparator=t,this.data=new lp(this.comparator)}return(0,l.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new pp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new pp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),pp=function(){function e(t){(0,c.Z)(this,e),this.iter=t}return(0,l.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),vp=new lp(Th.comparator);function mp(){return vp}var yp=new lp(Th.comparator);function gp(){return yp}var kp=new lp(Th.comparator);function bp(){return kp}var wp=new dp(Th.comparator);function xp(){for(var e=wp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ep=new dp(th);function _p(){return Ep}var Ip=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,l.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Tp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ah.min(),r,_p(),mp(),xp())}}]),e}(),Tp=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,l.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(vh.EMPTY_BYTE_STRING,n,xp(),xp(),xp())}}]),e}(),Sp=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Cp=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.targetId=t,this.O=n})),Np=(0,l.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,c.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ap=function(){function e(){(0,c.Z)(this,e),this.M=0,this.L=Zp(),this.B=vh.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return(0,l.Z)(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=xp(),t=xp(),n=xp();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lf()}})),new Tp(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Zp()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Op=function(){function e(t){(0,c.Z)(this,e),this.et=t,this.nt=new Map,this.st=mp(),this.it=Rp(),this.rt=new dp(th)}return(0,l.Z)(e,[{key:"ot",value:function(e){var t,n=u(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=u(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Lf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Gh(i))if(0===n){var a=new Th(i.path);this.ct(t,a,qh.newNoDocument(a,ah.min()))}else Mf(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Gh(a.target)){var o=new Th(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,qh.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=xp();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ip(e,n,this.rt,this.st,r);return this.st=mp(),this.it=Rp(),this.rt=new dp(th),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Ap,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new dp(th),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Rf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Ap),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rp(){return new lp(Th.comparator)}function Zp(){return new lp(Th.comparator)}var Pp={asc:"ASCENDING",desc:"DESCENDING"},Dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lp=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.databaseId=t,this.C=n}));function Mp(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fp(e,t){return e.C?t.toBase64():t.toUint8Array()}function Up(e,t){return Mp(e,t.toTimestamp())}function jp(e){return Mf(!!e),ah.fromTimestamp(function(e){var t=yh(e);return new ih(t.seconds,t.nanos)}(e))}function Vp(e,t){return function(e){return new lh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zp(e){var t=lh.fromString(e);return Mf(dv(t)),t}function qp(e,t){return Vp(e.databaseId,t.path)}function Bp(e,t){var n=zp(t);if(n.get(1)!==e.databaseId.projectId)throw new Vf(jf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vf(jf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Th(Gp(n))}function Hp(e,t){return Vp(e.databaseId,t)}function Wp(e){var t=zp(e);return 4===t.length?lh.emptyPath():Gp(t)}function Kp(e){return new lh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gp(e){return Mf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qp(e,t,n){return{name:qp(e,t),fields:n.value.mapValue.fields}}function Yp(e,t,n){var r=Bp(e,t.name),i=jp(t.updateTime),a=new Vh({mapValue:{fields:t.fields}}),o=qh.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $p(e,t){return"found"in t?function(e,t){Mf(!!t.found),t.found.name,t.found.updateTime;var n=Bp(e,t.found.name),r=jp(t.found.updateTime),i=new Vh({mapValue:{fields:t.found.fields}});return qh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mf(!!t.missing),Mf(!!t.readTime);var n=Bp(e,t.missing),r=jp(t.readTime);return qh.newNoDocument(n,r)}(e,t):Lf()}function Xp(e,t){var n;if(t instanceof Xd)n={update:Qp(e,t.key,t.value)};else if(t instanceof ap)n={delete:qp(e,t.key)};else if(t instanceof Jd)n={update:Qp(e,t.key,t.data),updateMask:hv(t.fieldMask)};else{if(!(t instanceof op))return Lf();n={verify:qp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Md)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ud)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Lf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Up(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lf()}(e,t.precondition)),n}function Jp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bd.updateTime(jp(e.updateTime)):void 0!==e.exists?Bd.exists(e.exists):Bd.none()}(t.currentDocument):Bd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mf("REQUEST_TIME"===t.setToServerValue),n=new Pd;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Md(i)}else"increment"in t?n=new Ud(e,t.increment):Lf();var a=hh.fromServerFormat(t.fieldPath);return new zd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bp(e,t.update.name),a=new Vh({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new dh(t.map((function(e){return hh.fromServerFormat(e)})))}(t.updateMask);return new Jd(i,a,o,n,r)}return new Xd(i,a,n,r)}if(t.delete){var u=Bp(e,t.delete);return new ap(u,n)}if(t.verify){var s=Bp(e,t.verify);return new op(s,n)}return Lf()}function ev(e,t){return{documents:[Hp(e,t.path)]}}function tv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fh(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NAN"}};if(Mh(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fh(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NOT_NAN"}};if(Mh(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sv(e.field),op:uv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sv(e.field),direction:ov(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Eh(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=iv(t.startAt)),t.endAt&&(n.structuredQuery.endAt=iv(t.endAt)),n}function nv(e){var t=Wp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new od(cv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Eh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=av(n.startAt));var l=null;return n.endAt&&(l=av(n.endAt)),fd(t,i,u,o,s,"F",c,l)}function rv(e){return e?void 0!==e.unaryFilter?[fv(e)]:void 0!==e.fieldFilter?[lv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rv(e)})).reduce((function(e,t){return e.concat(t)})):Lf():[]}function iv(e){return{before:e.before,values:e.position}}function av(e){var t=!!e.before,n=e.values||[];return new id(n,t)}function ov(e){return Pp[e]}function uv(e){return Dp[e]}function sv(e){return{fieldPath:e.canonicalString()}}function cv(e){return hh.fromServerFormat(e.fieldPath)}function lv(e){return Qh.create(cv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lf()}}(e.fieldFilter.op),e.fieldFilter.value)}function fv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cv(e.unaryFilter.field);return Qh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cv(e.unaryFilter.field);return Qh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cv(e.unaryFilter.field);return Qh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cv(e.unaryFilter.field);return Qh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lf()}}function hv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function dv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mv(t)),t=vv(e.get(n),t);return mv(t)}function vv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mv(e){return e+"\x01\x01"}function yv(e){var t=e.length;if(Mf(t>=2),2===t)return Mf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lh.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Lf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Lf()}a=o+2}return new lh(r)}var gv=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.seconds=t,this.nanoseconds=n})),kv=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));kv.store="owner",kv.key="owner";var bv=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));bv.store="mutationQueues",bv.keyPath="userId";var wv=(0,l.Z)((function e(t,n,r,i,a){(0,c.Z)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));wv.store="mutations",wv.keyPath="batchId",wv.userMutationsIndex="userMutationsIndex",wv.userMutationsKeyPath=["userId","batchId"];var xv=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,pv(t)]}},{key:"key",value:function(e,t,n){return[e,pv(t),n]}}]),e}();xv.store="documentMutations",xv.PLACEHOLDER=new xv;var Ev=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.path=t,this.readTime=n})),_v=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.path=t,this.version=n})),Iv=(0,l.Z)((function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Iv.store="remoteDocuments",Iv.readTimeIndex="readTimeIndex",Iv.readTimeIndexPath="readTime",Iv.collectionReadTimeIndex="collectionReadTimeIndex",Iv.collectionReadTimeIndexPath=["parentPath","readTime"];var Tv=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.byteSize=t}));Tv.store="remoteDocumentGlobal",Tv.key="remoteDocumentGlobalKey";var Sv=(0,l.Z)((function e(t,n,r,i,a,o,u){(0,c.Z)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Sv.store="targets",Sv.keyPath="targetId",Sv.queryTargetsIndexName="queryTargetsIndex",Sv.queryTargetsKeyPath=["canonicalId","targetId"];var Cv=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Cv.store="targetDocuments",Cv.keyPath=["targetId","path"],Cv.documentTargetsIndex="documentTargetsIndex",Cv.documentTargetsKeyPath=["path","targetId"];var Nv=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Nv.key="targetGlobalKey",Nv.store="targetGlobal";var Av=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.collectionId=t,this.parent=n}));Av.store="collectionParents",Av.keyPath=["collectionId","parent"];var Ov=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ov.store="clientMetadata",Ov.keyPath="clientId";var Rv=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Rv.store="bundles",Rv.keyPath="bundleId";var Zv=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Zv.store="namedQueries",Zv.keyPath="name";var Pv=[bv.store,wv.store,xv.store,Iv.store,Sv.store,kv.store,Nv.store,Cv.store].concat([Ov.store]).concat([Tv.store]).concat([Av.store]).concat([Rv.store,Zv.store]),Dv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lv=function(){function e(){(0,c.Z)(this,e),this.onCommittedListeners=[]}return(0,l.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Mv=function(){function e(t){var n=this;(0,c.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,l.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=u(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Fv=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new zf,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Vv(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Wv(e.target.error);r.It.reject(new Vv(t,n))}}return(0,l.Z)(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Rf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vv(n,t)}}}]),e}(),Uv=function(){function e(t,n,r){(0,c.Z)(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(A())&&Zf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,l.Z)(e,[{key:"Ct",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Rf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Vv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Vf(jf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Vf(jf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Vv(t,n))},i.onupgradeneeded=function(e){Rf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Rf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,u,s,c=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(h().mark((function e(){var n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Fv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Mv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Rf("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Rf("SimpleDb","Removing database:",e),Bv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.vt())return!0;var t=A(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ntwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAy9E9oR2A7hCPOrMQVpkrquwJh5tTl4do",REACT_APP_APP_ID:"1:753766466093:web:40d2f059ef324b30c16ea4",REACT_APP_AUTH_DOMAIN:"ntwttier.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"753766466093",REACT_APP_PROJECT_ID:"ntwttier",REACT_APP_STORAGE_BUCKET:"ntwttier.appspot.com"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jv=function(){function e(t){(0,c.Z)(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return(0,l.Z)(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Bv(this.$t.delete())}}]),e}(),Vv=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,jf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,l.Z)(n)}(Vf);function zv(e){return"IndexedDbTransactionError"===e.name}var qv=function(){function e(t){(0,c.Z)(this,e),this.store=t}return(0,l.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Rf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Rf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bv(n)}},{key:"add",value:function(e){return Rf("SimpleDb","ADD",this.store.name,e,e),Bv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Rf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Rf("SimpleDb","DELETE",this.store.name,e),Bv(this.store.delete(e))}},{key:"count",value:function(){return Rf("SimpleDb","COUNT",this.store.name),Bv(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Rf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Mv((function(n,r){t.onerror=function(e){var t=Wv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Mv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Mv){var u=o.catch((function(e){return a.done(),Mv.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return Mv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bv(e){return new Mv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Wv(e.target.error);n(t)}}))}var Hv=!1;function Wv(e){var t=Uv.Pt(A());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hv||(Hv=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kv=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return(0,l.Z)(n)}(Lv);function Gv(e,t){var n=Uf(e);return Uv.Dt(n.Wt,t)}var Qv=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,l.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Kd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=u(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Gd(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=u(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Gd(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ah.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(function(e,t){return Yd(e,t)}))&&nh(this.baseMutations,e.baseMutations,(function(e,t){return Yd(e,t)}))}}]),e}(),Yv=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,l.Z)(e,null,[{key:"from",value:function(t,n,r){Mf(t.mutations.length===r.length);for(var i=bp(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$v=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ah.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ah.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vh.EMPTY_BYTE_STRING;(0,c.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,l.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Xv=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.Gt=t}));function Jv(e,t){if(t.document)return Yp(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Th.fromSegments(t.noDocument.path),r=im(t.noDocument.readTime),i=qh.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Th.fromSegments(t.unknownDocument.path),o=im(t.unknownDocument.version);return qh.newUnknownDocument(a,o)}return Lf()}function em(e,t,n){var r=tm(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:qp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Mp(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Iv(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=rm(t.version),c=t.hasCommittedMutations;return new Iv(null,new Ev(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=rm(t.version);return new Iv(new _v(l,f),null,null,!0,r,i)}return Lf()}function tm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nm(e){var t=new ih(e[0],e[1]);return ah.fromTimestamp(t)}function rm(e){var t=e.toTimestamp();return new gv(t.seconds,t.nanoseconds)}function im(e){var t=new ih(e.seconds,e.nanoseconds);return ah.fromTimestamp(t)}function am(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jp(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Jp(e.Gt,t)})),u=ih.fromMillis(t.localWriteTimeMs);return new Qv(t.batchId,u,n,o)}function om(e){var t,n,r=im(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?im(e.lastLimboFreeSnapshotVersion):ah.min();return void 0!==e.query.documents?(Mf(1===(n=e.query).documents.length),t=kd(hd(Wp(n.documents[0])))):t=function(e){return kd(nv(e))}(e.query),new $v(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vh.fromBase64String(e.resumeToken))}function um(e,t){var n,r=rm(t.snapshotVersion),i=rm(t.lastLimboFreeSnapshotVersion);n=Gh(t.target)?ev(e.Gt,t.target):tv(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Sv(t.targetId,Wh(t.target),r,a,t.sequenceNumber,i,n)}function sm(e){var t=nv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bd(t,t.limit,"L"):t}var cm=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return lm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:im(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return lm(e).put({bundleId:(n=t).id,createTime:rm(jp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return fm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sm(t.bundledQuery),readTime:im(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return fm(e).put(function(e){return{name:e.name,readTime:rm(jp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function lm(e){return Gv(e,Rv.store)}function fm(e){return Gv(e,Zv.store)}var hm=function(){function e(){(0,c.Z)(this,e),this.zt=new dm}return(0,l.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Mv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mv.resolve(this.zt.getEntries(t))}}]),e}(),dm=function(){function e(){(0,c.Z)(this,e),this.index={}}return(0,l.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dp(lh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new dp(lh.comparator)).toArray()}}]),e}(),pm=function(){function e(){(0,c.Z)(this,e),this.Ht=new dm}return(0,l.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:pv(i)};return vm(e).put(a)}return Mv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[rh(t),""],!1,!0);return vm(e).Bt(r).next((function(e){var r,i=u(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(yv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function vm(e){return Gv(e,Av.store)}var mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ym=function(){function e(t,n,r){(0,c.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,l.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gm(e,t,n){var r=e.store(wv.store),i=e.store(xv.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(c.next((function(){Mf(1===s)})));var l,f=[],h=u(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=xv.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Mv.waitFor(a).next((function(){return f}))}function km(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lf();t=e.noDocument}return JSON.stringify(t).length}ym.DEFAULT_COLLECTION_PERCENTILE=10,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ym.DEFAULT=new ym(41943040,ym.DEFAULT_COLLECTION_PERCENTILE,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ym.DISABLED=new ym(-1,0,0);var bm=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return(0,l.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xm(e).jt({index:wv.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Em(e),o=xm(e);return o.add({}).next((function(s){Mf("number"==typeof s);var c,l=new Qv(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Xp(e.Gt,t)})),i=n.mutations.map((function(t){return Xp(e.Gt,t)}));return new wv(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,l),h=[],d=new dp((function(e,t){return th(e.canonicalString(),t.canonicalString())})),p=u(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=xv.key(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,xv.PLACEHOLDER))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=l.keys()})),Mv.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xm(e).get(t).next((function(e){return e?(Mf(e.userId===n.userId),am(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Mv.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xm(e).jt({index:wv.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Mf(t.batchId>=r),a=am(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xm(e).jt({index:wv.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xm(e).Bt(wv.userMutationsIndex,n).next((function(e){return e.map((function(e){return am(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=xv.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Em(e).jt({range:i},(function(r,i,o){var u=(0,v.Z)(r,3),s=u[0],c=u[1],l=u[2],f=yv(c);if(s===n.userId&&t.path.isEqual(f))return xm(e).get(l).next((function(e){if(!e)throw Lf();Mf(e.userId===n.userId),a.push(am(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dp(th),i=[];return t.forEach((function(t){var a=xv.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Em(e).jt({range:o},(function(e,i,a){var o=(0,v.Z)(e,3),u=o[0],s=o[1],c=o[2],l=yv(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Mv.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=xv.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new dp(th);return Em(e).jt({range:o},(function(e,t,a){var o=(0,v.Z)(e,3),s=o[0],c=o[1],l=o[2],f=yv(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xm(e).get(t).next((function(e){if(null===e)throw Lf();Mf(e.userId===n.userId),r.push(am(n.k,e))})))})),Mv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gm(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Mv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mv.resolve();var r=IDBKeyRange.lowerBound(xv.prefixForUser(t.userId)),i=[];return Em(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=yv(e[1]);i.push(a)}else r.done()})).next((function(){Mf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wm(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return _m(e).get(this.userId).next((function(e){return e||new bv(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Mf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wm(e,t,n){var r=xv.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Em(e).jt({range:a,Kt:!0},(function(e,n,r){var a=(0,v.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function xm(e){return Gv(e,wv.store)}function Em(e){return Gv(e,xv.store)}function _m(e){return Gv(e,bv.store)}var Im=function(){function e(t){(0,c.Z)(this,e),this.se=t}return(0,l.Z)(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Tm=function(){function e(t,n){(0,c.Z)(this,e),this.referenceDelegate=t,this.k=n}return(0,l.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Im(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return ah.fromTimestamp(new ih(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Sm(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Mf(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Sm(e).jt((function(o,u){var s=om(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Mv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Sm(e).jt((function(e,n){var r=om(n);t(r)}))}},{key:"oe",value:function(e){return Cm(e).get(Nv.key).next((function(e){return Mf(null!==e),e}))}},{key:"ae",value:function(e,t){return Cm(e).put(Nv.key,t)}},{key:"ce",value:function(e,t){return Sm(e).put(um(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Wh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sm(e).jt({range:r,index:Sv.queryTargetsIndexName},(function(e,n,r){var a=om(n);Kh(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Nm(e);return t.forEach((function(t){var o=pv(t.path);i.push(a.put(new Cv(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Mv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Nm(e);return Mv.forEach(t,(function(t){var a=pv(t.path);return Mv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Nm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nm(e),i=xp();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=yv(e[1]),a=new Th(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=pv(t.path),r=IDBKeyRange.bound([n],[rh(n)],!1,!0),i=0;return Nm(e).jt({index:Cv.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,v.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Sm(e).get(t).next((function(e){return e?om(e):null}))}}]),e}();function Sm(e){return Gv(e,Sv.store)}function Cm(e){return Gv(e,Nv.store)}function Nm(e){return Gv(e,Cv.store)}function Am(e){return Om.apply(this,arguments)}function Om(){return Om=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jf.FAILED_PRECONDITION&&t.message===Dv){e.next=2;break}throw t;case 2:Rf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Rm(e,t){var n=(0,v.Z)(e,2),r=n[0],i=n[1],a=(0,v.Z)(t,2),o=a[0],u=a[1],s=th(r,o);return 0===s?th(i,u):s}var Zm=function(){function e(t){(0,c.Z)(this,e),this.he=t,this.buffer=new dp(Rm),this.le=0}return(0,l.Z)(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Rm(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Pm=function(){function e(t,n){(0,c.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return(0,l.Z)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Rf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,p.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!zv(n.t0)){n.next=12;break}Rf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Am(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Dm=function(){function e(t,n){(0,c.Z)(this,e),this.ge=t,this.params=n}return(0,l.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Mv.resolve(Xf.I);var r=new Zm(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rf("LruGarbageCollector","Garbage collection skipped; disabled"),Mv.resolve(mm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mm):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Rf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Af()<=X.DEBUG&&Rf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Mv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Lm=function(){function e(t,n){(0,c.Z)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Dm(e,t)}(this,n)}return(0,l.Z)(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Mm(e,n)}},{key:"removeReference",value:function(e,t,n){return Mm(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Mm(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return _m(e).Qt((function(r){return wm(e,r,t).next((function(e){return e&&(n=!0),Mv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Nm(e).delete([0,pv(o.path)])}))}));i.push(s)}})).next((function(){return Mv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Mm(e,t)}},{key:"Ie",value:function(e,t){var n,r=Nm(e),i=Xf.I;return r.jt({index:Cv.documentTargetsIndex},(function(e,r){var a=(0,v.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Xf.I&&t(new Th(yv(n)),i),i=s,n=u):i=Xf.I})).next((function(){i!==Xf.I&&t(new Th(yv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Mm(e,t){return Nm(e).put(function(e,t){return new Cv(0,pv(e.path),t)}(t,e.currentSequenceNumber))}var Fm=function(){function e(t,n){(0,c.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=(0,v.Z)(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){uh(this.inner,(function(t,n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=(0,v.Z)(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return sh(this.inner)}}]),e}(),Um=function(){function e(){(0,c.Z)(this,e),this.changes=new Fm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,l.Z)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:ah.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:qh.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mv.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jm=function(){function e(t,n){(0,c.Z)(this,e),this.k=t,this.Jt=n}return(0,l.Z)(e,[{key:"addEntry",value:function(e,t,n){return qm(e).put(Bm(t),n)}},{key:"removeEntry",value:function(e,t){var n=qm(e),r=Bm(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return qm(e).get(Bm(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return qm(e).get(Bm(t)).next((function(e){return{document:n.Pe(t,e),size:km(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=mp();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=mp(),i=new lp(Th.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,km(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Mv.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return qm(e).jt({range:r},(function(e,t,r){for(var o=Th.fromSegments(e);a&&Th.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=mp(),a=t.path.length+1,o={};if(n.isEqual(ah.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=tm(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Iv.collectionReadTimeIndex}return qm(e).jt(o,(function(e,n,o){if(e.length===a){var u=Jv(r.k,n);t.path.isPrefixOf(u.key.path)?_d(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Vm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zm(e).get(Tv.key).next((function(e){return Mf(!!e),e}))}},{key:"Re",value:function(e,t){return zm(e).put(Tv.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Jv(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(ah.min()))return n}return qh.newInvalidDocument(e)}}]),e}(),Vm=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Fm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,l.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new dp((function(e,t){return th(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=em(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=km(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=em(t.De.k,qh.newNoDocument(a,ah.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Mv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Um);function zm(e){return Gv(e,Tv.store)}function qm(e){return Gv(e,Iv.store)}function Bm(e){return e.path.toArray()}var Hm=function(){function e(t){(0,c.Z)(this,e),this.k=t}return(0,l.Z)(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Mf(n<r&&n>=0&&r<=11);var a=new Fv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(kv.store)}(e),function(e){e.createObjectStore(bv.store,{keyPath:bv.keyPath}),e.createObjectStore(wv.store,{keyPath:wv.keyPath,autoIncrement:!0}).createIndex(wv.userMutationsIndex,wv.userMutationsKeyPath,{unique:!0}),e.createObjectStore(xv.store)}(e),Wm(e),function(e){e.createObjectStore(Iv.store)}(e));var o=Mv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cv.store),e.deleteObjectStore(Sv.store),e.deleteObjectStore(Nv.store)}(e),Wm(e)),o=o.next((function(){return function(e){var t=e.store(Nv.store),n=new Nv(0,0,ah.min().toTimestamp(),0);return t.put(Nv.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(wv.store).Bt().next((function(n){e.deleteObjectStore(wv.store),e.createObjectStore(wv.store,{keyPath:wv.keyPath,autoIncrement:!0}).createIndex(wv.userMutationsIndex,wv.userMutationsKeyPath,{unique:!0});var r=t.store(wv.store),i=n.map((function(e){return r.put(e)}));return Mv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Ov.store,{keyPath:Ov.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Tv.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Iv.store);t.createIndex(Iv.readTimeIndex,Iv.readTimeIndexPath,{unique:!1}),t.createIndex(Iv.collectionReadTimeIndex,Iv.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Rv.store,{keyPath:Rv.keyPath})}(e),function(e){e.createObjectStore(Zv.store,{keyPath:Zv.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Iv.store).jt((function(e,n){t+=km(n)})).next((function(){var n=new Tv(t);return e.store(Tv.store).put(Tv.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(bv.store),r=e.store(wv.store);return n.Bt().next((function(n){return Mv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(wv.userMutationsIndex,i).next((function(r){return Mv.forEach(r,(function(r){Mf(r.userId===n.userId);var i=am(t.k,r);return gm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Cv.store),n=e.store(Iv.store);return e.store(Nv.store).get(Nv.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new lh(n),o=function(e){return[0,pv(e)]}(a);r.push(t.get(o).next((function(n){return n?Mv.resolve():function(n){return t.put(new Cv(0,pv(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Mv.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Av.store,{keyPath:Av.keyPath});var n=t.store(Av.store),r=new dm,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:pv(i)})}};return t.store(Iv.store).jt({Kt:!0},(function(e,t){var n=new lh(e);return i(n.popLast())})).next((function(){return t.store(xv.store).jt({Kt:!0},(function(e,t){var n=(0,v.Z)(e,3),r=(n[0],n[1]),a=(n[2],yv(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Sv.store);return n.jt((function(e,r){var i=om(r),a=um(t.k,i);return n.put(a)}))}}]),e}();function Wm(e){e.createObjectStore(Cv.store,{keyPath:Cv.keyPath}).createIndex(Cv.documentTargetsIndex,Cv.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Sv.store,{keyPath:Sv.keyPath}).createIndex(Sv.queryTargetsIndexName,Sv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Nv.store)}var Km="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gm=function(){function e(t,n,r,i,a,o,u,s,l,f){if((0,c.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=l,this.Le=f,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Vf(jf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lm(this,i),this.Ge=n+"main",this.k=new Xv(s),this.ze=new Uv(this.Ge,11,new Hm(this.k)),this.He=new Tm(this.referenceDelegate,this.k),this.Jt=new pm,this.Je=function(e,t){return new jm(e,t)}(this.k,this.Jt),this.Ye=new cm,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===f&&Zf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,l.Z)(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vf(jf.FAILED_PRECONDITION,Km);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Xf(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=(0,p.Z)(h().mark((function n(r){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=(0,p.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ym(t).put(new Ov(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(zv(t))return Rf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Rf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Qm(e).get(kv.key).next((function(e){return Mv.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Ym(e).delete(this.clientId)}},{key:"ln",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gv(e,Ov.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=u(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Mv.resolve(!0):Qm(e).get(kv.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Vf(jf.FAILED_PRECONDITION,Km);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ym(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Rf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,p.Z)(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[kv.store,Ov.store],(function(e){var n=new Kv(e,Xf.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ym(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return bm.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Rf("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Pv,(function(a){return i=new Kv(a,r.Be?r.Be.next():Xf.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Zf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Vf(jf.FAILED_PRECONDITION,Dv);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Qm(e).get(kv.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vf(jf.FAILED_PRECONDITION,Km)}))}},{key:"cn",value:function(e){var t=new kv(this.clientId,this.allowTabSynchronization,Date.now());return Qm(e).put(kv.key,t)}},{key:"an",value:function(e){var t=this,n=Qm(e);return n.get(kv.key).next((function(e){return t.un(e)?(Rf("IndexedDbPersistence","Releasing primary lease."),n.delete(kv.key)):Mv.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Zf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),D()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Rf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Zf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Tu){Zf("Failed to set zombie client id.",Tu)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Tu){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Uv.bt()}}]),e}();function Qm(e){return Gv(e,kv.store)}function Ym(e){return Gv(e,Ov.store)}function $m(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Xm=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.progress=t,this.In=n})),Jm=function(){function e(t,n,r){(0,c.Z)(this,e),this.Je=t,this.An=n,this.Jt=r}return(0,l.Z)(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=u(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=u(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):yd(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Th(t)).next((function(e){var t=gp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gp();return this.Jt.getCollectionParents(e,i).next((function(o){return Mv.forEach(o,(function(o){var u=function(e,t){return new ld(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=u(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=u(o.mutations);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.key,f=r.get(l);null==f&&(f=qh.newInvalidDocument(l),r=r.insert(l,f)),Gd(c,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){_d(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=xp(),a=u(t);try{for(a.s();!(r=a.n()).done;){var o,s=u(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var c=o.value;c instanceof Jd&&null===n.get(c.key)&&(i=i.add(c.key))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){a.e(f)}finally{a.f()}var l=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))}}]),e}(),ey=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return(0,l.Z)(e,null,[{key:"$n",value:function(t,n){var r,i=xp(),a=xp(),o=u(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ty=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ah.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(dd(t)||pd(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Af()<=X.DEBUG&&Rf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ed(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new dp(Id(e));return t.forEach((function(t,r){_d(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Af()<=X.DEBUG&&Rf("QueryEngine","Using full collection scan to execute query:",Ed(t)),this.On.getDocumentsMatchingQuery(e,t,ah.min())}}]),e}(),ny=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new lp(th),this.Kn=new Fm((function(e){return Wh(e)}),Kh),this.jn=ah.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Jm(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return(0,l.Z)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function ry(e,t,n,r){return new ny(e,t,n,r)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Jm(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=xp(),c=u(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var f,h=u(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){c.e(b)}finally{c.f()}var p,v=u(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=u(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;s=s.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t){var n=Uf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function uy(e){var t=Uf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function sy(e,t){var n=Uf(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Mf(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=mp();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cy(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(ah.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Mv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function cy(e,t,n,r,i){var a=xp();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=mp();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ah.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Rf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function ly(e,t){var n=Uf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function fy(e,t){var n=Uf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Mv.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new $v(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uf(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),zv(e.t1)){e.next=12;break}throw e.t1;case 12:Rf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dy.apply(this,arguments)}function py(e,t,n){var r=Uf(e),i=ah.min(),a=xp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Uf(e),i=r.Kn.get(n);return void 0!==i?Mv.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,kd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:ah.min(),n?a:xp())})).next((function(e){return{documents:e,zn:a}}))}))}function vy(e,t){var n=Uf(e),r=Uf(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function my(e){var t=Uf(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Uf(e),i=mp(),a=tm(n),o=qm(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Iv.readTimeIndex,range:u},(function(e,t){var n=Jv(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:nm(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function yy(e){return gy.apply(this,arguments)}function gy(){return gy=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uf(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=qm(e),n=ah.min();return t.jt({index:Iv.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=nm(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t,n,r){return by.apply(this,arguments)}function by(){return by=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,s,c,l,f,d,p,v,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Uf(t),o=xp(),s=mp(),c=bp(),l=u(r);try{for(l.s();!(f=l.n()).done;)d=f.value,p=n.Hn(d.metadata.name),d.document&&(o=o.add(p)),s=s.insert(p,n.Jn(d)),c=c.insert(p,n.Yn(d.metadata.readTime))}catch(h){l.e(h)}finally{l.f()}return v=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,fy(a,function(e){return kd(hd(lh.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cy(e,v,s,ah.min(),c).next((function(t){return v.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.He.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:xp(),e.next=3,fy(t,kd(sm(n.bundledQuery)));case 3:return i=e.sent,a=Uf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=jp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(vh.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}var Ey=function(){function e(t){(0,c.Z)(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return(0,l.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Mv.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:jp(n.createTime)}),Mv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mv.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:sm(e.bundledQuery),readTime:jp(e.readTime)}}(t)),Mv.resolve()}}]),e}(),_y=function(){function e(){(0,c.Z)(this,e),this.ts=new dp(Iy.es),this.ns=new dp(Iy.ss)}return(0,l.Z)(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Iy(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Iy(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Th(new lh([])),r=new Iy(n,e),i=new Iy(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Th(new lh([])),n=new Iy(t,e),r=new Iy(t,e+1),i=xp();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Iy(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Iy=function(){function e(t,n){(0,c.Z)(this,e),this.key=t,this.fs=n}return(0,l.Z)(e,null,[{key:"es",value:function(e,t){return Th.comparator(e.key,t.key)||th(e.fs,t.fs)}},{key:"ss",value:function(e,t){return th(e.fs,t.fs)||Th.comparator(e.key,t.key)}}]),e}(),Ty=function(){function e(t,n){(0,c.Z)(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new dp(Iy.es)}return(0,l.Z)(e,[{key:"checkEmpty",value:function(e){return Mv.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Qv(i,t,n,r);this.An.push(a);var o,s=u(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.ws=this.ws.add(new Iy(c.key,i)),this.Jt.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Mv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mv.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Mv.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mv.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Mv.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Iy(t,0),i=new Iy(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Mv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dp(th);return t.forEach((function(e){var t=new Iy(e,0),i=new Iy(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Mv.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Th.isDocumentKey(i)||(i=i.child(""));var a=new Iy(new Th(i),0),o=new dp(th);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Mv.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mf(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Mv.forEach(t.mutations,(function(i){var a=new Iy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Iy(t,0),r=this.ws.firstAfterOrEqual(n);return Mv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Mv.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Sy=function(){function e(t,n){(0,c.Z)(this,e),this.Jt=t,this.Ts=n,this.docs=new lp(Th.comparator),this.size=0}return(0,l.Z)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mv.resolve(n?n.document.clone():qh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():qh.newInvalidDocument(e))})),Mv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=mp(),i=new Th(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||_d(t,c)&&(r=r.insert(c.key,c.clone()))}return Mv.resolve(r)}},{key:"Es",value:function(e,t){return Mv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cy(this)}},{key:"getSize",value:function(e){return Mv.resolve(this.size)}}]),e}(),Cy=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).De=e,r}return(0,l.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Mv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Um),Ny=function(){function e(t){(0,c.Z)(this,e),this.persistence=t,this.Is=new Fm((function(e){return Wh(e)}),Kh),this.lastRemoteSnapshotVersion=ah.min(),this.highestTargetId=0,this.As=0,this.Rs=new _y,this.targetCount=0,this.Ps=Im.ie()}return(0,l.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Mv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mv.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Mv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Mv.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new Im(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Mv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Mv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Mv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Mv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Mv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Mv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Mv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Mv.resolve(n)}},{key:"containsKey",value:function(e,t){return Mv.resolve(this.Rs.containsKey(t))}}]),e}(),Ay=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.bs={},this.Be=new Xf(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ny(this),this.Jt=new hm,this.Je=function(e,t){return new Sy(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Xv(n),this.Ye=new Ey(this.k)}return(0,l.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Ty(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Rf("MemoryPersistence","Starting transaction:",e);var i=new Oy(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Mv.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Oy=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,l.Z)(n)}(Lv),Ry=function(){function e(t){(0,c.Z)(this,e),this.persistence=t,this.Cs=new _y,this.Ns=null}return(0,l.Z)(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Lf()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Mv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Mv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Mv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mv.forEach(this.xs,(function(r){var i=Th.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Mv.or([function(){return Mv.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Zy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Py(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Dy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ly=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,l.Z)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Vf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Zf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),My=function(){function e(t,n,r){(0,c.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,l.Z)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vf(i.error.code,i.error.message))),a?new e(t,i.state,r):(Zf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fy=function(){function e(t,n){(0,c.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,l.Z)(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_p(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ih(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Zf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Uy=function(){function e(t,n){(0,c.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,l.Z)(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Zf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),jy=function(){function e(){(0,c.Z)(this,e),this.activeTargetIds=_p()}return(0,l.Z)(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Vy=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new lp(th),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Zy(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new jy),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return(0,l.Z)(e,[{key:"start",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i,a,o,s,c,l,f,d,p=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=u(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Zy(this.persistenceKey,i)))&&(o=Fy.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(c=this.Zs(s))&&this.ti(c),l=u(this.js);try{for(l.s();!(f=l.n()).done;)d=f.value,this.qs(d)}catch(h){l.e(h)}finally{l.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Dy(this.persistenceKey,e));if(n){var r=My.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Dy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Rf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Rf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Rf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Rf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Zf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,p.Z)(h().mark((function e(){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Xf.I;if(null!=e)try{var n=JSON.parse(e);Mf("number"==typeof n),t=n}catch(e){Zf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Xf.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Ly(this.currentUser,e,t,n),i=Py(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Py(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Dy(this.persistenceKey,e),i=new My(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Fy.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ly.Fs(new Sf(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return My.Fs(r,t)}},{key:"Zs",value:function(e){return Uy.Fs(e)}},{key:"fi",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Rf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=_p();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zy=function(){function e(){(0,c.Z)(this,e),this.pi=new jy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,l.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new jy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),qy=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),By=function(){function e(){var t=this;(0,c.Z)(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return(0,l.Z)(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Rf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=u(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Rf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=u(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Hy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wy=function(){function e(t){(0,c.Z)(this,e),this.Vi=t.Vi,this.Si=t.Si}return(0,l.Z)(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Ky=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,l.Z)(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new If;o.listenOnce(bf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case kf.NO_ERROR:var t=o.getResponseJson();Rf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case kf.TIMEOUT:Rf("Connection",'RPC "'+e+'" timed out'),a(new Vf(jf.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:var n=o.getStatus();if(Rf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jf).indexOf(t)>=0?t:jf.UNKNOWN}(r.status);a(new Vf(u,r.message))}else a(new Vf(jf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vf(jf.UNAVAILABLE,"Connection failed."));break;default:Lf()}}finally{Rf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yf(),a=gf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ef({})),this.qi(o.initMessageHeaders,t,n),O()||Z()||A().indexOf("Electron/")>=0||P()||A().indexOf("MSAppHost/")>=0||R()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Rf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Wy({Vi:function(e){l?Rf("Connection","Not sending because WebChannel is closed:",e):(c||(Rf("Connection","Opening WebChannel transport."),s.open(),c=!0),Rf("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_f.EventType.OPEN,(function(){l||Rf("Connection","WebChannel transport opened.")})),h(s,_f.EventType.CLOSE,(function(){l||(l=!0,Rf("Connection","WebChannel transport closed"),f.Fi())})),h(s,_f.EventType.ERROR,(function(e){l||(l=!0,Pf("Connection","WebChannel transport errored:",e),f.Fi(new Vf(jf.UNAVAILABLE,"The operation could not be completed")))})),h(s,_f.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Mf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Rf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=rp[e];if(void 0!==t)return cp(t)}(a),u=i.message;void 0===o&&(o=jf.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Vf(o,u)),s.close()}else Rf("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,wf.STAT_EVENT,(function(e){e.stat===xf.PROXY?Rf("Connection","Detected buffering proxy"):e.stat===xf.NOPROXY&&Rf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){(0,c.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,l.Z)(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Rf("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Rf("RestConnection","Received: ",e),e}),(function(t){throw Pf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Hy[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Gy(){return"undefined"!=typeof window?window:null}function Qy(){return"undefined"!=typeof document?document:null}function Yy(e){return new Lp(e,!0)}var $y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,c.Z)(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return(0,l.Z)(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Rf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Xy=function(){function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new $y(t,n)}return(0,l.Z)(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===jf.RESOURCE_EXHAUSTED?(Zf(n.toString()),Zf("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===jf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,v.Z)(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Vf(jf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Rf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Rf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Jy=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return(0,l.Z)(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Mf(void 0===t||"string"==typeof t),vh.fromBase64String(t||"")):(Mf(void 0===t||t instanceof Uint8Array),vh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jf.UNKNOWN:cp(e.code);return new Vf(t,e.message||"")}(o);n=new Np(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Bp(e,s.document.name),l=jp(s.document.updateTime),f=new Vh({mapValue:{fields:s.document.fields}}),h=qh.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Sp(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Bp(e,v.document),y=v.readTime?jp(v.readTime):ah.min(),g=qh.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Sp([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bp(e,b.document),x=b.removedTargetIds||[];n=new Sp([],x,w,null)}else{if(!("filter"in t))return Lf();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new up(_),T=E.targetId;n=new Cp(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return ah.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ah.min():t.readTime?jp(t.readTime):ah.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Kp(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Gh(r)?{documents:ev(e,r)}:{query:tv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fp(e,t.resumeToken):t.snapshotVersion.compareTo(ah.min())>0&&(n.readTime=Mp(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Kp(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Xy),eg=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return(0,l.Z)(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Se((0,k.Z)(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Mf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Mf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?jp(e.updateTime):jp(t);return n.isEqual(ah.min())&&(n=jp(t)),new qd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=jp(e.commitTime);return this.listener.Cr(n,t)}return Mf(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Kp(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xp(t.k,e)}))};this.gr(n)}}]),n}(Xy),tg=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a){var o;return(0,c.Z)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return(0,l.Z)(n,[{key:"Fr",value:function(){if(this.$r)throw new Vf(jf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,v.Z)(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vf(jf.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,v.Z)(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vf(jf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return(0,l.Z)((function e(){(0,c.Z)(this,e)}))}()),ng=function(){function e(t,n){(0,c.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return(0,l.Z)(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Zf(t),this.Lr=!1):Rf("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),rg=(0,l.Z)((function e(t,n,r,i,a){var o=this;(0,c.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=pg(o),!e.t0){e.next=5;break}return Rf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uf(t)).Gr.add(4),e.next=4,og(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,ig(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new ng(r,i)}));function ig(e){return ag.apply(this,arguments)}function ag(){return ag=(0,p.Z)(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pg(t)){e.next=18;break}n=u(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ag.apply(this,arguments)}function og(e){return ug.apply(this,arguments)}function ug(){return ug=(0,p.Z)(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ug.apply(this,arguments)}function sg(e,t){var n=Uf(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),dg(n)?hg(n):Vg(n).lr()&&lg(n,t))}function cg(e,t){var n=Uf(e),r=Vg(n);n.Wr.delete(t),r.lr()&&fg(n,t),0===n.Wr.size&&(r.lr()?r._r():pg(n)&&n.Jr.set("Unknown"))}function lg(e,t){e.Yr.X(t.targetId),Vg(e).br(t)}function fg(e,t){e.Yr.X(t),Vg(e).vr(t)}function hg(e){e.Yr=new Op({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Vg(e).start(),e.Jr.Br()}function dg(e){return pg(e)&&!Vg(e).hr()&&e.Wr.size>0}function pg(e){return 0===Uf(e).Gr.size}function vg(e){e.Yr=void 0}function mg(e){return yg.apply(this,arguments)}function yg(){return yg=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){lg(t,e)}));case 1:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vg(t),dg(t)?(t.Jr.Kr(n),hg(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function bg(e,t,n){return wg.apply(this,arguments)}function wg(){return wg=(0,p.Z)(h().mark((function e(t,n,r){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Np&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=u(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Rf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,xg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Sp?t.Yr.ot(n):n instanceof Cp?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(ah.min())){e.next=29;break}return e.prev=14,e.next=17,uy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(vh.EMPTY_BYTE_STRING,n.snapshotVersion)),fg(e,t);var r=new $v(n.target,t,1,n.sequenceNumber);lg(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Rf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,xg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),wg.apply(this,arguments)}function xg(e,t,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,p.Z)(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zv(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,og(t);case 5:t.Jr.set("Offline"),r||(r=function(){return uy(t.localStore)}),t.asyncQueue.enqueueRetryable((0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,ig(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function _g(e,t){return t().catch((function(n){return xg(e,n,t)}))}function Ig(e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,p.Z)(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uf(t),r=zg(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Sg(n)){e.next=19;break}return e.prev=3,e.next=6,ly(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Cg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,xg(n,e.t0);case 17:e.next=2;break;case 19:Ng(n)&&Ag(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Tg.apply(this,arguments)}function Sg(e){return pg(e)&&e.Qr.length<10}function Cg(e,t){e.Qr.push(t);var n=zg(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Ng(e){return pg(e)&&!zg(e).hr()&&e.Qr.length>0}function Ag(e){zg(e).start()}function Og(e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zg(t).kr();case 1:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Zg(e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,p.Z)(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zg(t),r=u(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t,n){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Yv.from(i,n,r),e.next=3,_g(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ig(t);case 5:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Mg(e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zg(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sp(i=n.code)||i===jf.ABORTED){e.next=7;break}return r=t.Qr.shift(),zg(t).wr(),e.next=5,_g(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ig(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ng(t)&&Ag(t);case 5:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function Ug(e,t){return jg.apply(this,arguments)}function jg(){return jg=(0,p.Z)(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,ig(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,og(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Vg(e){return e.Xr||(e.Xr=function(e,t,n){var r=Uf(e);return r.Fr(),new Jy(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:mg.bind(null,e),Ni:gg.bind(null,e),Pr:bg.bind(null,e)}),e.zr.push(function(){var t=(0,p.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),dg(e)?hg(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:vg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function zg(e){return e.Zr||(e.Zr=function(e,t,n){var r=Uf(e);return r.Fr(),new eg(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Og.bind(null,e),Ni:Mg.bind(null,e),Nr:Zg.bind(null,e),Cr:Dg.bind(null,e)}),e.zr.push(function(){var t=(0,p.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Ig(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Rf("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var qg=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,l.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vf(jf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Bg(e,t){if(Zf("AsyncQueue","".concat(t,": ").concat(e)),zv(e))return new Vf(jf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hg=function(){function e(t){(0,c.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||Th.comparator(e.key,n.key)}:function(e,t){return Th.comparator(e.key,t.key)},this.keyedMap=gp(),this.sortedSet=new lp(this.comparator)}return(0,l.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Wg=function(){function e(){(0,c.Z)(this,e),this.eo=new lp(Th.comparator)}return(0,l.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Lf():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kg=function(){function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return(0,l.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Hg.emptySet(n),a,r,i,!0,!1)}}]),e}(),Gg=(0,l.Z)((function e(){(0,c.Z)(this,e),this.so=void 0,this.listeners=[]})),Qg=(0,l.Z)((function e(){(0,c.Z)(this,e),this.queries=new Fm((function(e){return xd(e)}),wd),this.onlineState="Unknown",this.io=new Set}));function Yg(e,t){return $g.apply(this,arguments)}function $g(){return $g=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Gg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Bg(e.t0,"Initialization of query '".concat(Ed(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&nk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$g.apply(this,arguments)}function Xg(e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function ek(e,t){var n,r=Uf(e),i=!1,a=u(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=u(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.oo(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&nk(r)}function tk(e,t,n){var r=Uf(e),i=r.queries.get(t);if(i){var a,o=u(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function nk(e){e.io.forEach((function(e){e.next()}))}var rk=function(){function e(t,n,r){(0,c.Z)(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return(0,l.Z)(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=u(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Kg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),ik=function(){function e(t,n){(0,c.Z)(this,e),this.payload=t,this.byteLength=n}return(0,l.Z)(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ak=function(){function e(t){(0,c.Z)(this,e),this.k=t}return(0,l.Z)(e,[{key:"Hn",value:function(e){return Bp(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Yp(this.k,e.document,!1):qh.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return jp(e)}}]),e}(),ok=function(){function e(t,n,r){(0,c.Z)(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=uk(t)}return(0,l.Z)(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ak(this.k),i=u(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),c=u(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||xp()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ky(this.localStore,new ak(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=u(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,wy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Xm(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function uk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sk=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t})),ck=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t})),lk=function(){function e(t,n){(0,c.Z)(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=xp(),this.mutatedKeys=xp(),this.Ao=Id(t),this.Ro=new Hg(this.Ao)}return(0,l.Z)(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new Wg,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=dd(this.query)&&i.size===this.query.limit?i.last():null,c=pd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=_d(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),dd(this.query)||pd(this.query))for(;o.size>this.query.limit;){var l=dd(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lf()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Kg(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Wg,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=xp(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new ck(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new sk(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=xp();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Kg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),fk=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),hk=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.key=t,this.$o=!1})),dk=function(){function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Fm((function(e){return xd(e)}),wd),this.Mo=new Map,this.Lo=new Set,this.Bo=new lp(Th.comparator),this.Uo=new Map,this.qo=new _y,this.Ko={},this.jo=new Map,this.Qo=Im.re(),this.onlineState="Unknown",this.Wo=void 0}return(0,l.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ub(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,fy(r.localStore,kd(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,mk(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&sg(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(e,t,n,r){return yk.apply(this,arguments)}function yk(){return yk=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,py(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Mk(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,py(t.localStore,n,!0);case 3:return a=e.sent,o=new lk(n,a.zn),u=o.bo(a.documents),s=Tp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Mk(t,r,c.Co),l=new fk(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e,t){return kk.apply(this,arguments)}function kk(){return kk=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!wd(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),cg(r.remoteStore,i.targetId),Dk(r,i.targetId)})).catch(Am);case 9:e.next=14;break;case 11:return Dk(r,i.targetId),e.next=14,hy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function bk(e,t,n){return wk.apply(this,arguments)}function wk(){return wk=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sb(t),e.prev=1,e.next=4,function(e,t){var n,r=Uf(e),i=ih.now(),a=t.reduce((function(e,t){return e.add(t.key)}),xp());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],c=u(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Qd(l,n.get(l.key));null!=f&&s.push(new Jd(l.key,f,zh(f.value.mapValue),Bd.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new lp(th)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,jk(i,a.changes);case 9:return e.next=11,Ig(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Bg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wk.apply(this,arguments)}function xk(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.prev=1,e.next=4,sy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Mf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Mf(n.$o):e.removedDocuments.size>0&&(Mf(n.$o),n.$o=!1))})),e.next=8,jk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Am(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ek.apply(this,arguments)}function _k(e,t,n){var r=Uf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Uf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=u(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nk(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ik(e,t,n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Uf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new lp(Th.comparator)).insert(o,qh.newNoDocument(o,ah.min())),s=xp().add(o),c=new Ip(ah.min(),new Map,new dp(th),u,s),e.next=9,xk(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Uk(i),e.next=16;break;case 14:return e.next=16,hy(i.localStore,n,!1).then((function(){return Dk(i,n,r)})).catch(Am);case 16:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Sk(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=n.batch.batchId,e.prev=1,e.next=4,oy(r.localStore,n);case 4:return a=e.sent,Pk(r,i,null),Zk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,jk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Am(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ck.apply(this,arguments)}function Nk(e,t,n){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uf(t),e.prev=1,e.next=4,function(e,t){var n=Uf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Mf(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Pk(i,n,r),Zk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,jk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Am(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ak.apply(this,arguments)}function Ok(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pg((r=Uf(t)).remoteStore)||Rf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Uf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Bg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rk.apply(this,arguments)}function Zk(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Pk(e,t,n){var r=Uf(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Dk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=u(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Lk(e,t)}))}function Lk(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(cg(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Uk(e))}function Mk(e,t,n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sk?(e.qo.addReference(a.key,t),Fk(e,a)):a instanceof ck?(Rf("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Lk(e,a.key)):Lf()}}catch(o){i.e(o)}finally{i.f()}}function Fk(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Rf("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Uk(e))}function Uk(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Th(lh.fromString(t)),r=e.Qo.next();e.Uo.set(r,new hk(n)),e.Bo=e.Bo.insert(n,r),sg(e.remoteStore,new $v(kd(hd(n.path)),r,2,Xf.I))}}function jk(e,t,n){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uf(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ey.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,s,c,l,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mv.forEach(n,(function(t){return Mv.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mv.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),zv(e.t0)){e.next=10;break}throw e.t0;case 10:Rf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=u(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.qn.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.qn=r.qn.insert(s,f))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function zk(e,t){return qk.apply(this,arguments)}function qk(){return qk=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Uf(t)).currentUser.isEqual(n)){e.next=11;break}return Rf("SyncEngine","User change. New user:",n.toKey()),e.next=5,iy(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Vf(jf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,jk(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),qk.apply(this,arguments)}function Bk(e,t){var n=Uf(e),r=n.Uo.get(t);if(r&&r.$o)return xp().add(r.key);var i=xp(),a=n.Mo.get(t);if(!a)return i;var o,s=u(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.Oo.get(c);i=i.unionWith(l.view.Po)}}catch(f){s.e(f)}finally{s.f()}return i}function Hk(e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.next=3,py(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Mk(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Kk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uf(t),e.abrupt("return",my(n.localStore).then((function(e){return jk(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t,n,r){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uf(t),e.next=3,function(e,t){var n=Uf(e),r=Uf(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Mv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Ig(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Pk(a,n,i||null),Zk(a,n),function(e,t){Uf(Uf(e).An).ee(t)}(a.localStore,n)):Lf();case 11:return e.next=13,jk(a,o);case 13:e.next=16;break;case 15:Rf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,s,c,l,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ub(r=Uf(t)),sb(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Jk(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Ug(r.remoteStore,!0);case 9:o=u(a);try{for(o.s();!(s=o.n()).done;)c=s.value,sg(r.remoteStore,c)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return l=[],f=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Dk(r,t),hy(r.localStore,t,!0)})),cg(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Jk(r,l);case 21:return function(e){var t=Uf(e);t.Uo.forEach((function(e,n){cg(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new lp(Th.comparator)}(r),r.Wo=!1,e.next=25,Ug(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Jk(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,s,c,l,f,d,p,v,m,y,g,k;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Uf(t),a=[],o=[],s=u(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(d=i.Mo.get(l))||0===d.length){e.next=34;break}return e.next=11,fy(i.localStore,kd(d[0]));case 11:f=e.sent,p=u(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=i.Oo.get(m),e.next=20,Hk(i,y);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,vy(i.localStore,l);case 36:return k=e.sent,e.next=39,fy(i.localStore,k);case 39:return f=e.sent,e.next=42,mk(i,tb(k),l,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),eb.apply(this,arguments)}function tb(e){return fd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nb(e){var t=Uf(e);return Uf(Uf(t.localStore).persistence).Tn()}function rb(e,t,n,r){return ib.apply(this,arguments)}function ib(){return ib=(0,p.Z)(h().mark((function e(t,n,r,i){var a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Uf(t)).Wo){e.next=5;break}Rf("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,my(a.localStore);case 11:return o=e.sent,u=Ip.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,jk(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,hy(a.localStore,n,!0);case 18:return Dk(a,n,i),e.abrupt("break",21);case 20:Lf();case 21:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t,n){return ob.apply(this,arguments)}function ob(){return ob=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,s,c,l,f,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ub(t)).Wo){e.next=45;break}a=u(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return Rf("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,vy(i.localStore,s);case 12:return c=e.sent,e.next=15,fy(i.localStore,c);case 15:return l=e.sent,e.next=18,mk(i,tb(c),l.targetId,!1);case 18:sg(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=u(r),e.prev=30,p=h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,hy(i.localStore,t,!1).then((function(){cg(i.remoteStore,t),Dk(i,t)})).catch(Am);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((d=f.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ob.apply(this,arguments)}function ub(e){var t=Uf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ik.bind(null,t),t.Fo.Pr=ek.bind(null,t.eventManager),t.Fo.zo=tk.bind(null,t.eventManager),t}function sb(e){var t=Uf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nk.bind(null,t),t}function cb(e,t,n){var r=Uf(e);(function(){var e=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Uf(e),r=jp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(uk(i)),a=new ok(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,jk(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Uf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Pf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var lb=function(){function e(){(0,c.Z)(this,e),this.synchronizeTabs=!1}return(0,l.Z)(e,[{key:"initialize",value:function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Yy(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return ry(this.persistence,new ty,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Ay(Ry.ks,this.k)}},{key:"Jo",value:function(e){return new zy}},{key:"terminate",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fb=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=(0,p.Z)(h().mark((function e(t){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((0,k.Z)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,yy(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,sb(this.ta.syncEngine);case 8:return e.next=10,Ig(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return ry(this.persistence,new ty,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Pm(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=$m(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ym.withCacheSize(this.cacheSizeBytes):ym.DEFAULT;return new Gm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gy(),Qy(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new zy}}]),n}(lb),hb=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=(0,p.Z)(h().mark((function e(t){var r,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((0,k.Z)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Vy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Qk.bind(null,r),gi:rb.bind(null,r),yi:ab.bind(null,r),Tn:nb.bind(null,r),_i:Kk.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$k(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Gy();if(!Vy.bt(t))throw new Vf(jf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$m(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fb),db=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"initialize",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _k(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),e.next=12,Ug(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Qg}},{key:"createDatastore",value:function(e){var t,n=Yy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ky(t));return function(e,t,n,r){return new tg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _k(o.syncEngine,e,0)},a=By.bt()?new By:new qy,new rg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new dk(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uf(t),Rf("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,og(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function pb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,p.Z)(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var vb=function(){function e(t){(0,c.Z)(this,e),this.observer=t,this.muted=!1}return(0,l.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mb=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.sa=t,this.k=n,this.metadata=new zf,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,l.Z)(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new ik(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yb=function(){function e(t){(0,c.Z)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,l.Z)(e,[{key:"lookup",value:function(){var e=(0,p.Z)(h().mark((function e(t){var n,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Vf(jf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=Kp(r.k)+"/documents",a={documents:n.map((function(e){return qp(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=$p(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ap(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Th.fromPath(t);n.mutations.push(new op(r,n.precondition(r)))})),e.next=7,function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=Kp(r.k)+"/documents",a={writes:n.map((function(e){return Xp(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lf();t=ah.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vf(jf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bd.updateTime(t):Bd.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ah.min()))throw new Vf(jf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bd.updateTime(t)}return Bd.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),gb=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new $y(this.asyncQueue,"transaction_retry")}return(0,l.Z)(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi((0,p.Z)(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new yb(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Eh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!sp(t)}return!1}}]),e}(),kb=function(){function e(t,n,r,i){var a=this;(0,c.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sf.UNAUTHENTICATED,this.clientId=eh.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return(0,l.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vf(jf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new zf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Bg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Rf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,iy(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function xb(e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,_b(t);case 3:return r=e.sent,Rf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Uf(t)).asyncQueue.verifyOperationInProgress(),Rf("RemoteStore","RemoteStore received new credentials"),i=pg(r),r.Gr.add(3),e.next=6,og(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,ig(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function _b(e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Rf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,bb(t,new lb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Tb(e){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,p.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Rf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xb(t,new db);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Cb(e){return _b(e).then((function(e){return e.persistence}))}function Nb(e){return _b(e).then((function(e){return e.localStore}))}function Ab(e){return Tb(e).then((function(e){return e.remoteStore}))}function Ob(e){return Tb(e).then((function(e){return e.syncEngine}))}function Rb(e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,p.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pk.bind(null,n.syncEngine),r.onUnlisten=gk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function Pb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vb({next:function(a){t.enqueueAndForget((function(){return Xg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Vf(jf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Vf(jf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rk(hd(n.path),a,{includeMetadataChanges:!0,wo:!0});return Yg(e,o)},i.next=3,Rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Db(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vb({next:function(n){t.enqueueAndForget((function(){return Xg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vf(jf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rk(n,a,{includeMetadataChanges:!0,wo:!0});return Yg(e,o)},i.next=3,Rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Lb=(0,l.Z)((function e(t,n,r,i,a,o,u,s){(0,c.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Mb=function(){function e(t,n){(0,c.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,l.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Fb=new Map;function Ub(e,t,n){if(!n)throw new Vf(jf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jb(e,t,n,r){if(!0===t&&!0===r)throw new Vf(jf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Vb(e){if(!Th.isDocumentKey(e))throw new Vf(jf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zb(e){if(Th.isDocumentKey(e))throw new Vf(jf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lf()}function Bb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vf(jf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qb(e);throw new Vf(jf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Hb(e,t){if(t<=0)throw new Vf(jf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Wb=function(){function e(t){var n;if((0,c.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vf(jf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vf(jf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kb=function(){function e(t,n,r){(0,c.Z)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,t instanceof Mb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vf(jf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mb(e.options.projectId)}(t))}return(0,l.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Vf(jf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vf(jf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bf;switch(e.type){case"gapi":var t=e.client;return Mf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vf(jf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fb.get(e);t&&(Rf("ComponentProvider","Removing Datastore"),Fb.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Bb(e,Kb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Sf.MOCK_USER;else{o=N(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Vf(jf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sf(s)}e._authCredentials=new Hf(new qf(o,u))}}var Qb=function(){function e(t,n,r){(0,c.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,l.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $b(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Yb=function(){function e(t,n,r){(0,c.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,l.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$b=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,hd(i)))._path=i,a.type="collection",a}return(0,l.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qb(this.firestore,null,new Th(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Yb);function Xb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),Ub("collection","path",t),e instanceof Kb){var a=lh.fromString.apply(lh,[t].concat(r));return zb(a),new $b(e,null,a)}if(!(e instanceof Qb||e instanceof $b))throw new Vf(jf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lh.fromString.apply(lh,[t].concat(r)));return zb(o),new $b(e.firestore,null,o)}function Jb(e,t){if(e=Bb(e,Kb),Ub("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vf(jf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Yb(e,null,function(e){return new ld(lh.emptyPath(),e)}(t))}function ew(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=K(e),1===arguments.length&&(t=eh.A()),Ub("doc","path",t),e instanceof Kb){var a=lh.fromString.apply(lh,[t].concat(r));return Vb(a),new Qb(e,null,new Th(a))}if(!(e instanceof Qb||e instanceof $b))throw new Vf(jf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lh.fromString.apply(lh,[t].concat(r)));return Vb(o),new Qb(e.firestore,e instanceof $b?e.converter:null,new Th(o))}function tw(e,t){return e=K(e),t=K(t),(e instanceof Qb||e instanceof $b)&&(t instanceof Qb||t instanceof $b)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nw(e,t){return e=K(e),t=K(t),e instanceof Yb&&t instanceof Yb&&e.firestore===t.firestore&&wd(e._query,t._query)&&e.converter===t.converter}var rw=function(){function e(){var t=this;(0,c.Z)(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new $y(this,"async_queue_retry"),this.Ra=function(){var e=Qy();e&&Rf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Qy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return(0,l.Z)(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Qy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new zf;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=(0,p.Z)(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),zv(e.t0)){e.next=12;break}throw e.t0;case 12:Rf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=qg.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Lf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=u(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=u(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function iw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=u(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var aw=function(){function e(){(0,c.Z)(this,e),this._progressObserver={},this._taskCompletionResolver=new zf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,l.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ow=-1,uw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new rw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,l.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||fw(this),this._firestoreClient.terminate()}}]),n}(Kb);function sw(e,t){var n=ge(e,"firestore");if(n.isInitialized()){var r=n.getImmediate();if(j(n.getOptions(),t))return r;throw new Vf(jf.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vf(jf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:t})}function cw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e();return ge(e,"firestore").getImmediate()}function lw(e){return e._firestoreClient||fw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new kb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hw(e,t){xw(e=Bb(e,uw));var n=lw(e),r=e._freezeSettings(),i=new db;return pw(n,i,new fb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function dw(e){xw(e=Bb(e,uw));var t=lw(e),n=e._freezeSettings(),r=new db;return pw(t,r,new hb(r,n.cacheSizeBytes))}function pw(e,t,n){var r=new zf;return e.asyncQueue.enqueue((0,p.Z)(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,bb(e,n);case 3:return i.next=5,xb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jf.FAILED_PRECONDITION||e.code===jf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function vw(e){if(e._initialized&&!e._terminated)throw new Vf(jf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new zf;return e._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uv.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Uv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($m(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function mw(e){return function(e){var t=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ok,n.next=3,Ob(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(lw(e=Bb(e,uw)))}function yw(e){return function(e){return e.asyncQueue.enqueue((0,p.Z)(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cb(e);case 2:return n=t.sent,t.next=5,Ab(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Uf(e);return t.Gr.delete(0),ig(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(lw(e=Bb(e,uw)))}function gw(e){return function(e){return e.asyncQueue.enqueue((0,p.Z)(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cb(e);case 2:return n=t.sent,t.next=5,Ab(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uf(t)).Gr.add(0),e.next=4,og(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(lw(e=Bb(e,uw)))}function kw(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he;ge(e,t).clearInstance(n)}(e.app,"firestore"),e._delete()}function bw(e,t){var n=lw(e=Bb(e,uw)),r=new aw;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mb(e,t)}(function(e,t){if(e instanceof Uint8Array)return pb(e,t);if(e instanceof ArrayBuffer)return pb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Yy(t));e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cb,t.next=3,Ob(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ww(e,t){return function(e,t){return e.asyncQueue.enqueue((0,p.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Uf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Nb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(lw(e=Bb(e,uw)),t).then((function(t){return t?new Yb(e,null,t.query):null}))}function xw(e){if(e._initialized||e._terminated)throw new Vf(jf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ew=function(){function e(){(0,c.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vf(jf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hh(n)}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();function _w(){return new Ew("__name__")}var Iw=function(){function e(t){(0,c.Z)(this,e),this._byteString=t}return(0,l.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(vh.fromBase64String(t))}catch(t){throw new Vf(jf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(vh.fromUint8Array(t))}}]),e}(),Tw=(0,l.Z)((function e(t){(0,c.Z)(this,e),this._methodName=t})),Sw=function(){function e(t,n){if((0,c.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new Vf(jf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vf(jf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,l.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return th(this._lat,e._lat)||th(this._long,e._long)}}]),e}(),Cw=/^__.*__$/,Nw=function(){function e(t,n,r){(0,c.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xd(e,this.data,t,this.fieldTransforms)}}]),e}(),Aw=function(){function e(t,n,r){(0,c.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,l.Z)(e,[{key:"toMutation",value:function(e,t){return new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ow(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lf()}}var Rw=function(){function e(t,n,r,i,a,o){(0,c.Z)(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,l.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Xw(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Ow(this.xa)&&Cw.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),Zw=function(){function e(t,n,r){(0,c.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Yy(t)}return(0,l.Z)(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rw({xa:e,methodName:t,Ka:n,path:hh.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Pw(e){var t=e._freezeSettings(),n=Yy(e._databaseId);return new Zw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);Gw("Data must be an object, but it was:",o,r);var s,c,l=Ww(r,o);if(a.merge)s=new dh(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=u(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Qw(t,p,n);if(!o.contains(v))throw new Vf(jf.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Jw(h,v)||h.push(v)}}catch(m){d.e(m)}finally{d.f()}s=new dh(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new Nw(new Vh(l),s,c)}var Lw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Tw);function Mw(e,t,n){return new Rw({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Fw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){return new zd(e.path,new Pd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Tw),Uw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).Qa=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Mw(this,e,!0),n=this.Qa.map((function(e){return Hw(e,t)})),r=new Dd(n);return new zd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tw),jw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).Qa=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=Mw(this,e,!0),n=this.Qa.map((function(e){return Hw(e,t)})),r=new Md(n);return new zd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tw),Vw=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).Wa=r,i}return(0,l.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new Ud(e.k,Nd(e.k,this.Wa));return new zd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tw);function zw(e,t,n,r){var i=e.ja(1,t,n);Gw("Data must be an object, but it was:",i,r);var a=[],o=Vh.empty();uh(r,(function(e,r){var u=$w(t,e,n);r=K(r);var s=i.La(u);if(r instanceof Lw)a.push(u);else{var c=Hw(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new dh(a);return new Aw(o,u,i.fieldTransforms)}function qw(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[Qw(t,r,n)],s=[i];if(a.length%2!=0)throw new Vf(jf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Qw(t,a[c])),s.push(a[c+1]);for(var l=[],f=Vh.empty(),h=u.length-1;h>=0;--h)if(!Jw(l,u[h])){var d=u[h],p=s[h];p=K(p);var v=o.La(d);if(p instanceof Lw)l.push(d);else{var m=Hw(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new dh(l);return new Aw(f,y,o.fieldTransforms)}function Bw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Hw(n,e.ja(r?4:3,t))}function Hw(e,t){if(Kw(e=K(e)))return Gw("Unsupported field value:",t,e),Ww(e,t);if(e instanceof Tw)return function(e,t){if(!Ow(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=u(e);try{for(a.s();!(n=a.n()).done;){var o=Hw(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=K(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Nd(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ih.fromDate(e);return{timestampValue:Mp(t.k,n)}}if(e instanceof ih){var r=new ih(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mp(t.k,r)}}if(e instanceof Sw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Iw)return{bytesValue:Fp(t.k,e._byteString)};if(e instanceof Qb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(qb(e)))}(e,t)}function Ww(e,t){var n={};return sh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uh(e,(function(e,r){var i=Hw(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Kw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ih||e instanceof Sw||e instanceof Iw||e instanceof Qb||e instanceof Tw)}function Gw(e,t,n){if(!Kw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qb(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Qw(e,t,n){if((t=K(t))instanceof Ew)return t._internalPath;if("string"==typeof t)return $w(e,t);throw Xw("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Yw=new RegExp("[~\\*/\\[\\]]");function $w(e,t,n){if(t.search(Yw)>=0)throw Xw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(Ew,(0,d.Z)(t.split(".")))._internalPath}catch(r){throw Xw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Xw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Vf(jf.INVALID_ARGUMENT,u+e+s)}function Jw(e,t){return e.some((function(e){return e.isEqual(t)}))}var ex=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,l.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(nx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),tx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"data",value:function(){return Se((0,k.Z)(n.prototype),"data",this).call(this)}}]),n}(ex);function nx(e,t){return"string"==typeof t?$w(e,t):t instanceof Ew?t._internalPath:t._delegate._internalPath}var rx=function(){function e(t,n){(0,c.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,l.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ix=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i,a,o,u){var s;return(0,c.Z)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,l.Z)(n,[{key:"exists",value:function(){return Se((0,k.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ax(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(nx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ex),ax=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Se((0,k.Z)(n.prototype),"data",this).call(this,e)}}]),n}(ix),ox=function(){function e(t,n,r,i){(0,c.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new rx(i.hasPendingWrites,i.fromCache),this.query=r}return(0,l.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ax(n._firestore,n._userDataWriter,r.key,r,new rx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vf(jf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new ax(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ax(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ux(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ux(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lf()}}function sx(e,t){return e instanceof ix&&t instanceof ix?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ox&&t instanceof ox&&e._firestore===t._firestore&&nw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function cx(e){if(pd(e)&&0===e.explicitOrderBy.length)throw new Vf(jf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lx=(0,l.Z)((function e(){(0,c.Z)(this,e)}));function fx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var hx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=Pw(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vf(jf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){Sx(o,a);var c,l=[],f=u(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(Tx(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=Tx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Sx(o,a),s=Bw(n,"where",o,"in"===a||"not-in"===a);var d=Qh.create(i,a,s);return function(e,t){if(t.V()){var n=md(e);if(null!==n&&!n.isEqual(t.field))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=vd(e);null!==r&&Cx(e,t.field,r)}var i=function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vf(jf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vf(jf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Yb(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ld(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(lx);function dx(e,t,n){var r=t,i=nx("where",e);return new hx(i,r,n)}var px=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new od(t,n);return function(e,t){if(null===vd(e)){var n=md(e);null!==n&&Cx(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Yb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ld(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(lx);function vx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=nx("orderBy",e);return new px(r,n)}var mx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){return new Yb(e.firestore,e.converter,bd(e._query,this.Ya,this.Xa))}}]),n}(lx);function yx(e){return Hb("limit",e),new mx("limit",e,"F")}function gx(e){return Hb("limitToLast",e),new mx("limitToLast",e,"L")}var kx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=Ix(e,this.type,this.Za,this.tc);return new Yb(e.firestore,e.converter,function(e,t){return new ld(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(lx);function bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kx("startAt",t,!0)}function wx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kx("startAfter",t,!1)}var xx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r,i){var a;return(0,c.Z)(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return(0,l.Z)(n,[{key:"_apply",value:function(e){var t=Ix(e,this.type,this.Za,this.tc);return new Yb(e.firestore,e.converter,function(e,t){return new ld(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(lx);function Ex(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xx("endBefore",t,!0)}function _x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xx("endAt",t,!1)}function Ix(e,t,n,r){if(n[0]=K(n[0]),n[0]instanceof ex)return function(e,t,n,r,i){if(!r)throw new Vf(jf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=u(gd(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(Ph(t,r.key));else{var l=r.data.field(c.field);if(bh(l))throw new Vf(jf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new id(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Pw(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Vf(jf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!yd(e)&&-1!==c.indexOf("/"))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lh.fromString(c));if(!Th.isDocumentKey(l))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Th(l);u.push(Ph(t,f))}else{var h=Bw(n,r,c);u.push(h)}}return new id(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Tx(e,t,n){if("string"==typeof(n=K(n))){if(""===n)throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yd(t)&&-1!==n.indexOf("/"))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lh.fromString(n));if(!Th.isDocumentKey(r))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ph(e,new Th(r))}if(n instanceof Qb)return Ph(e,n._key);throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qb(n),"."))}function Sx(e,t){if(!Array.isArray(e)||0===e.length)throw new Vf(jf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Vf(jf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Cx(e,t,n){if(!n.isEqual(t))throw new Vf(jf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Nx=function(){function e(){(0,c.Z)(this,e)}return(0,l.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uh(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Sw(gh(e.latitude),gh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=yh(e);return new ih(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lh.fromString(e);Mf(dv(n));var r=new Mb(n.get(1),n.get(3)),i=new Th(n.popFirst(5));return r.isEqual(t)||Zf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Ax(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ox=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,l.Z)(n,[{key:"convertBytes",value:function(e){return new Iw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qb(this.firestore,null,t)}}]),n}(Nx),Rx=function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pw(t)}return(0,l.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Zx(e,this._firestore),i=Ax(r.converter,t,n),a=Dw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bd.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Zx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=K(t))||t instanceof Ew?qw(this._dataReader,"WriteBatch.update",i._key,t,n,o):zw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bd.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Zx(e,this._firestore);return this._mutations=this._mutations.concat(new ap(t._key,Bd.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Vf(jf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Zx(e,t){if((e=K(e)).firestore!==t)throw new Vf(jf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Px(e){e=Bb(e,Qb);var t=Bb(e.firestore,uw);return Pb(lw(t),e._key).then((function(n){return Gx(t,e,n)}))}var Dx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,l.Z)(n,[{key:"convertBytes",value:function(e){return new Iw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qb(this.firestore,null,t)}}]),n}(Nx);function Lx(e){e=Bb(e,Qb);var t=Bb(e.firestore,uw),n=lw(t),r=new Dx(t);return function(e,t){var n=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,p.Z)(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Uf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Vf(jf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Bg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new ix(t,r,e._key,n,new rx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Mx(e){e=Bb(e,Qb);var t=Bb(e.firestore,uw);return Pb(lw(t),e._key,{source:"server"}).then((function(n){return Gx(t,e,n)}))}function Fx(e){e=Bb(e,Yb);var t=Bb(e.firestore,uw),n=lw(t),r=new Dx(t);return cx(e._query),Db(n,e._query).then((function(n){return new ox(t,r,e,n)}))}function Ux(e){e=Bb(e,Yb);var t=Bb(e.firestore,uw),n=lw(t),r=new Dx(t);return function(e,t){var n=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,py(t,n,!0);case 3:i=e.sent,a=new lk(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Bg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new ox(t,r,e,n)}))}function jx(e){e=Bb(e,Yb);var t=Bb(e.firestore,uw),n=lw(t),r=new Dx(t);return Db(n,e._query,{source:"server"}).then((function(n){return new ox(t,r,e,n)}))}function Vx(e,t,n){e=Bb(e,Qb);var r=Bb(e.firestore,uw),i=Ax(e.converter,t,n);return Kx(r,[Dw(Pw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bd.none())])}function zx(e,t,n){e=Bb(e,Qb);for(var r=Bb(e.firestore,uw),i=Pw(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Kx(r,[("string"==typeof(t=K(t))||t instanceof Ew?qw(i,"updateDoc",e._key,t,n,o):zw(i,"updateDoc",e._key,t)).toMutation(e._key,Bd.exists(!0))])}function qx(e){return Kx(Bb(e.firestore,uw),[new ap(e._key,Bd.none())])}function Bx(e,t){var n=Bb(e.firestore,uw),r=ew(e),i=Ax(e.converter,t);return Kx(n,[Dw(Pw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bd.exists(!1))]).then((function(){return r}))}function Hx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=K(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||iw(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(iw(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Qb)l=Bb(e.firestore,uw),f=hd(e._key.path),c={next:function(t){n[s]&&n[s](Gx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var m=Bb(e,Yb);l=Bb(m.firestore,uw),f=m._query;var y=new Dx(l);c={next:function(e){n[s]&&n[s](new ox(l,y,m,e))},error:n[s+1],complete:n[s+2]},cx(e._query)}return function(e,t,n,r){var i=new vb(r),a=new rk(t,i,n);return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yg,t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xg,t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lw(l),f,d,c)}function Wx(e,t){return function(e,t){var n=new vb(t);return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uf(e).io.add(t),t.next()},t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uf(e).io.delete(t)},t.next=3,Rb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lw(e=Bb(e,uw)),iw(t)?t:{next:t})}function Kx(e,t){return function(e,t){var n=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bk,r.next=3,Ob(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lw(e),t)}function Gx(e,t,n){var r=n.docs.get(t._key),i=new Dx(e);return new ix(e,i,t._key,r,new rx(n.hasPendingWrites,n.fromCache),t.converter)}var Qx=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,l.Z)(n,[{key:"get",value:function(e){var t=this,r=Zx(e,this._firestore),i=new Dx(this._firestore);return Se((0,k.Z)(n.prototype),"get",this).call(this,e).then((function(e){return new ix(t._firestore,i,r._key,e._document,new rx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){(0,c.Z)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Pw(t)}return(0,l.Z)(e,[{key:"get",value:function(e){var t=this,n=Zx(e,this._firestore),r=new Ox(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Lf();var i=e[0];if(i.isFoundDocument())return new ex(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ex(t._firestore,r,n._key,null,n.converter);throw Lf()}))}},{key:"set",value:function(e,t,n){var r=Zx(e,this._firestore),i=Ax(r.converter,t,n),a=Dw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Zx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=K(t))||t instanceof Ew?qw(this._dataReader,"Transaction.update",i._key,t,n,o):zw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Zx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Yx(e,t){return function(e,t){var n=new zf;return e.asyncQueue.enqueueAndForget((0,p.Z)(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Tb(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new gb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(lw(e=Bb(e,uw)),(function(n){return t(new Qx(e,n))}))}function $x(){return new Lw("deleteField")}function Xx(){return new Fw("serverTimestamp")}function Jx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Uw("arrayUnion",t)}function eE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jw("arrayRemove",t)}function tE(e){return new Vw("increment",e)}function nE(e){return lw(e=Bb(e,uw)),new Rx(e,(function(t){return Kx(e,t)}))}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Cf="9.6.1",ye(new G("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uw(i,new Wf(e.getProvider("auth-internal")),new Yf(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ie(Tf,"3.4.1",e),Ie(Tf,"3.4.1","esm2017")}();var rE="firebasestorage.googleapis.com",iE=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,aE(e),"Firebase Storage: ".concat(r," (").concat(aE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf((0,m.Z)(i),n.prototype),i}return(0,l.Z)(n,[{key:"_codeEquals",value:function(e){return aE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(L);function aE(e){return"storage/"+e}function oE(){return new iE("unknown","An unknown error occurred, please check the error payload for server response.")}function uE(){return new iE("canceled","User canceled the upload/download.")}function sE(){return new iE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cE(e){return new iE("invalid-argument",e)}function lE(){return new iE("app-deleted","The Firebase app was deleted.")}function fE(e){return new iE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hE(e,t){return new iE("invalid-format","String does not match format '"+e+"': "+t)}function dE(e){throw new iE("internal-error","Internal error: "+e)}var pE,vE=function(){function e(t,n){(0,c.Z)(this,e),this.bucket=t,this.path_=n}return(0,l.Z)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new iE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===rE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new iE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),mE=function(){function e(t){(0,c.Z)(this,e),this.promise_=Promise.reject(t)}return(0,l.Z)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function yE(e){return"string"===typeof e||e instanceof String}function gE(e){return kE()&&e instanceof Blob}function kE(){return"undefined"!==typeof Blob}function bE(e,t,n,r){if(r<t)throw cE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw cE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function wE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function xE(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pE||(pE={}));var EE=function(){function e(t,n,r,i,a,o,u,s,l,f,h){var d=this;(0,c.Z)(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return(0,l.Z)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=oE();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?lE():uE());else i(new iE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new _E(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new _E(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===pE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new _E(o,r))}else{var u=r.getErrorCode()===pE.ABORT;t(!1,new _E(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),_E=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function IE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function TE(){for(var e=IE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(kE())return new Blob(n);throw new iE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var SE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},CE=(0,l.Z)((function e(t,n){(0,c.Z)(this,e),this.data=t,this.contentType=n||null}));function NE(e,t){switch(e){case SE.RAW:return new CE(AE(t));case SE.BASE64:case SE.BASE64URL:return new CE(OE(e,t));case SE.DATA_URL:return new CE(function(e){var t=new RE(e);return t.base64?OE(SE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw hE(SE.DATA_URL,"Malformed data URL.")}return AE(t)}(t.rest)}(t),new RE(t).contentType)}throw oE()}function AE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function OE(e,t){switch(e){case SE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw hE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case SE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw hE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw hE(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var RE=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw hE(SE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ZE=function(){function e(t,n){(0,c.Z)(this,e);var r=0,i="";gE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return(0,l.Z)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(gE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(kE()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(TE.apply(null,i))}var a=n.map((function(e){return yE(e)?NE(SE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function PE(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function DE(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function LE(e,t){return t}var ME=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||LE})),FE=null;function UE(){if(FE)return FE;var e=[];e.push(new ME("bucket")),e.push(new ME("generation")),e.push(new ME("metageneration")),e.push(new ME("name","fullPath",!0));var t=new ME("name");t.xform=function(e,t){return function(e){return!yE(e)||e.length<2?e:DE(e)}(t)},e.push(t);var n=new ME("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ME("timeCreated")),e.push(new ME("updated")),e.push(new ME("md5Hash",null,!0)),e.push(new ME("cacheControl",null,!0)),e.push(new ME("contentDisposition",null,!0)),e.push(new ME("contentEncoding",null,!0)),e.push(new ME("contentLanguage",null,!0)),e.push(new ME("contentType",null,!0)),e.push(new ME("metadata","customMetadata",!0)),FE=e}function jE(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new vE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function VE(e,t,n){var r=PE(t);return null===r?null:jE(e,r,n)}function zE(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function qE(e,t,n){var r=PE(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=u(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new vE(t,o));r.prefixes.push(s)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var c,l=u(n.items);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=e._makeStorageReference(new vE(t,f.name));r.items.push(h)}}catch(d){l.e(d)}finally{l.f()}}return r}(e,t,r)}var BE=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function HE(e){if(!e)throw oE()}function WE(e,t){return function(n,r){var i=VE(e,r,t);return HE(null!==i),i}}function KE(e,t){return function(n,r){var i=VE(e,r,t);return HE(null!==i),function(e,t,n,r){var i=PE(t);if(null===i)return null;if(!yE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return wE("/b/"+o(i)+"/o/"+o(a),n,r)+xE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function GE(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new iE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new iE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new iE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new iE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function QE(e){var t=GE(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new iE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function YE(e,t,n){var r=wE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new BE(r,"GET",WE(e,n),i);return a.errorHandler=QE(t),a}function $E(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=wE(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new BE(o,"GET",function(e,t){return function(n,r){var i=qE(e,t,r);return HE(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=GE(t),s}function XE(e,t,n){var r=wE(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=e.maxOperationRetryTime,a=new BE(r,"GET",(function(e,t){return t}),i);return a.errorHandler=QE(t),void 0!==n&&(a.headers.Range="bytes=0-".concat(n),a.successCodes=[200,206]),a}function JE(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function e_(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=JE(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zE(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=ZE.getBlob(c,r,l);if(null===f)throw sE();var h={name:s.fullPath},d=wE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new BE(d,"POST",WE(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=GE(t),v}var t_=(0,l.Z)((function e(t,n,r,i){(0,c.Z)(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function n_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){HE(!1)}return HE(!!n&&-1!==(t||["active"]).indexOf(n)),n}var r_=262144;function i_(e,t,n,r,i,a,o,u){var s=new t_(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new iE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw sE();var v=t.maxUploadRetryTime,m=new BE(n,"POST",(function(e,n){var i,o=n_(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?WE(t,a)(e,n):null,new t_(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=GE(e),m}var a_={STATE_CHANGED:"state_changed"},o_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function u_(e){switch(e){case"running":case"pausing":case"canceling":return o_.RUNNING;case"paused":return o_.PAUSED;case"success":return o_.SUCCESS;case"canceled":return o_.CANCELED;default:return o_.ERROR}}var s_=(0,l.Z)((function e(t,n,r){(0,c.Z)(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function c_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var l_=function(){function e(){var t=this;(0,c.Z)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=pE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=pE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return(0,l.Z)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw dE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw dE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw dE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw dE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw dE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),f_=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(l_);function h_(){return new f_}var d_=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="arraybuffer"}}]),n}(l_);function p_(){return new d_}var v_=function(e){(0,y.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="blob"}}]),n}(l_);function m_(){return new v_}var y_=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,c.Z)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=UE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return(0,l.Z)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,v.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=JE(t,r,i),u={name:o.fullPath},s=wE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=zE(o,n),f=e.maxUploadRetryTime,h=new BE(s,"POST",(function(e){var t;n_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){HE(!1)}return HE(yE(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=GE(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,h_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new BE(n,"POST",(function(e){var t=n_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){HE(!1)}n||HE(!1);var i=Number(n);return HE(!isNaN(i)),new t_(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=GE(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,h_,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=r_*this._chunkMultiplier,n=new t_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=i_(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,h_,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){r_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=YE(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,h_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=e_(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,h_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=u_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new s_(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(u_(this._state)){case o_.SUCCESS:c_(this._resolve.bind(null,this.snapshot))();break;case o_.CANCELED:case o_.ERROR:c_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(u_(this._state)){case o_.RUNNING:case o_.PAUSED:e.next&&c_(e.next.bind(e,this.snapshot))();break;case o_.SUCCESS:e.complete&&c_(e.complete.bind(e))();break;case o_.CANCELED:case o_.ERROR:default:e.error&&c_(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),g_=function(){function e(t,n){(0,c.Z)(this,e),this._service=t,this._location=n instanceof vE?n:vE.makeFromUrl(n,t.host)}return(0,l.Z)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new vE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return DE(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new vE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw fE(e)}}]),e}();function k_(e,t,n){e._throwIfRoot("uploadBytes");var r=e_(e.storage,e._location,UE(),new ZE(t,!0),n);return e.storage.makeRequestWithTokens(r,h_).then((function(t){return{metadata:t,ref:e}}))}function b_(e,t,n){return w_.apply(this,arguments)}function w_(){return w_=(0,p.Z)(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,x_(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,d.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,d.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,b_(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){null!=t&&"number"===typeof t.maxResults&&bE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=$E(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,h_)}function E_(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=wE(t.fullServerUrl(),e.host,e._protocol),a=zE(n,r),o=e.maxOperationRetryTime,u=new BE(i,"PATCH",WE(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=QE(t),u}(e.storage,e._location,t,UE());return e.storage.makeRequestWithTokens(n,h_)}function __(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=wE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new BE(r,"GET",KE(e,n),i);return a.errorHandler=QE(t),a}(e.storage,e._location,UE());return e.storage.makeRequestWithTokens(t,h_).then((function(e){if(null===e)throw new iE("no-download-url","The given file does not have any download URLs.");return e}))}function I_(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=wE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new BE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=QE(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,h_)}function T_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vE(e._location.bucket,n);return new g_(e.storage,r)}function S_(e,t){if(e instanceof O_){var n=e;if(null==n._bucket)throw new iE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new g_(n,n._bucket);return null!=t?S_(r,t):r}return void 0!==t?T_(e,t):e}function C_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof O_)return new g_(e,t);throw cE("To use ref(service, url), the first argument must be a Storage instance.")}return S_(e,t)}function N_(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:vE.makeFromBucketSpec(n,e)}function A_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:N(i,e.app.options.projectId))}var O_=function(){function e(t,n,r,i,a){(0,c.Z)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=rE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vE.makeFromBucketSpec(i,this._host):N_(this._host,this.app.options)}return(0,l.Z)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=vE.makeFromBucketSpec(this._url,e):this._bucket=N_(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){bE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=(0,p.Z)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new g_(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new mE(lE());var a=function(e,t,n,r,i,a){var o=xE(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new EE(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=(0,p.Z)(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,v.Z)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),R_="@firebase/storage",Z_="0.9.0",P_="storage";function D_(e,t){return function(e,t){e._throwIfRoot("getBytes");var n=XE(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,p_).then((function(e){return void 0!==t?e.slice(0,t):e}))}(e=K(e),t)}function L_(e,t,n){return k_(e=K(e),t,n)}function M_(e,t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SE.RAW,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");var i=NE(n,t),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),k_(e,i.data,a)}(e=K(e),t,n,r)}function F_(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new y_(e,new ZE(t),n)}(e=K(e),t,n)}function U_(e){return function(e){e._throwIfRoot("getMetadata");var t=YE(e.storage,e._location,UE());return e.storage.makeRequestWithTokens(t,h_)}(e=K(e))}function j_(e,t){return E_(e=K(e),t)}function V_(e,t){return x_(e=K(e),t)}function z_(e){return function(e){var t={prefixes:[],items:[]};return b_(e,t).then((function(){return t}))}(e=K(e))}function q_(e){return __(e=K(e))}function B_(e){return I_(e=K(e))}function H_(e,t){return C_(e=K(e),t)}function W_(e,t){return T_(e,t)}function K_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e(),t=arguments.length>1?arguments[1]:void 0,n=ge(e=K(e),P_),r=n.getImmediate({identifier:t});return r}function G_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};A_(e,t,n,r)}function Q_(e,t){return function(e,t){e._throwIfRoot("getBlob");var n=XE(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,m_).then((function(e){return void 0!==t?e.slice(0,t):e}))}(e=K(e),t)}function Y_(e,t){throw new Error("getStream() is only supported by NodeJS builds")}function $_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new O_(r,i,a,n,Ee)}ye(new G(P_,$_,"PUBLIC").setMultipleInstances(!0)),Ie(R_,Z_,""),Ie(R_,Z_,"esm2017");!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:he,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw we.create("bad-app-name",{appName:String(i)});var a=pe.get(i);if(a){if(j(e,a.options)&&j(r,a.config))return a;throw we.create("duplicate-app",{appName:i})}var o,s=new J(i),c=u(ve.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new xe(e,r,s);pe.set(i,f)}({apiKey:"AIzaSyAy9E9oR2A7hCPOrMQVpkrquwJh5tTl4do",authDomain:"ntwttier.firebaseapp.com",projectId:"ntwttier",storageBucket:"ntwttier.appspot.com",messagingSenderId:"753766466093",appId:"1:753766466093:web:40d2f059ef324b30c16ea4"});var X_=r,J_=i,eI=a},436:function(e,t,n){"use strict";n.r(t);var r=n(413),i=n(861),a=n(671),o=n(144),u=n(757),s=n.n(u);e=n.hmd(e);var c=n(46).DB_NTWIEET_COLLECTION_NAME,l=n(658).v4,f=n(149),h=f.dbService,d=f.storageService,p=f.authService,v=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,a.Z)(this,e),this.text=t,this.creatorId=n,this.createdAt=Date.now(),this.attachment=r}return(0,o.Z)(e,[{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e}},{key:"getCreatorId",value:function(){return this.creatorId}},{key:"setCreatorId",value:function(e){this.creatorId=e}},{key:"getCreatedAt",value:function(){return this.createdAt}},{key:"setCreatedAt",value:function(e){this.createdAt=e}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(e){this.attachment=e}},{key:"getObject",value:function(){return{text:this.text,createdAt:this.createdAt,creatorId:this.creatorId,attachment:this.attachment}}},{key:"createUserWithEmailAndPassword",value:function(){var e=(0,i.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.getAuth(),e.next=3,p.createUserWithEmailAndPassword(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var e=(0,i.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.getAuth(),e.next=3,p.signInWithEmailAndPassword(r,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNweetsByUserId",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,i,a,o,u,l,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.getFirestore(),i=h.collection(n,c),a=h.where("creatorId","==",t),o=h.orderBy("createdAt","desc"),u=h.query(i,a,o),e.next=7,h.getDocs(u);case 7:return l=e.sent,f=[],e.next=11,l.forEach((function(e){f.push((0,r.Z)((0,r.Z)({},e.data()),{},{id:e.id}))}));case 11:return e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNweetById",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.getFirestore(),e.next=3,h.doc(n,c,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createtweet",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.getFirestore(),r=h.collection(n,c),e.prev=2,e.next=5,h.addDoc(r,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateNtweet",value:function(){var e=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.updateDoc(t,{text:n.text,attachment:n.attachment});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteNtweet",value:function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.deleteDoc(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=(0,i.Z)(s().mark((function e(t,n){var r,i,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t){e.next=3;break}return e.abrupt("return",r);case 3:return i=t.name,a=this.makeStorageFileName(i),o=d.ref(d.getStorage(),"/images/".concat(this.creatorId,"/").concat(a)),e.next=8,d.uploadString(o,n,d.StringFormat.DATA_URL);case 8:return e.next=10,d.getDownloadURL(o);case 10:return u=e.sent,e.abrupt("return",{filename:a,attachmentUrl:u});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteFile",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=d.ref(d.getStorage(),t.attachment.attachmentUrl),e.next=4,d.deleteObject(n);case 4:return e.abrupt("return",!0);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"makeStorageFileName",value:function(e){var t=e.substring(e.lastIndexOf("."),e.length).replaceAll(".","");return"".concat(e.substring(0,e.lastIndexOf(".")),"_").concat(l(),".").concat(t)}},{key:"updateProfile",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.getAuth().currentUser,e.next=3,p.updateProfile(n,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();e.exports.NtweetObject=v},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},190:function(e,t,n){"use strict";e.exports=n(501)},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,T=60114,S=60109,C=60110,N=60112,A=60113,O=60120,R=60115,Z=60116,P=60121,D=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),_=U("react.fragment"),I=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),R=U("react.memo"),Z=U("react.lazy"),P=U("react.block"),U("react.scope"),D=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var j,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var B=!1;function H(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case P:return K(e._render);case Z:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ze(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Ze,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(De(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Ve=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Be=!1,He=null,We=!1,Ke=null,Ge={onError:function(e){Be=!0,He=e}};function Qe(e,t,n,r,i,a,o,u,s){Be=!1,He=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Ot=St("transitionend"),Rt=new Map,Zt=new Map,Pt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Zt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?jt(10,t):e;case 10:return 0===(e=Vt(192&~t))?jt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Me||De();var i=Xt,a=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=a)||Ue()}}function $t(e,t,n,r){Gt(Kt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Zn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,jn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function $n(e){Nr(e,0)}function Xn(e){if($(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Gn(t,Yn,e,Te(e)),e=$n,Me)e(t);else{Me=!0;try{Ze(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Zt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),Be){if(!Be)throw Error(o(198));var l=He;Be=!1,He=null,We||(We=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(We)throw e=Ke,We=!1,Ke=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Sr.has(t)||Zr(t,!1,e,null),Zr(t,!0,e,null)})))}function Zr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Pr(a,e,i,t),o.add(u))}function Pr(e,t,n,r){var i=Zt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ct:case Nt:case At:s=bn;break;case Ot:s=Zn;break;case"scroll":s=vn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Mr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=je(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Vr=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Jr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Zi=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,ji=null,Vi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Bi(){switch(Oi()){case Ri:return 99;case Zi:return 98;case Pi:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Zi;case 97:return Pi;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Ii(e,t)}function Ki(e,t,n){return e=Hi(e),Ti(e,t,n)}function Gi(){if(null!==ji){var e=ji;ji=null,Si(e)}Qi()}function Qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,Gi),n}finally{Vi=!1}}}var Yi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Ji=null,ea=null,ta=null;function na(){ta=ea=Ji=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Ji=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Ji)throw Error(o(308));ea=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Vu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=$s(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Gs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Za(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Pa(){li(Na),li(Aa),li(Oa)}function Da(e){Ra(Oa.current);var t=Ra(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,Va=!1;function za(e,t){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ba(e){if(Va){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Gr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Ua=e);za(Ua,n)}Ua=e,ja=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Wa(e){if(e!==Ua)return!1;if(!Va)return Ha(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=ja;t;)za(e,t),t=Gr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?Gr(e.stateNode.nextSibling):null;return!0}function Ka(){ja=Ua=null,Va=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ya=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Xa=0,Ja=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Zo:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Do,e=n(r,i)}while(ro)}if(Ya.current=Ro,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Ja=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ja.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ja.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ja.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=l,Vu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Zu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Bt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Ja,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Ja.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Ja.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Bi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Zo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Ja,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Bo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$i(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Za(e,t.containerInfo)}var Go,Qo,Yo,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ba(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Gs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Gs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Pa(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Na.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Jr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Go(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Na.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Zu||0===(134217727&Vu)&&0===(134217727&zu)||gs(Zu,Du))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Na.current);var o,u=null;switch(n){case"input":a=J(e,a),r=J(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,$u=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ms(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ms(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Ru=0,Zu=null,Pu=null,Du=0,Lu=0,Mu=ci(0),Fu=0,Uu=null,ju=0,Vu=0,zu=0,qu=0,Bu=null,Hu=0,Wu=1/0;function Ku(){Wu=qi()+500}var Gu,Qu=null,Yu=!1,$u=null,Xu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Bi()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Bu?Bu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Bi(),0!==(4&Ru)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Zu&&(zu|=t,4===Fu&&gs(e,Du));var r=Bi();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ms(e,n),0===Ru&&(Ku(),Gi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Bu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Bt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Zu?Du:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=Ti(Ri,Qi)):Ui.push(n),n=Mi):14===t?n=Ki(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ds()&&e.callbackNode!==t)return null;var n=Ft(e,e===Zu?Du:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Ts();for(Zu===e&&Du===r||(Ku(),_s(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Ru=i,null!==Pu?r=0:(Zu=null,Du=0,r=Fu),0!==(ju&zu))_s(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ss(e,n))),1===r)throw t=Uu,_s(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Bt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(Ds(),e===Zu&&0!==(e.expiredLanes&Du)){var t=Du,n=Ss(e,t);0!==(ju&zu)&&(n=Ss(e,t=Ft(e,t)))}else n=Ss(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ss(e,t))),1===n)throw n=Uu,_s(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ms(e,qi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Gi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Gi())}}function xs(e,t){fi(Mu,Lu),Lu|=t,ju|=t}function Es(){Lu=Mu.current,li(Mu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Pa();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Zu=e,Pu=Ws(e.current,null),Du=Lu=ju=t,Fu=0,Uu=null,qu=zu=Vu=0}function Is(e,t){for(;;){var n=Pu;try{if(na(),Ya.current=Ro,no){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Ja=null,ro=!1,Ou.current=null,null===n||null===n.return){Fu=1,Uu=t,Pu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Du,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Vs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function Ts(){var e=Au.current;return Au.current=Ro,null===e?Ro:e}function Ss(e,t){var n=Ru;Ru|=16;var r=Ts();for(Zu===e&&Du===t||_s(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ru=n,Au.current=r,null!==Pu)throw Error(o(261));return Zu=null,Du=0,Fu}function Cs(){for(;null!==Pu;)As(Pu)}function Ns(){for(;null!==Pu&&!Ci();)As(Pu)}function As(e){var t=Gu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Os(e):Pu=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Pu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Pu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Fu&&(Fu=5)}function Rs(e){var t=Bi();return Wi(99,Zs.bind(null,e,t)),null}function Zs(e,t){do{Ds()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Bt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Zu&&(Pu=Zu=null,Du=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Ou.current=null,Vr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ps()}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Tu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Tu(Qu.alternate,Qu);break;case 4:Tu(Qu.alternate,Qu);break;case 8:Iu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);if(w=zr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Vr,zr=Vr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var E=Qu.flags;if(36&E&&yu(k,Qu.alternate,Qu),128&E){b=void 0;var _=Qu.ref;if(null!==_){var I=Qu.stateNode;Qu.tag,b=I,"function"===typeof _?_(b):_.current=b}}Qu=Qu.nextEffect}}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Fi(),Ru=i}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((E=Qu).sibling=null,E.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(ms(e,qi()),Yu)throw Yu=!1,e=$u,$u=null,e;return 0!==(8&Ru)||Gi(),null}function Ps(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Ju||(Ju=!0,Ki(97,(function(){return Ds(),null}))),Qu=Qu.nextEffect}}function Ds(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Fs)}return!1}function Ls(e,t){ns.push(t,e),Ju||(Ju=!0,Ki(97,(function(){return Ds(),null})))}function Ms(e,t){rs.push(t,e),Ju||(Ju=!0,Ki(97,(function(){return Ds(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Gi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Zu===e&&(Du&n)===n&&(4===Fu||3===Fu&&(62914560&Du)===Du&&500>qi()-Hu?_s(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Bi()?1:2:(0===ss&&(ss=ju),0===(t=Vt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Bs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Gs(n.children,i,a,t);case L:u=8,i|=16;break;case I:u=8,i|=1;break;case T:return(e=Bs(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Bs(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Bs(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return Qs(n,i,a,t);case F:return(e=Bs(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case N:u=11;break e;case R:u=14;break e;case Z:u=16,r=null;break e;case P:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return(e=Bs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Bs(23,e,r,t)).elementType=M,e.lanes=n,e}function Ys(e,t,n){return(e=Bs(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Bs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Bs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Js(e,t,null,n)}Gu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:Da(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Gr(t.stateNode.containerInfo.firstChild),Ua=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ka();t=t.child}return t;case 5:return Da(t),null===e&&Ba(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Br(r,i)?u=null:null!==a&&Br(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ba(t),null;case 13:return Xo(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),jo(e,t,i,a=$i(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ze=bs,Pe=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Ku(),Gi())}},De=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Gi()}(),Ds())},Le=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Gi())}};var sc={Events:[ri,ii,ai,Oe,Re,Ds,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ru=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,N=null,A=3,O=!1,R=!1,Z=!1;function P(e){for(var t=E(S);null!==t;){if(null===t.callback)_(S);else{if(!(t.startTime<=e))break;_(S),t.sortIndex=t.expirationTime,x(T,t)}t=E(S)}}function D(e){if(Z=!1,P(e),!R)if(null!==E(T))R=!0,n(L);else{var t=E(S);null!==t&&r(D,t.startTime-e)}}function L(e,n){R=!1,Z&&(Z=!1,i()),O=!0;var a=A;try{for(P(n),N=E(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(T)&&_(T),P(n)}else _(T);N=E(T)}if(null!==N)var s=!0;else{var c=E(S);null!==c&&r(D,c.startTime-n),s=!1}return s}finally{N=null,A=a,O=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(S,e),null===E(T)&&e===E(S)&&(Z?i():Z=!0,r(D,o-u))):(e.sortIndex=s,x(T,e),R||O||(R=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},658:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{NIL:function(){return R},parse:function(){return m},stringify:function(){return h},v1:function(){return v},v3:function(){return T},v4:function(){return S},v5:function(){return O},validate:function(){return u},version:function(){return Z}});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(e){return"string"===typeof e&&o.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var l,f,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n},d=0,p=0;var v=function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||l,u=void 0!==e.clockseq?e.clockseq:f;if(null==o||null==u){var s=e.random||(e.rng||a)();null==o&&(o=l=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==u&&(u=f=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:p+1,m=c-d+(v-p)/1e4;if(m<0&&void 0===e.clockseq&&(u=u+1&16383),(m<0||c>d)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,p=v,f=u;var y=(1e4*(268435455&(c+=122192928e5))+v)%4294967296;i[r++]=y>>>24&255,i[r++]=y>>>16&255,i[r++]=y>>>8&255,i[r++]=255&y;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=255&g,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=u>>>8|128,i[r++]=255&u;for(var k=0;k<6;++k)i[r+k]=o[k];return t||h(i)};var m=function(e){if(!u(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function y(e,t,n){function r(e,r,i,a){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){a=a||0;for(var u=0;u<16;++u)i[a+u]=o[u];return i}return h(o)}try{r.name=e}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function g(e){return 14+(e+64>>>9<<4)+1}function k(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function b(e,t,n,r,i,a){return k((o=k(k(t,e),k(r,a)))<<(u=i)|o>>>32-u,n);var o,u}function w(e,t,n,r,i,a,o){return b(t&n|~t&r,e,t,i,a,o)}function x(e,t,n,r,i,a,o){return b(t&r|n&~r,e,t,i,a,o)}function E(e,t,n,r,i,a,o){return b(t^n^r,e,t,i,a,o)}function _(e,t,n,r,i,a,o){return b(n^(t|~r),e,t,i,a,o)}var I=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var u=n,s=r,c=i,l=a;n=w(n,r,i,a,e[o],7,-680876936),a=w(a,n,r,i,e[o+1],12,-389564586),i=w(i,a,n,r,e[o+2],17,606105819),r=w(r,i,a,n,e[o+3],22,-1044525330),n=w(n,r,i,a,e[o+4],7,-176418897),a=w(a,n,r,i,e[o+5],12,1200080426),i=w(i,a,n,r,e[o+6],17,-1473231341),r=w(r,i,a,n,e[o+7],22,-45705983),n=w(n,r,i,a,e[o+8],7,1770035416),a=w(a,n,r,i,e[o+9],12,-1958414417),i=w(i,a,n,r,e[o+10],17,-42063),r=w(r,i,a,n,e[o+11],22,-1990404162),n=w(n,r,i,a,e[o+12],7,1804603682),a=w(a,n,r,i,e[o+13],12,-40341101),i=w(i,a,n,r,e[o+14],17,-1502002290),n=x(n,r=w(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=x(a,n,r,i,e[o+6],9,-1069501632),i=x(i,a,n,r,e[o+11],14,643717713),r=x(r,i,a,n,e[o],20,-373897302),n=x(n,r,i,a,e[o+5],5,-701558691),a=x(a,n,r,i,e[o+10],9,38016083),i=x(i,a,n,r,e[o+15],14,-660478335),r=x(r,i,a,n,e[o+4],20,-405537848),n=x(n,r,i,a,e[o+9],5,568446438),a=x(a,n,r,i,e[o+14],9,-1019803690),i=x(i,a,n,r,e[o+3],14,-187363961),r=x(r,i,a,n,e[o+8],20,1163531501),n=x(n,r,i,a,e[o+13],5,-1444681467),a=x(a,n,r,i,e[o+2],9,-51403784),i=x(i,a,n,r,e[o+7],14,1735328473),n=E(n,r=x(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=E(a,n,r,i,e[o+8],11,-2022574463),i=E(i,a,n,r,e[o+11],16,1839030562),r=E(r,i,a,n,e[o+14],23,-35309556),n=E(n,r,i,a,e[o+1],4,-1530992060),a=E(a,n,r,i,e[o+4],11,1272893353),i=E(i,a,n,r,e[o+7],16,-155497632),r=E(r,i,a,n,e[o+10],23,-1094730640),n=E(n,r,i,a,e[o+13],4,681279174),a=E(a,n,r,i,e[o],11,-358537222),i=E(i,a,n,r,e[o+3],16,-722521979),r=E(r,i,a,n,e[o+6],23,76029189),n=E(n,r,i,a,e[o+9],4,-640364487),a=E(a,n,r,i,e[o+12],11,-421815835),i=E(i,a,n,r,e[o+15],16,530742520),n=_(n,r=E(r,i,a,n,e[o+2],23,-995338651),i,a,e[o],6,-198630844),a=_(a,n,r,i,e[o+7],10,1126891415),i=_(i,a,n,r,e[o+14],15,-1416354905),r=_(r,i,a,n,e[o+5],21,-57434055),n=_(n,r,i,a,e[o+12],6,1700485571),a=_(a,n,r,i,e[o+3],10,-1894986606),i=_(i,a,n,r,e[o+10],15,-1051523),r=_(r,i,a,n,e[o+1],21,-2054922799),n=_(n,r,i,a,e[o+8],6,1873313359),a=_(a,n,r,i,e[o+15],10,-30611744),i=_(i,a,n,r,e[o+6],15,-1560198380),r=_(r,i,a,n,e[o+13],21,1309151649),n=_(n,r,i,a,e[o+4],6,-145523070),a=_(a,n,r,i,e[o+11],10,-1120210379),i=_(i,a,n,r,e[o+2],15,718787259),r=_(r,i,a,n,e[o+9],21,-343485551),n=k(n,u),r=k(r,s),i=k(i,c),a=k(a,l)}return[n,r,i,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(g(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))},T=y("v3",48,I);var S=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return h(r)};function C(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function N(e,t){return e<<t|e>>>32-t}var A=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),u=new Array(o),s=0;s<o;++s){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*s+4*l]<<24|e[64*s+4*l+1]<<16|e[64*s+4*l+2]<<8|e[64*s+4*l+3];u[s]=c}u[o-1][14]=8*(e.length-1)/Math.pow(2,32),u[o-1][14]=Math.floor(u[o-1][14]),u[o-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<o;++f){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=u[f][d];for(var p=16;p<80;++p)h[p]=N(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var v=n[0],m=n[1],y=n[2],g=n[3],k=n[4],b=0;b<80;++b){var w=Math.floor(b/20),x=N(v,5)+C(w,m,y,g)+k+t[w]+h[b]>>>0;k=g,g=y,y=N(m,30)>>>0,m=v,v=x}n[0]=n[0]+v>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+k>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]},O=y("v5",80,A),R="00000000-0000-0000-0000-000000000000";var Z=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return i}})},671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(120),i=n(814),a=n(2),o=n(326);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&(0,r.Z)(e,t)}},814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(791),t=n(164),r=n(439);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a,o=a||(a={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";var u=function(e){return e};function s(e){e.preventDefault(),e.returnValue=""}function c(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function l(){return Math.random().toString(36).substr(2,8)}function f(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function h(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function d(e,t){if(!e)throw new Error(t)}var p=(0,e.createContext)(null);var v=(0,e.createContext)(null);var m=(0,e.createContext)({outlet:null,matches:[]});function y(t){return function(t){var n=(0,e.useContext)(m).outlet;if(n)return(0,e.createElement)(I.Provider,{value:t},n);return n}(t.context)}function g(e){d(!1)}function k(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,u=t.location,s=t.navigationType,c=void 0===s?a.Pop:s,l=t.navigator,f=t.static,m=void 0!==f&&f;x()&&d(!1);var y=F(r),g=(0,e.useMemo)((function(){return{basename:y,navigator:l,static:m}}),[y,l,m]);"string"===typeof u&&(u=h(u));var k=u,b=k.pathname,w=void 0===b?"/":b,E=k.search,_=void 0===E?"":E,I=k.hash,T=void 0===I?"":I,S=k.state,C=void 0===S?null:S,N=k.key,A=void 0===N?"default":N,O=(0,e.useMemo)((function(){var e=L(w,y);return null==e?null:{pathname:e,search:_,hash:T,state:C,key:A}}),[y,w,_,T,C,A]);return null==O?null:(0,e.createElement)(p.Provider,{value:g},(0,e.createElement)(v.Provider,{children:o,value:{location:O,navigationType:c}}))}function b(t){var n=t.children,r=t.location;return function(t,n){x()||d(!1);var r=(0,e.useContext)(m).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=E();if(n){var c,l="string"===typeof n?h(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||d(!1),u=l}else u=s;var f=u.pathname||"/",p="/"===o?f:f.slice(o.length)||"/",v=function(e,t,n){void 0===n&&(n="/");var r=L(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=R(i[o],r);return a}(t,{pathname:p});0;return Z(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:M([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:M([o,e.pathnameBase])})})),r)}(S(n),r)}function w(t){x()||d(!1);var n=(0,e.useContext)(p),r=n.basename,i=n.navigator,a=T(t),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?h(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):M([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function x(){return null!=(0,e.useContext)(v)}function E(){return x()||d(!1),(0,e.useContext)(v).location}function _(){x()||d(!1);var t=(0,e.useContext)(p),n=t.basename,r=t.navigator,i=(0,e.useContext)(m).matches,a=E().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,e.useRef)(!1);return(0,e.useEffect)((function(){u.current=!0})),(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=D(e,JSON.parse(o),a);"/"!==n&&(i.pathname=M([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a])}var I=(0,e.createContext)(null);function T(t){var n=(0,e.useContext)(m).matches,r=E().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return D(t,JSON.parse(i),r)}),[t,i,r])}function S(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==g&&d(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=S(t.props.children)),n.push(r)}else n.push.apply(n,S(t.props.children))})),n}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||d(!1),a.relativePath=a.relativePath.slice(r.length));var o=M([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&d(!1),C(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:u})})),t}var N=/^:\w+$/,A=function(e){return"*"===e};function O(e,t){var n=e.split("/"),r=n.length;return n.some(A)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!A(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=P({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:M([i,l.pathname]),pathnameBase:M([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=M([i,l.pathnameBase]))}return a}function Z(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(m.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(y,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=(0,r.Z)(n,2),a=i[0],o=i[1],u=t.match(a);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function D(e,t,n){var r,i="string"===typeof e?h(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?h(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:U(a),hash:j(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var M=function(e){return e.join("/").replace(/\/\/+/g,"/")},F=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},U=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},j=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var q=["onClick","reloadDocument","replace","state","target","to"];function B(t){var n=t.basename,o=t.children,d=t.window,p=(0,e.useRef)();null==p.current&&(p.current=function(e){function t(){var e=h(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,u({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)x.call(y),y=null;else{var e=a.Pop,n=t(),r=n[0];if(n=n[1],x.length){if(null!=r){var i=k-r;i&&(y={action:e,location:n,retry:function(){p(-1*i)}},p(i))}}else d(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:f(e))}function o(e,t){return void 0===t&&(t=null),u(i({pathname:b.pathname,hash:"",search:""},"string"===typeof e?h(e):e,{state:t,key:l()}))}function d(e){g=e,e=t(),k=e[0],b=e[1],w.call({action:g,location:b})}function p(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,y=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){f(t()[1])!==f(b)&&n()}));var g=a.Pop,k=(e=t())[0],b=e[1],w=c(),x=c();return null==k&&(k=0,m.replaceState(i({},m.state,{idx:k}),"")),{get action(){return g},get location(){return b},createHref:r,push:function e(t,n){var i=a.Push,u=o(t,n);if(!x.length||(x.call({action:i,location:u,retry:function(){e(t,n)}}),0)){var s=[{usr:u.state,key:u.key,idx:k+1},r(u)];u=s[0],s=s[1];try{m.pushState(u,"",s)}catch(c){v.location.assign(s)}d(i)}},replace:function e(t,n){var i=a.Replace,u=o(t,n);x.length&&(x.call({action:i,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:k},r(u)],m.replaceState(u[0],"",u[1]),d(i))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&v.addEventListener("beforeunload",s),function(){t(),x.length||v.removeEventListener("beforeunload",s)}}}}({window:d}));var v=p.current,m=(0,e.useState)({action:v.action,location:v.location}),y=(0,r.Z)(m,2),g=y[0],b=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(b)}),[v]),(0,e.createElement)(k,{basename:n,children:o,location:g.location,navigationType:g.action,navigator:v})}var H=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,u=t.state,s=t.target,c=t.to,l=z(t,q),h=w(c),d=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=_(),s=E(),c=T(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||f(s)===f(c);u(t,{replace:n,state:o})}}),[s,u,c,a,o,i,t])}(c,{replace:o,state:u,target:s});return(0,e.createElement)("a",V({},l,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||d(e)},ref:n,target:s}))}));var W=n(861),K=n(757),G=n.n(K),Q=n(149),Y=n(942),$=n(671),X=n(144),J=n(136),ee=n(277),te=n(2),ne=function(e){return+setTimeout(e,16)},re=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(ne=function(e){return window.requestAnimationFrame(e)},re=function(e){return window.cancelAnimationFrame(e)});var ie=0,ae=new Map;function oe(e){ae.delete(e)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ie+=1;function r(t){if(0===t)oe(n),e();else{var i=ne((function(){r(t-1)}));ae.set(n,i)}}return r(t),n}function se(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}ue.cancel=function(e){var t=ae.get(e);return oe(t),re(t)};var ce,le=(0,e.forwardRef)((function(n,r){var i=n.didUpdate,a=n.getContainer,o=n.children,u=(0,e.useRef)();(0,e.useImperativeHandle)(r,(function(){return{}}));var s=(0,e.useRef)(!1);return!s.current&&se()&&(u.current=a(),s.current=!0),(0,e.useEffect)((function(){null===i||void 0===i||i(n)})),(0,e.useEffect)((function(){return function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?t.createPortal(o,u.current):null})),fe=le;function he(e){if("undefined"===typeof document)return 0;if(e||void 0===ce){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),ce=i-a}return ce}var de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},a=Object.keys(e);return a.forEach((function(e){i[e]=r.style[e]})),a.forEach((function(t){r.style[t]=e[t]})),i};var pe={},ve=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return de(pe),pe={},void(document.body.className=r.replace(n,"").trim())}var i=he();if(i&&(pe=de({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var a="".concat(r," ").concat(t);document.body.className=a.trim()}}},me=n(433),ye=[],ge="ant-scrolling-effect",ke=new RegExp("".concat(ge),"g"),be=0,we=new Map,xe=function e(t){var n=this;(0,$.Z)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=ye.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!ye.some((function(e){return e.target===n.lockTarget})))if(ye.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))ye=[].concat((0,me.Z)(ye),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=he());var i=r.className;if(0===ye.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&we.set(r,de({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!ke.test(i)){var a="".concat(i," ").concat(ge);r.className=a.trim()}ye=[].concat((0,me.Z)(ye),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=ye.find((function(e){return e.target===n.lockTarget}));if(ye=ye.filter((function(e){return e.target!==n.lockTarget})),t&&!ye.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;ke.test(i)&&(de(we.get(r),{element:r}),we.delete(r),r.className=r.className.replace(ke,"").trim())}},this.lockTarget=be++,this.options=t},Ee=0,_e=se();var Ie={},Te=function(e){if(!_e)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,te.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},Se=function(t){(0,J.Z)(r,t);var n=(0,ee.Z)(r);function r(t){var i;return(0,$.Z)(this,r),(i=n.call(this,t)).container=void 0,i.componentRef=e.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,a=n.visible;a&&a!==t&&_e&&Te(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:Te(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=i.props,o=a.visible,u=a.getContainer;o!==n&&_e&&Te(u)===document.body&&(o&&!n?Ee+=1:e&&(Ee-=1)),("function"===typeof u&&"function"===typeof r?u.toString()!==r.toString():u!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=Te(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return _e?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==Ee||Object.keys(Ie).length?Ee||(de(Ie),Ie={},ve(!0)):(ve(),Ie=de({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new xe({container:Te(t.getContainer)}),i}return(0,X.Z)(r,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=ue((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;_e&&Te(n)===document.body&&(Ee=t&&Ee?Ee-1:Ee),this.removeCurrentContainer(),ue.cancel(this.rafId)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.forceRender,i=t.visible,a=null,o={getOpenCount:function(){return Ee},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(r||i||this.componentRef.current)&&(a=e.createElement(fe,{getContainer:this.getContainer,ref:this.componentRef},n(o))),a}}]),r}(e.Component),Ce=Se,Ne=n(413),Ae=n(694),Oe=n.n(Ae),Re={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Re.F1&&t<=Re.F12)return!1;switch(t){case Re.ALT:case Re.CAPS_LOCK:case Re.CONTEXT_MENU:case Re.CTRL:case Re.DOWN:case Re.END:case Re.ESC:case Re.HOME:case Re.INSERT:case Re.LEFT:case Re.MAC_FF_META:case Re.META:case Re.NUMLOCK:case Re.NUM_CENTER:case Re.PAGE_DOWN:case Re.PAGE_UP:case Re.PAUSE:case Re.PRINT_SCREEN:case Re.RIGHT:case Re.SHIFT:case Re.UP:case Re.WIN_KEY:case Re.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Re.ZERO&&e<=Re.NINE)return!0;if(e>=Re.NUM_ZERO&&e<=Re.NUM_MULTIPLY)return!0;if(e>=Re.A&&e<=Re.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Re.SPACE:case Re.QUESTION_MARK:case Re.NUM_PLUS:case Re.NUM_MINUS:case Re.NUM_PERIOD:case Re.NUM_DIVISION:case Re.SEMICOLON:case Re.DASH:case Re.EQUALS:case Re.COMMA:case Re.PERIOD:case Re.SLASH:case Re.APOSTROPHE:case Re.SINGLE_QUOTE:case Re.OPEN_SQUARE_BRACKET:case Re.BACKSLASH:case Re.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ze=Re;var Pe="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),De="aria-",Le="data-";function Me(e,t){return 0===e.indexOf(t)}var Fe=n(190);function Ue(e,t){"function"===typeof e?e(t):"object"===(0,te.Z)(e)&&e&&"current"in e&&(e.current=t)}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Ue(t,e)}))}}function Ve(e){var t,n,r=(0,Fe.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var qe=function(e,t){var n={animationend:ze("Animation","AnimationEnd"),transitionend:ze("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(se(),"undefined"!==typeof window?window:{}),Be={};if(se()){var He=document.createElement("div");Be=He.style}var We={};function Ke(e){if(We[e])return We[e];var t=qe[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Be)return We[e]=t[a],We[e]}return""}var Ge=Ke("animationend"),Qe=Ke("transitionend"),Ye=!(!Ge||!Qe),$e=Ge||"animationend",Xe=Qe||"transitionend";function Je(e,t){if(!e)return null;if("object"===(0,te.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var et="none",tt="appear",nt="enter",rt="leave",it="none",at="prepare",ot="start",ut="active",st="end";function ct(t){var n=(0,e.useRef)(!1),i=(0,e.useState)(t),a=(0,r.Z)(i,2),o=a[0],u=a[1];return(0,e.useEffect)((function(){return function(){n.current=!0}}),[]),[o,function(e){n.current||u(e)}]}var lt=se()?e.useLayoutEffect:e.useEffect,ft=[at,ot,ut,st];function ht(e){return e===ut||e===st}var dt=function(t,n){var i=e.useState(it),a=(0,r.Z)(i,2),o=a[0],u=a[1],s=function(){var t=e.useRef(null);function n(){ue.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=ue((function(){i<=1?r({isCanceled:function(){return a!==t.current}}):e(r,i-1)}));t.current=a},n]}(),c=(0,r.Z)(s,2),l=c[0],f=c[1];return lt((function(){if(o!==it&&o!==st){var e=ft.indexOf(o),t=ft[e+1],r=n(o);false===r?u(t):l((function(e){function n(){e.isCanceled()||u(t)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,o]),e.useEffect((function(){return function(){f()}}),[]),[function(){u(at)},o]};function pt(t,n,i,a){var o=a.motionEnter,u=void 0===o||o,s=a.motionAppear,c=void 0===s||s,l=a.motionLeave,f=void 0===l||l,h=a.motionDeadline,d=a.motionLeaveImmediately,p=a.onAppearPrepare,v=a.onEnterPrepare,m=a.onLeavePrepare,y=a.onAppearStart,g=a.onEnterStart,k=a.onLeaveStart,b=a.onAppearActive,w=a.onEnterActive,x=a.onLeaveActive,E=a.onAppearEnd,_=a.onEnterEnd,I=a.onLeaveEnd,T=a.onVisibleChanged,S=ct(),C=(0,r.Z)(S,2),N=C[0],A=C[1],O=ct(et),R=(0,r.Z)(O,2),Z=R[0],P=R[1],D=ct(null),L=(0,r.Z)(D,2),M=L[0],F=L[1],U=(0,e.useRef)(!1),j=(0,e.useRef)(null),V=(0,e.useRef)(!1),z=(0,e.useRef)(null);function q(){return i()||z.current}var B=(0,e.useRef)(!1);function H(e){var t,n=q();e&&!e.deadline&&e.target!==n||(Z===tt&&B.current?t=null===E||void 0===E?void 0:E(n,e):Z===nt&&B.current?t=null===_||void 0===_?void 0:_(n,e):Z===rt&&B.current&&(t=null===I||void 0===I?void 0:I(n,e)),!1===t||V.current||(P(et),F(null)))}var W=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var i=e.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(Xe,i),e.removeEventListener($e,i))}return e.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(Xe,i),e.addEventListener($e,i),n.current=e)},a]}(H),K=(0,r.Z)(W,1)[0],G=e.useMemo((function(){var e,t,n;switch(Z){case"appear":return e={},(0,Y.Z)(e,at,p),(0,Y.Z)(e,ot,y),(0,Y.Z)(e,ut,b),e;case"enter":return t={},(0,Y.Z)(t,at,v),(0,Y.Z)(t,ot,g),(0,Y.Z)(t,ut,w),t;case"leave":return n={},(0,Y.Z)(n,at,m),(0,Y.Z)(n,ot,k),(0,Y.Z)(n,ut,x),n;default:return{}}}),[Z]),Q=dt(Z,(function(e){if(e===at){var t=G.prepare;return!!t&&t(q())}var n;J in G&&F((null===(n=G[J])||void 0===n?void 0:n.call(G,q(),null))||null);return J===ut&&(K(q()),h>0&&(clearTimeout(j.current),j.current=setTimeout((function(){H({deadline:!0})}),h))),true})),$=(0,r.Z)(Q,2),X=$[0],J=$[1],ee=ht(J);B.current=ee,lt((function(){A(n);var e,r=U.current;(U.current=!0,t)&&(!r&&n&&c&&(e=tt),r&&n&&u&&(e=nt),(r&&!n&&f||!r&&d&&!n&&f)&&(e=rt),e&&(P(e),X()))}),[n]),(0,e.useEffect)((function(){(Z===tt&&!c||Z===nt&&!u||Z===rt&&!f)&&P(et)}),[c,u,f]),(0,e.useEffect)((function(){return function(){clearTimeout(j.current),V.current=!0}}),[]),(0,e.useEffect)((function(){void 0!==N&&Z===et&&(null===T||void 0===T||T(N))}),[N,Z]);var te=M;return G.prepare&&J===ot&&(te=(0,Ne.Z)({transition:"none"},te)),[Z,J,te,null!==N&&void 0!==N?N:n]}var vt=function(e){(0,J.Z)(n,e);var t=(0,ee.Z)(n);function n(){return(0,$.Z)(this,n),t.apply(this,arguments)}return(0,X.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),mt=vt;var yt=function(n){var i=n;function a(e){return!(!e.motionName||!i)}"object"===(0,te.Z)(n)&&(i=n.transitionSupport);var o=e.forwardRef((function(n,i){var o=n.visible,u=void 0===o||o,s=n.removeOnLeave,c=void 0===s||s,l=n.forceRender,f=n.children,h=n.motionName,d=n.leavedClassName,p=n.eventProps,v=a(n),m=(0,e.useRef)(),y=(0,e.useRef)();var g=pt(v,u,(function(){try{return(e=m.current||y.current)instanceof HTMLElement?e:t.findDOMNode(e)}catch(n){return null}var e}),n),k=(0,r.Z)(g,4),b=k[0],w=k[1],x=k[2],E=k[3],_=e.useRef(E);E&&(_.current=!0);var I=(0,e.useRef)(i);I.current=i;var T,S=e.useCallback((function(e){m.current=e,Ue(I.current,e)}),[]),C=(0,Ne.Z)((0,Ne.Z)({},p),{},{visible:u});if(f)if(b!==et&&a(n)){var N,A;w===at?A="prepare":ht(w)?A="active":w===ot&&(A="start"),T=f((0,Ne.Z)((0,Ne.Z)({},C),{},{className:Oe()(Je(h,b),(N={},(0,Y.Z)(N,Je(h,"".concat(b,"-").concat(A)),A),(0,Y.Z)(N,h,"string"===typeof h),N)),style:x}),S)}else T=E?f((0,Ne.Z)({},C),S):!c&&_.current?f((0,Ne.Z)((0,Ne.Z)({},C),{},{className:d}),S):l?f((0,Ne.Z)((0,Ne.Z)({},C),{},{style:{display:"none"}}),S):null;else T=null;return e.createElement(mt,{ref:y},T)}));return o.displayName="CSSMotion",o}(Ye);function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kt="add",bt="keep",wt="remove",xt="removed";function Et(e){var t;return t=e&&"object"===(0,te.Z)(e)&&"key"in e?e:{key:e},(0,Ne.Z)((0,Ne.Z)({},t),{},{key:String(t.key)})}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Et)}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=_t(e),o=_t(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return(0,Ne.Z)((0,Ne.Z)({},e),{},{status:kt})}))),r=a),n.push((0,Ne.Z)((0,Ne.Z)({},u),{},{status:bt})),r+=1,t=!0;break}}t||n.push((0,Ne.Z)((0,Ne.Z)({},e),{},{status:wt}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return(0,Ne.Z)((0,Ne.Z)({},e),{},{status:kt})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==wt})),n.forEach((function(t){t.key===e&&(t.status=bt)}))})),n}var Tt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var St=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt,r=function(t){(0,J.Z)(a,t);var r=(0,ee.Z)(a);function a(){var e;return(0,$.Z)(this,a),(e=r.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:(0,Ne.Z)((0,Ne.Z)({},e),{},{status:xt})}))}}))},e}return(0,X.Z)(a,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,a=this.props,o=a.component,u=a.children,s=a.onVisibleChanged,c=gt(a,["component","children","onVisibleChanged"]),l=o||e.Fragment,f={};return Tt.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,e.createElement(l,c,r.map((function(r){var a=r.status,o=gt(r,["status"]),c=a===kt||a===bt;return e.createElement(n,i({},f,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(e){null===s||void 0===s||s(e,{key:o.key}),e||t.removeKey(o.key)}}),u)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=_t(n);return{keyEntities:It(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==xt||e.status!==wt}))}}}]),a}(e.Component);return r.defaultProps={component:"div"},r}(Ye),Ct=yt;function Nt(t){var n=t.prefixCls,r=t.style,a=t.visible,o=t.maskProps,u=t.motionName;return e.createElement(Ct,{key:"mask",visible:a,motionName:u,leavedClassName:"".concat(n,"-mask-hidden")},(function(t){var a=t.className,u=t.style;return e.createElement("div",i({style:(0,Ne.Z)((0,Ne.Z)({},u),r),className:Oe()("".concat(n,"-mask"),a)},o))}))}function At(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}var Ot=-1;function Rt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var Zt=e.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),Pt={width:0,height:0,overflow:"hidden",outline:"none"},Dt=e.forwardRef((function(t,n){var a=t.closable,o=t.prefixCls,u=t.width,s=t.height,c=t.footer,l=t.title,f=t.closeIcon,h=t.style,d=t.className,p=t.visible,v=t.forceRender,m=t.bodyStyle,y=t.bodyProps,g=t.children,k=t.destroyOnClose,b=t.modalRender,w=t.motionName,x=t.ariaId,E=t.onClose,_=t.onVisibleChanged,I=t.onMouseDown,T=t.onMouseUp,S=t.mousePosition,C=(0,e.useRef)(),N=(0,e.useRef)(),A=(0,e.useRef)();e.useImperativeHandle(n,(function(){return{focus:function(){var e;null===(e=C.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===N.current?C.current.focus():e||t!==C.current||N.current.focus()}}}));var O,R,Z,P=e.useState(),D=(0,r.Z)(P,2),L=D[0],M=D[1],F={};function U(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Rt(i),n.top+=Rt(i,!0),n}(A.current);M(S?"".concat(S.x-e.left,"px ").concat(S.y-e.top,"px"):"")}void 0!==u&&(F.width=u),void 0!==s&&(F.height=s),L&&(F.transformOrigin=L),c&&(O=e.createElement("div",{className:"".concat(o,"-footer")},c)),l&&(R=e.createElement("div",{className:"".concat(o,"-header")},e.createElement("div",{className:"".concat(o,"-title"),id:x},l))),a&&(Z=e.createElement("button",{type:"button",onClick:E,"aria-label":"Close",className:"".concat(o,"-close")},f||e.createElement("span",{className:"".concat(o,"-close-x")})));var j=e.createElement("div",{className:"".concat(o,"-content")},Z,R,e.createElement("div",i({className:"".concat(o,"-body"),style:m},y),g),O);return e.createElement(Ct,{visible:p,onVisibleChanged:_,onAppearPrepare:U,onEnterPrepare:U,forceRender:v,motionName:w,removeOnLeave:k,ref:A},(function(t,n){var r=t.className,i=t.style;return e.createElement("div",{key:"dialog-element",role:"document",ref:n,style:(0,Ne.Z)((0,Ne.Z)((0,Ne.Z)({},i),h),F),className:Oe()(o,d,r),onMouseDown:I,onMouseUp:T},e.createElement("div",{tabIndex:0,ref:C,style:Pt,"aria-hidden":"true"}),e.createElement(Zt,{shouldUpdate:p||v},b?b(j):j),e.createElement("div",{tabIndex:0,ref:N,style:Pt,"aria-hidden":"true"}))}))}));Dt.displayName="Content";var Lt=Dt;function Mt(t){var n=t.prefixCls,a=void 0===n?"rc-dialog":n,o=t.zIndex,u=t.visible,s=void 0!==u&&u,c=t.keyboard,l=void 0===c||c,f=t.focusTriggerAfterClose,h=void 0===f||f,d=t.scrollLocker,p=t.title,v=t.wrapStyle,m=t.wrapClassName,y=t.wrapProps,g=t.onClose,k=t.afterClose,b=t.transitionName,w=t.animation,x=t.closable,E=void 0===x||x,_=t.mask,I=void 0===_||_,T=t.maskTransitionName,S=t.maskAnimation,C=t.maskClosable,N=void 0===C||C,A=t.maskStyle,O=t.maskProps,R=(0,e.useRef)(),Z=(0,e.useRef)(),P=(0,e.useRef)(),D=e.useState(s),L=(0,r.Z)(D,2),M=L[0],F=L[1],U=(0,e.useRef)();function j(e){null===g||void 0===g||g(e)}U.current||(U.current="rcDialogTitle".concat(Ot+=1));var V=(0,e.useRef)(!1),z=(0,e.useRef)(),q=null;return N&&(q=function(e){V.current?V.current=!1:Z.current===e.target&&j(e)}),(0,e.useEffect)((function(){return s&&F(!0),function(){}}),[s]),(0,e.useEffect)((function(){return function(){clearTimeout(z.current)}}),[]),(0,e.useEffect)((function(){return M?(null===d||void 0===d||d.lock(),null===d||void 0===d?void 0:d.unLock):function(){}}),[M,d]),e.createElement("div",i({className:"".concat(a,"-root")},function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,Ne.Z)({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Me(n,De))||t.data&&Me(n,Le)||t.attr&&Pe.includes(n))&&(r[n]=e[n])})),r}(t,{data:!0})),e.createElement(Nt,{prefixCls:a,visible:I&&s,motionName:At(a,T,S),style:(0,Ne.Z)({zIndex:o},A),maskProps:O}),e.createElement("div",i({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===Ze.ESC)return e.stopPropagation(),void j(e);s&&e.keyCode===Ze.TAB&&P.current.changeActive(!e.shiftKey)},className:Oe()("".concat(a,"-wrap"),m),ref:Z,onClick:q,role:"dialog","aria-labelledby":p?U.current:null,style:(0,Ne.Z)((0,Ne.Z)({zIndex:o},v),{},{display:M?null:"none"})},y),e.createElement(Lt,i({},t,{onMouseDown:function(){clearTimeout(z.current),V.current=!0},onMouseUp:function(){z.current=setTimeout((function(){V.current=!1}))},ref:P,closable:E,ariaId:U.current,prefixCls:a,visible:s,onClose:j,onVisibleChanged:function(e){if(e){var t;if(n=Z.current,r=document.activeElement,!n||!n.contains(r))R.current=document.activeElement,null===(t=P.current)||void 0===t||t.focus()}else{if(F(!1),I&&R.current&&h){try{R.current.focus({preventScroll:!0})}catch(i){}R.current=null}M&&(null===k||void 0===k||k())}var n,r},motionName:At(a,b,w)}))))}var Ft=function(t){var n=t.visible,a=t.getContainer,o=t.forceRender,u=t.destroyOnClose,s=void 0!==u&&u,c=t.afterClose,l=e.useState(n),f=(0,r.Z)(l,2),h=f[0],d=f[1];return e.useEffect((function(){n&&d(!0)}),[n]),!1===a?e.createElement(Mt,i({},t,{getOpenCount:function(){return 2}})):o||!s||h?e.createElement(Ce,{visible:n,forceRender:o,getContainer:a},(function(n){return e.createElement(Mt,i({},t,{destroyOnClose:s,afterClose:function(){null===c||void 0===c||c(),d(!1)}},n))})):null};Ft.displayName="Dialog";var Ut=Ft,jt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Vt=(0,e.createContext)({});function zt(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function qt(e){return Math.min(1,Math.max(0,e))}function Bt(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ht(e){return e<=1?100*Number(e)+"%":e}function Wt(e){return 1===e.length?"0"+e:String(e)}function Kt(e,t,n){e=zt(e,255),t=zt(t,255),n=zt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,u=(r+i)/2;if(r===i)o=0,a=0;else{var s=r-i;switch(o=u>.5?s/(2-r-i):s/(r+i),r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:o,l:u}}function Gt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qt(e,t,n){e=zt(e,255),t=zt(t,255),n=zt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}function Yt(e,t,n,r){var i=[Wt(Math.round(e).toString(16)),Wt(Math.round(t).toString(16)),Wt(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function $t(e){return Math.round(255*parseFloat(e)).toString(16)}function Xt(e){return Jt(e)/255}function Jt(e){return parseInt(e,16)}var en={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function tn(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(en[e])e=en[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=on.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=on.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=on.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=on.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=on.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=on.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=on.hex8.exec(e))return{r:Jt(n[1]),g:Jt(n[2]),b:Jt(n[3]),a:Xt(n[4]),format:t?"name":"hex8"};if(n=on.hex6.exec(e))return{r:Jt(n[1]),g:Jt(n[2]),b:Jt(n[3]),format:t?"name":"hex"};if(n=on.hex4.exec(e))return{r:Jt(n[1]+n[1]),g:Jt(n[2]+n[2]),b:Jt(n[3]+n[3]),a:Xt(n[4]+n[4]),format:t?"name":"hex8"};if(n=on.hex3.exec(e))return{r:Jt(n[1]+n[1]),g:Jt(n[2]+n[2]),b:Jt(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(un(e.r)&&un(e.g)&&un(e.b)?(t=function(e,t,n){return{r:255*zt(e,255),g:255*zt(t,255),b:255*zt(n,255)}}(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):un(e.h)&&un(e.s)&&un(e.v)?(r=Ht(e.s),i=Ht(e.v),t=function(e,t,n){e=6*zt(e,360),t=zt(t,100),n=zt(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,r,i),o=!0,u="hsv"):un(e.h)&&un(e.s)&&un(e.l)&&(r=Ht(e.s),a=Ht(e.l),t=function(e,t,n){var r,i,a;if(e=zt(e,360),t=zt(t,100),n=zt(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=Gt(u,o,e+1/3),i=Gt(u,o,e),a=Gt(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Bt(n),{ok:o,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var nn="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",rn="[\\s|\\(]+("+nn+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")\\s*\\)?",an="[\\s|\\(]+("+nn+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")\\s*\\)?",on={CSS_UNIT:new RegExp(nn),rgb:new RegExp("rgb"+rn),rgba:new RegExp("rgba"+an),hsl:new RegExp("hsl"+rn),hsla:new RegExp("hsla"+an),hsv:new RegExp("hsv"+rn),hsva:new RegExp("hsva"+an),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function un(e){return Boolean(on.CSS_UNIT.exec(String(e)))}var sn=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cn(e){var t=Qt(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function ln(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Yt(t,n,r,!1))}function fn(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function hn(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function dn(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function pn(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function vn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=tn(e),i=5;i>0;i-=1){var a=cn(r),o=ln(tn({h:hn(a,i,!0),s:dn(a,i,!0),v:pn(a,i,!0)}));n.push(o)}n.push(ln(r));for(var u=1;u<=4;u+=1){var s=cn(r),c=ln(tn({h:hn(s,u),s:dn(s,u),v:pn(s,u)}));n.push(c)}return"dark"===t.theme?sn.map((function(e){var r=e.index,i=e.opacity;return ln(fn(tn(t.backgroundColor||"#141414"),tn(n[r]),100*i))})):n}var mn={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},yn={},gn={};Object.keys(mn).forEach((function(e){yn[e]=vn(mn[e]),yn[e].primary=yn[e][5],gn[e]=vn(mn[e],{theme:"dark",backgroundColor:"#141414"}),gn[e].primary=gn[e][5]}));yn.red,yn.volcano,yn.gold,yn.orange,yn.yellow,yn.lime,yn.green,yn.cyan,yn.blue,yn.geekblue,yn.purple,yn.magenta,yn.grey;var kn={};function bn(e,t){0}function wn(e,t,n){t||kn[n]||(e(!1,n),kn[n]=!0)}var xn=function(e,t){wn(bn,e,t)},En="rc-util-key";function _n(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function In(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!se())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=_n(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var Tn=new Map;function Sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_n(n);if(!Tn.has(r)){var i=In("",n),a=i.parentNode;Tn.set(r,a),a.removeChild(i)}var o=Array.from(Tn.get(r).children).find((function(e){return"STYLE"===e.tagName&&e[En]===t}));if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=In(e,n);return l[En]=t,l}function Cn(e){return"object"===(0,te.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,te.Z)(e.icon)||"function"===typeof e.icon)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function An(t,n,r){return r?e.createElement(t.tag,(0,Ne.Z)((0,Ne.Z)({key:n},Nn(t.attrs)),r),(t.children||[]).map((function(e,r){return An(e,"".concat(n,"-").concat(t.tag,"-").concat(r))}))):e.createElement(t.tag,(0,Ne.Z)({key:n},Nn(t.attrs)),(t.children||[]).map((function(e,r){return An(e,"".concat(n,"-").concat(t.tag,"-").concat(r))})))}function On(e){return vn(e)[0]}function Rn(e){return e?Array.isArray(e)?e:[e]:[]}var Zn="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Pn=["icon","className","onClick","style","primaryColor","secondaryColor"],Dn={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ln=function(t){var n=t.icon,r=t.className,i=t.onClick,a=t.style,o=t.primaryColor,u=t.secondaryColor,s=gt(t,Pn),c=Dn;if(o&&(c={primaryColor:o,secondaryColor:u||On(o)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,n=(0,e.useContext)(Vt).csp;(0,e.useEffect)((function(){Sn(t,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),function(e,t){xn(e,"[@ant-design/icons] ".concat(t))}(Cn(n),"icon should be icon definiton, but got ".concat(n)),!Cn(n))return null;var l=n;return l&&"function"===typeof l.icon&&(l=(0,Ne.Z)((0,Ne.Z)({},l),{},{icon:l.icon(c.primaryColor,c.secondaryColor)})),An(l.icon,"svg-".concat(l.name),(0,Ne.Z)({className:r,onClick:i,style:a,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};Ln.displayName="IconReact",Ln.getTwoToneColors=function(){return(0,Ne.Z)({},Dn)},Ln.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Dn.primaryColor=t,Dn.secondaryColor=n||On(t),Dn.calculated=!!n};var Mn=Ln;function Fn(e){var t=Rn(e),n=(0,r.Z)(t,2),i=n[0],a=n[1];return Mn.setTwoToneColors({primaryColor:i,secondaryColor:a})}var Un=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Fn("#1890ff");var jn=e.forwardRef((function(t,n){var i,a=t.className,o=t.icon,u=t.spin,s=t.rotate,c=t.tabIndex,l=t.onClick,f=t.twoToneColor,h=gt(t,Un),d=e.useContext(Vt).prefixCls,p=void 0===d?"anticon":d,v=Oe()(p,(i={},(0,Y.Z)(i,"".concat(p,"-").concat(o.name),!!o.name),(0,Y.Z)(i,"".concat(p,"-spin"),!!u||"loading"===o.name),i),a),m=c;void 0===m&&l&&(m=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,g=Rn(f),k=(0,r.Z)(g,2),b=k[0],w=k[1];return e.createElement("span",(0,Ne.Z)((0,Ne.Z)({role:"img","aria-label":o.name},h),{},{ref:n,tabIndex:m,onClick:l,className:v}),e.createElement(Mn,{icon:o,primaryColor:b,secondaryColor:w,style:y}))}));jn.displayName="AntdIcon",jn.getTwoToneColor=function(){var e=Mn.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},jn.setTwoToneColor=Fn;var Vn=jn,zn=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:jt}))};zn.displayName="CloseOutlined";var qn=e.forwardRef(zn),Bn={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Hn={lang:i({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:i({},Bn)},Wn="${label} is not a valid ${type}",Kn={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:Hn,TimePicker:Bn,Calendar:Hn,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Wn,method:Wn,array:Wn,object:Wn,number:Wn,date:Wn,boolean:Wn,integer:Wn,float:Wn,regexp:Wn,email:Wn,url:Wn,hex:Wn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Gn=i({},Kn.Modal);function Qn(e){Gn=e?i(i({},Gn),e):i({},Kn.Modal)}function Yn(){return Gn}var $n=Kn,Xn=(0,e.createContext)(void 0),Jn=function(e){(0,J.Z)(n,e);var t=(0,ee.Z)(n);function n(){return(0,$.Z)(this,n),t.apply(this,arguments)}return(0,X.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||$n[null!==t&&void 0!==t?t:"global"],r=this.context,a=t&&r?r[t]:{};return i(i({},n instanceof Function?n():n),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?$n.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(e.Component);Jn.defaultProps={componentName:"global"},Jn.contextType=Xn;var er=function(){var t=(0,e.useContext(sr).getPrefixCls)("empty-img-default");return e.createElement("svg",{className:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{className:"".concat(t,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),e.createElement("path",{className:"".concat(t,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),e.createElement("path",{className:"".concat(t,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),e.createElement("path",{className:"".concat(t,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),e.createElement("path",{className:"".concat(t,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),e.createElement("g",{className:"".concat(t,"-g"),transform:"translate(149.65 15.383)"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},tr=function(){var t=(0,e.useContext(sr).getPrefixCls)("empty-img-simple");return e.createElement("svg",{className:t,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{className:"".concat(t,"-g"),fillRule:"nonzero"},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(t,"-path")}))))},nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rr=e.createElement(er,null),ir=e.createElement(tr,null),ar=function(t){var n=t.className,r=t.prefixCls,a=t.image,o=void 0===a?rr:a,u=t.description,s=t.children,c=t.imageStyle,l=nr(t,["className","prefixCls","image","description","children","imageStyle"]),f=e.useContext(sr),h=f.getPrefixCls,d=f.direction;return e.createElement(Jn,{componentName:"Empty"},(function(t){var a,f=h("empty",r),p="undefined"!==typeof u?u:t.description,v="string"===typeof p?p:"empty",m=null;return m="string"===typeof o?e.createElement("img",{alt:v,src:o}):o,e.createElement("div",i({className:Oe()(f,(a={},(0,Y.Z)(a,"".concat(f,"-normal"),o===ir),(0,Y.Z)(a,"".concat(f,"-rtl"),"rtl"===d),a),n)},l),e.createElement("div",{className:"".concat(f,"-image"),style:c},m),p&&e.createElement("div",{className:"".concat(f,"-description")},p),s&&e.createElement("div",{className:"".concat(f,"-footer")},s))}))};ar.PRESENTED_IMAGE_DEFAULT=rr,ar.PRESENTED_IMAGE_SIMPLE=ir;var or=ar,ur=function(t){return e.createElement(cr,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(t){case"Table":case"List":return e.createElement(or,{image:or.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(or,{image:or.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return e.createElement(or,null)}}))},sr=e.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:ur}),cr=sr.Consumer;var lr=(0,X.Z)((function e(t){(0,$.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),fr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hr=function(t){return e.createElement(cr,null,(function(n){var r,a=n.getPrefixCls,o=n.direction,u=t.prefixCls,s=t.size,c=t.className,l=fr(t,["prefixCls","size","className"]),f=a("btn-group",u),h="";switch(s){case"large":h="lg";break;case"small":h="sm";break;case"middle":case void 0:break;default:console.warn(new lr(s).error)}var d=Oe()(f,(r={},(0,Y.Z)(r,"".concat(f,"-").concat(h),h),(0,Y.Z)(r,"".concat(f,"-rtl"),"rtl"===o),r),c);return e.createElement("div",i({},l,{className:d}))}))},dr=n(326),pr=0,vr={};function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=pr++,r=t;function i(){(r-=1)<=0?(e(),delete vr[n]):vr[n]=ue(i)}return vr[n]=ue(i),n}mr.cancel=function(e){void 0!==e&&(ue.cancel(vr[e]),delete vr[e])},mr.ids=vr;var yr,gr=e.isValidElement;function kr(t,n){return function(t,n,r){return gr(t)?e.cloneElement(t,"function"===typeof r?r(t.props||{}):r):n}(t,t,n)}function br(e){return!e||null===e.offsetParent||e.hidden}function wr(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var xr=function(t){(0,J.Z)(r,t);var n=(0,ee.Z)(r);function r(){var t;return(0,$.Z)(this,r),(t=n.apply(this,arguments)).containerRef=e.createRef(),t.animationStart=!1,t.destroyed=!1,t.onClick=function(e,n){var r,i,a=t.props,o=a.insertExtraNode;if(!(a.disabled||!e||br(e)||e.className.indexOf("-leave")>=0)){t.extraNode=document.createElement("div");var u=(0,dr.Z)(t).extraNode,s=t.context.getPrefixCls;u.className="".concat(s(""),"-click-animating-node");var c=t.getAttributeName();if(e.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&wr(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){u.style.borderColor=n;var l=(null===(r=e.getRootNode)||void 0===r?void 0:r.call(e))||e.ownerDocument,f=l instanceof Document?l.body:null!==(i=l.firstChild)&&void 0!==i?i:l;yr=Sn("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:t.csp,attachTo:f})}o&&e.appendChild(u),["transition","animation"].forEach((function(n){e.addEventListener("".concat(n,"start"),t.onTransitionStart),e.addEventListener("".concat(n,"end"),t.onTransitionEnd)}))}},t.onTransitionStart=function(e){if(!t.destroyed){var n=t.containerRef.current;e&&e.target===n&&!t.animationStart&&t.resetEffect(n)}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!br(n.target)){t.resetEffect(e);var r=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout((function(){return t.onClick(e,r)}),0),mr.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=mr((function(){t.animationStart=!1}),10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.renderWave=function(n){var r=n.csp,i=t.props.children;if(t.csp=r,!e.isValidElement(i))return i;var a=t.containerRef;return Ve(i)&&(a=je(i.ref,t.containerRef)),kr(i,{ref:a})},t}return(0,X.Z)(r,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),yr&&(yr.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return e.createElement(cr,null,this.renderWave)}}]),r}(e.Component);xr.contextType=sr;var Er=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},_r=function(e,t,n){xn(e,"[antd: ".concat(t,"] ").concat(n))},Ir=e.createContext(void 0),Tr=function(t){var n=t.children,r=t.size;return e.createElement(Ir.Consumer,null,(function(t){return e.createElement(Ir.Provider,{value:r||t},n)}))},Sr=Ir,Cr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Nr=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Cr}))};Nr.displayName="LoadingOutlined";var Ar=e.forwardRef(Nr),Or=function(){return{width:0,opacity:0,transform:"scale(0)"}},Rr=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Zr=function(t){var n=t.prefixCls,r=!!t.loading;return t.existIcon?e.createElement("span",{className:"".concat(n,"-loading-icon")},e.createElement(Ar,null)):e.createElement(Ct,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Or,onAppearActive:Rr,onEnterStart:Or,onEnterActive:Rr,onLeaveStart:Rr,onLeaveActive:Or},(function(t,r){var i=t.className,a=t.style;return e.createElement("span",{className:"".concat(n,"-loading-icon"),style:a,ref:r},e.createElement(Ar,{className:i}))}))},Pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Dr=/^[\u4e00-\u9fa5]{2}$/,Lr=Dr.test.bind(Dr);function Mr(e){return"text"===e||"link"===e}function Fr(t,n){if(null!=t){var r,i=n?" ":"";return"string"!==typeof t&&"number"!==typeof t&&"string"===typeof t.type&&Lr(t.props.children)?kr(t,{children:t.props.children.split("").join(i)}):"string"===typeof t?Lr(t)?e.createElement("span",null,t.split("").join(i)):e.createElement("span",null,t):(r=t,e.isValidElement(r)&&r.type===e.Fragment?e.createElement("span",null,t):t)}}Er("default","primary","ghost","dashed","link","text"),Er("default","circle","round"),Er("submit","button","reset");function Ur(e){return"danger"===e?{danger:!0}:{type:e}}var jr=function(t,n){var a,o=t.loading,u=void 0!==o&&o,s=t.prefixCls,c=t.type,l=t.danger,f=t.shape,h=void 0===f?"default":f,d=t.size,p=t.className,v=t.children,m=t.icon,y=t.ghost,g=void 0!==y&&y,k=t.block,b=void 0!==k&&k,w=t.htmlType,x=void 0===w?"button":w,E=Pr(t,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),_=e.useContext(Sr),I=e.useState(!!u),T=(0,r.Z)(I,2),S=T[0],C=T[1],N=e.useState(!1),A=(0,r.Z)(N,2),O=A[0],R=A[1],Z=e.useContext(sr),P=Z.getPrefixCls,D=Z.autoInsertSpaceInButton,L=Z.direction,M=n||e.createRef(),F=e.useRef(),U=function(){return 1===e.Children.count(v)&&!m&&!Mr(c)},j="object"===(0,te.Z)(u)&&u.delay?u.delay||!0:!!u;e.useEffect((function(){clearTimeout(F.current),"number"===typeof j?F.current=window.setTimeout((function(){C(j)}),j):C(j)}),[j]),e.useEffect((function(){if(M&&M.current&&!1!==D){var e=M.current.textContent;U()&&Lr(e)?O||R(!0):O&&R(!1)}}),[M]);var V=function(e){var n,r=t.onClick,i=t.disabled;S||i?e.preventDefault():null===(n=r)||void 0===n||n(e)};_r(!("string"===typeof m&&m.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(m,"` at https://ant.design/components/icon")),_r(!(g&&Mr(c)),"Button","`link` or `text` button can't be a `ghost` button.");var z=P("btn",s),q=!1!==D,B=d||_,H=B&&{large:"lg",small:"sm",middle:void 0}[B]||"",W=S?"loading":m,K=Oe()(z,(a={},(0,Y.Z)(a,"".concat(z,"-").concat(c),c),(0,Y.Z)(a,"".concat(z,"-").concat(h),"default"!==h&&h),(0,Y.Z)(a,"".concat(z,"-").concat(H),H),(0,Y.Z)(a,"".concat(z,"-icon-only"),!v&&0!==v&&!!W),(0,Y.Z)(a,"".concat(z,"-background-ghost"),g&&!Mr(c)),(0,Y.Z)(a,"".concat(z,"-loading"),S),(0,Y.Z)(a,"".concat(z,"-two-chinese-chars"),O&&q),(0,Y.Z)(a,"".concat(z,"-block"),b),(0,Y.Z)(a,"".concat(z,"-dangerous"),!!l),(0,Y.Z)(a,"".concat(z,"-rtl"),"rtl"===L),a),p),G=m&&!S?m:e.createElement(Zr,{existIcon:!!m,prefixCls:z,loading:!!S}),Q=v||0===v?function(t,n){var r=!1,i=[];return e.Children.forEach(t,(function(e){var t=(0,te.Z)(e),n="string"===t||"number"===t;if(r&&n){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);r=n})),e.Children.map(i,(function(e){return Fr(e,n)}))}(v,U()&&q):null,$=function(e,t){var n=(0,Ne.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}(E,["navigate"]);if(void 0!==$.href)return e.createElement("a",i({},$,{className:K,onClick:V,ref:M}),G,Q);var X=e.createElement("button",i({},E,{type:x,className:K,onClick:V,ref:M}),G,Q);return Mr(c)?X:e.createElement(xr,{disabled:!!S},X)},Vr=e.forwardRef(jr);Vr.displayName="Button",Vr.Group=hr,Vr.__ANT_BUTTON=!0;var zr,qr=Vr,Br=function(){return se()&&window.document.documentElement},Hr=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Wr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Br()&&document.documentElement.addEventListener("click",(function(e){zr={x:e.pageX,y:e.pageY},setTimeout((function(){zr=null}),100)}),!0);var Kr=function(t){var n,r=e.useContext(sr),a=r.getPopupContainer,o=r.getPrefixCls,u=r.direction,s=function(e){var n=t.onCancel;null===n||void 0===n||n(e)},c=function(e){var n=t.onOk;null===n||void 0===n||n(e)},l=function(n){var r=t.okText,a=t.okType,o=t.cancelText,u=t.confirmLoading;return e.createElement(e.Fragment,null,e.createElement(qr,i({onClick:s},t.cancelButtonProps),o||n.cancelText),e.createElement(qr,i({},Ur(a),{loading:u,onClick:c},t.okButtonProps),r||n.okText))},f=t.prefixCls,h=t.footer,d=t.visible,p=t.wrapClassName,v=t.centered,m=t.getContainer,y=t.closeIcon,g=t.focusTriggerAfterClose,k=void 0===g||g,b=Wr(t,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),w=o("modal",f),x=o(),E=e.createElement(Jn,{componentName:"Modal",defaultLocale:Yn()},l),_=e.createElement("span",{className:"".concat(w,"-close-x")},y||e.createElement(qn,{className:"".concat(w,"-close-icon")})),I=Oe()(p,(n={},(0,Y.Z)(n,"".concat(w,"-centered"),!!v),(0,Y.Z)(n,"".concat(w,"-wrap-rtl"),"rtl"===u),n));return e.createElement(Ut,i({},b,{getContainer:void 0===m?a:m,prefixCls:w,wrapClassName:I,footer:void 0===h?E:h,visible:d,mousePosition:zr,onClose:s,closeIcon:_,focusTriggerAfterClose:k,transitionName:Hr(x,"zoom",t.transitionName),maskTransitionName:Hr(x,"fade",t.maskTransitionName)}))};Kr.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var Gr=Kr,Qr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Yr=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Qr}))};Yr.displayName="InfoCircleOutlined";var $r=e.forwardRef(Yr),Xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Jr=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Xr}))};Jr.displayName="CheckCircleOutlined";var ei=e.forwardRef(Jr),ti={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},ni=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:ti}))};ni.displayName="CloseCircleOutlined";var ri=e.forwardRef(ni),ii={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},ai=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:ii}))};ai.displayName="ExclamationCircleOutlined";var oi=e.forwardRef(ai);function ui(e){return!(!e||!e.then)}var si=function(t){var n=e.useRef(!1),a=e.useRef(),o=e.useState(!1),u=(0,r.Z)(o,2),s=u[0],c=u[1];e.useEffect((function(){var e;if(t.autoFocus){var n=a.current;e=setTimeout((function(){return n.focus()}))}return function(){e&&clearTimeout(e)}}),[]);var l=t.type,f=t.children,h=t.prefixCls,d=t.buttonProps;return e.createElement(qr,i({},Ur(l),{onClick:function(e){var r=t.actionFn,i=t.close;if(!n.current)if(n.current=!0,r){var a;if(t.emitEvent){if(a=r(e),t.quitOnNullishReturnValue&&!ui(a))return n.current=!1,void i(e)}else if(r.length)a=r(i),n.current=!1;else if(!(a=r()))return void i();!function(e){var r=t.close;ui(e)&&(c(!0),e.then((function(){c(!1),r.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),c(!1),n.current=!1})))}(a)}else i()},loading:s,prefixCls:h},d,{ref:a}),f)};function ci(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(ci(e)):(0,Fe.isFragment)(e)&&e.props?r=r.concat(ci(e.props.children,n)):r.push(e))})),r}var li="RC_FORM_INTERNAL_HOOKS",fi=function(){xn(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},hi=e.createContext({getFieldValue:fi,getFieldsValue:fi,getFieldError:fi,getFieldWarning:fi,getFieldsError:fi,isFieldsTouched:fi,isFieldTouched:fi,isFieldValidating:fi,isFieldsValidating:fi,resetFields:fi,setFields:fi,setFieldsValue:fi,validateFields:fi,submit:fi,getInternalHooks:function(){return fi(),{dispatch:fi,initEntityValue:fi,registerField:fi,useSubscribe:fi,setInitialValues:fi,setCallbacks:fi,getFields:fi,setValidateMessages:fi,setPreserve:fi,getInitialValue:fi}}});function di(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function mi(e,t){return mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mi(e,t)}function yi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gi(e,t,n){return gi=yi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&mi(i,n.prototype),i},gi.apply(null,arguments)}function ki(e){var t="function"===typeof Map?new Map:void 0;return ki=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return gi(e,arguments,vi(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mi(r,e)},ki(e)}var bi=/%[sdj%]/g;function wi(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(bi,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function Ei(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function _i(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var Ii=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,mi(t,n),r}(ki(Error));function Ti(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);_i(o,n,(function(e){return r(e),e.length?a(new Ii(e,wi(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new Ii(l,wi(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?_i(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function Si(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Ci(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=pi({},e[n],r):e[n]=r}return e}var Ni=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!Ei(t,a||e.type)||r.push(xi(i.messages.required,e.fullField))},Ai={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Oi={integer:function(e){return Oi.number(e)&&parseInt(e,10)===e},float:function(e){return Oi.number(e)&&!Oi.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Oi.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Ai.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(Ai.url)},hex:function(e){return"string"===typeof e&&!!e.match(Ai.hex)}},Ri={required:Ni,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(xi(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Ni(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Oi[a](t)||r.push(xi(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(xi(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(xi(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(xi(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(xi(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(xi(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(xi(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(xi(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(xi(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Zi=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t,a)&&!e.required)return n();Ri.required(e,t,r,o,i,a),Ei(t,a)||Ri.type(e,t,r,o,i)}n(o)},Pi={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t,"string")&&!e.required)return n();Ri.required(e,t,r,a,i,"string"),Ei(t,"string")||(Ri.type(e,t,r,a,i),Ri.range(e,t,r,a,i),Ri.pattern(e,t,r,a,i),!0===e.whitespace&&Ri.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&Ri.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&(Ri.type(e,t,r,a,i),Ri.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&Ri.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),Ei(t)||Ri.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&(Ri.type(e,t,r,a,i),Ri.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&(Ri.type(e,t,r,a,i),Ri.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Ri.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(Ri.type(e,t,r,a,i),Ri.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&Ri.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i),void 0!==t&&Ri.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t,"string")&&!e.required)return n();Ri.required(e,t,r,a,i),Ei(t,"string")||Ri.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t,"date")&&!e.required)return n();var o;if(Ri.required(e,t,r,a,i),!Ei(t,"date"))o=t instanceof Date?t:new Date(t),Ri.type(e,o,r,a,i),o&&Ri.range(e,o.getTime(),r,a,i)}n(a)},url:Zi,hex:Zi,email:Zi,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;Ri.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Ei(t)&&!e.required)return n();Ri.required(e,t,r,a,i)}n(a)}};function Di(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Li=Di(),Mi=function(){function e(e){this.rules=null,this._messages=Li,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Ci(Di(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===Li&&(s=Di()),Ci(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=pi({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:pi({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return Ti(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return pi({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(Si(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(Si(i,a)):o.error&&(f=[o.error(i,xi(o.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=pi({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(s.bind(null,e))}));var p=new e(d);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator?r=i.asyncValidator(i,t.value,c,t.source,o):i.validator&&(!0===(r=i.validator(i,t.value,c,t.source,o))?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)),r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=wi(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Pi.hasOwnProperty(e.type))throw new Error(xi("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Pi.required:Pi[this.getType(e)]||void 0},e}();Mi.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Pi[e]=t},Mi.warning=function(){},Mi.messages=Li,Mi.validators=Pi;var Fi="'${name}' is not a valid ${type}",Ui={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Fi,method:Fi,array:Fi,object:Fi,number:Fi,date:Fi,boolean:Fi,integer:Fi,float:Fi,regexp:Fi,email:Fi,url:Fi,hex:Fi},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function ji(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Vi=n(878),zi=n(199),qi=n(181),Bi=n(267);function Hi(e,t,n,r){if(!t.length)return n;var i,a,o=(i=t,(0,Vi.Z)(i)||(0,zi.Z)(i)||(0,qi.Z)(i)||(0,Bi.Z)()),u=o[0],s=o.slice(1);return a=e||"number"!==typeof u?Array.isArray(e)?(0,me.Z)(e):(0,Ne.Z)({},e):[],r&&void 0===n&&1===s.length?delete a[u][s[0]]:a[u]=Hi(a[u],s,n,r),a}function Wi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!ji(e,t.slice(0,-1))?e:Hi(e,t,n,r)}function Ki(e){return di(e)}function Gi(e,t){return ji(e,t)}function Qi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Wi(e,t,n,r);return i}function Yi(e,t){var n={};return t.forEach((function(t){var r=Gi(e,t);n=Qi(n,t,r)})),n}function $i(e,t){return e&&e.some((function(e){return ta(e,t)}))}function Xi(e){return"object"===(0,te.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Ji(e,t){var n=Array.isArray(e)?(0,me.Z)(e):(0,Ne.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=Xi(r)&&Xi(i);n[e]=a?Ji(r,i||{}):i})),n):n}function ea(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Ji(e,t)}),e)}function ta(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function na(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function ra(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat((0,me.Z)(e.slice(0,n)),[i],(0,me.Z)(e.slice(n,t)),(0,me.Z)(e.slice(t+1,r))):a<0?[].concat((0,me.Z)(e.slice(0,t)),(0,me.Z)(e.slice(t+1,n+1)),[i],(0,me.Z)(e.slice(n+1,r))):e}var ia=Mi;function aa(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function oa(e,t,n,r,i){return ua.apply(this,arguments)}function ua(){return ua=(0,W.Z)(G().mark((function t(n,r,i,a,o){var u,s,c,l,f,h,d,p;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(u=(0,Ne.Z)({},i)).ruleIndex,s=null,u&&"array"===u.type&&u.defaultField&&(s=u.defaultField,delete u.defaultField),c=new ia((0,Y.Z)({},n,[u])),l=ea({},Ui,a.validateMessages),c.messages(l),f=[],t.prev=8,t.next=11,Promise.resolve(c.validate((0,Y.Z)({},n,r),(0,Ne.Z)({},a)));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.errors?f=t.t0.errors.map((function(t,n){var r=t.message;return e.isValidElement(r)?e.cloneElement(r,{key:"error_".concat(n)}):r})):(console.error(t.t0),f=[l.default]);case 16:if(f.length||!s){t.next=21;break}return t.next=19,Promise.all(r.map((function(e,t){return oa("".concat(n,".").concat(t),e,s,a,o)})));case 19:return h=t.sent,t.abrupt("return",h.reduce((function(e,t){return[].concat((0,me.Z)(e),(0,me.Z)(t))}),[]));case 21:return d=(0,Ne.Z)((0,Ne.Z)({},i),{},{name:n,enum:(i.enum||[]).join(", ")},o),p=f.map((function(e){return"string"===typeof e?aa(e,d):e})),t.abrupt("return",p);case 24:case"end":return t.stop()}}),t,null,[[8,13]])}))),ua.apply(this,arguments)}function sa(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=(0,Ne.Z)((0,Ne.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){xn(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,xn(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=(0,W.Z)(G().mark((function e(n,i){var o,c,l;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,oa(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return oa(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return la.apply(this,arguments)}(c):function(e){return ca.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function ca(){return(ca=(0,W.Z)(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,me.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(){return la=(0,W.Z)(G().mark((function e(t){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}var fa=["name"],ha=[];function da(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var pa=function(t){(0,J.Z)(r,t);var n=(0,ee.Z)(r);function r(t){var i;((0,$.Z)(this,r),(i=n.call(this,t)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=ha,i.warnings=ha,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Ki(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,me.Z)(r),(0,me.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t((0,Ne.Z)((0,Ne.Z)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&$i(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ha,i.warnings=ha,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=ha,i.warnings=ha,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||ha),"warnings"in p&&(i.warnings=p.warnings||ha),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&da(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(Ki).some((function(e){return $i(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&da(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||di(t).includes(c)})));var f=sa(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,a=void 0===i?ha:i;r?n.push.apply(n,(0,me.Z)(a)):t.push.apply(t,(0,me.Z)(a))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=ha,i.warnings=ha,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(li).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(t){if("function"===typeof t){var n=i.getMeta();return(0,Ne.Z)((0,Ne.Z)({},i.getOnlyChild(t(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=ci(t);return 1===r.length&&e.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Gi(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,p=h(li),v=p.dispatch,m=i.getValue(),y=s||function(e){return(0,Y.Z)({},u,e)},g=e[n],k=(0,Ne.Z)((0,Ne.Z)({},e),y(m));k[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):na.apply(void 0,[u].concat(n)),o&&(e=o(e,m,d(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var b=di(l||[]);return b.forEach((function(e){var t=k[e];k[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),k},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(li).initEntityValue)((0,dr.Z)(i));return i}return(0,X.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(li).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?t=a:e.isValidElement(a)?t=e.cloneElement(a,this.getControlled(a.props)):(xn(!a,"`children` of Field is not validate ReactElement."),t=a),e.createElement(e.Fragment,{key:n},t)}}]),r}(e.Component);pa.contextType=hi,pa.defaultProps={trigger:"onChange",valuePropName:"value"};var va=function(t){var n=t.name,r=gt(t,fa),a=e.useContext(hi),o=void 0!==n?Ki(n):void 0,u="keep";return r.isListField||(u="_".concat((o||[]).join("_"))),e.createElement(pa,i({key:u,name:o},r,{fieldContext:a}))},ma=function(t){var n=t.name,r=t.initialValue,i=t.children,a=t.rules,o=t.validateTrigger,u=e.useContext(hi),s=e.useRef({keys:[],id:0}).current;if("function"!==typeof i)return xn(!1,"Form.List only accepts function as children."),null;var c=Ki(u.prefixName)||[],l=[].concat((0,me.Z)(c),(0,me.Z)(Ki(n)));return e.createElement(hi.Provider,{value:(0,Ne.Z)((0,Ne.Z)({},u),{},{prefixName:l})},e.createElement(va,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,c=function(){return o(l||[])||[]},f={add:function(e,t){var n=c();t>=0&&t<=n.length?(s.keys=[].concat((0,me.Z)(s.keys.slice(0,t)),[s.id],(0,me.Z)(s.keys.slice(t))),a([].concat((0,me.Z)(n.slice(0,t)),[e],(0,me.Z)(n.slice(t))))):(s.keys=[].concat((0,me.Z)(s.keys),[s.id]),a([].concat((0,me.Z)(n),[e]))),s.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(s.keys=ra(s.keys,e,t),a(ra(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)})))};var ya="__@field_split__";function ga(e){return e.map((function(e){return"".concat((0,te.Z)(e),":").concat(e)})).join(ya)}var ka=function(){function e(){(0,$.Z)(this,e),this.kvs=new Map}return(0,X.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(ga(e),t)}},{key:"get",value:function(e){return this.kvs.get(ga(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(ga(e))}},{key:"map",value:function(e){return(0,me.Z)(this.kvs.entries()).map((function(t){var n=(0,r.Z)(t,2),i=n[0],a=n[1],o=i.split(ya);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,r.Z)(t,3),i=n[1],a=n[2];return"number"===i?Number(a):a})),value:a})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),ba=ka,wa=["name","errors"],xa=function e(t){var n=this;(0,$.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===li?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(xn(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=ea({},e,n.store))},this.getInitialValue=function(e){return Gi(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ba;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Ki(e);return t.get(n)||{INVALIDATE_NAME_PATH:Ki(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),Yi(n.store,i.map(Ki))},this.getFieldValue=function(e){n.warningUnhooked();var t=Ki(e);return Gi(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Ki(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Ki(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Ki(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(Ki),u=!1):(i=null,u=a):(i=a.map(Ki),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new ba;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat((0,me.Z)(t),[e])}))}))}));var f=function(e){return e.some(c)},h=l.map((function(e){return e.value}));return u?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Ki);return t.some((function(e){var t=e.getNamePath();return $i(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ba,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))xn(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)xn(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||(n.store=Qi(n.store,i,(0,me.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,me.Z)((0,me.Z)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=ea({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(Ki);r.forEach((function(e){var t=n.getInitialValue(e);n.store=Qi(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,gt(e,wa)),a=Ki(r);"value"in i&&(n.store=Qi(n.store,a,i.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,Ne.Z)((0,Ne.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Gi(n.store,r)&&(n.store=Qi(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var a=void 0!==r?r:n.preserve;if(!1===a&&(!t||i.length>1)){var o=e.getNamePath(),u=t?void 0:Gi(n.initialValues,o);o.length&&n.getFieldValue(o)!==u&&n.fieldEntities.every((function(e){return!ta(e.getNamePath(),o)}))&&(n.store=Qi(n.store,o,u,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,Ne.Z)((0,Ne.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=Ki(e),i=n.store;n.store=Qi(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var a=n.getDependencyChildrenFields(r);a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat((0,me.Z)(a))});var o=n.callbacks.onValuesChange;o&&o(Yi(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,me.Z)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=ea(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new ba;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Ki(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new ba;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return $i(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Ki):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||$i(i,s)){var c=o.validateRules((0,Ne.Z)({validateMessages:(0,Ne.Z)((0,Ne.Z)({},Ui),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,(0,me.Z)(i)):t.push.apply(t,(0,me.Z)(i))})),t.length?Promise.reject({name:s,errors:t,warnings:n}):{name:s,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};var Ea=function(t){var n=e.useRef(),i=e.useState({}),a=(0,r.Z)(i,2)[1];if(!n.current)if(t)n.current=t;else{var o=new xa((function(){a({})}));n.current=o.getForm()}return[n.current]},_a=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ia=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,a=t.children,o=e.useContext(_a),u=e.useRef({});return e.createElement(_a.Provider,{value:(0,Ne.Z)((0,Ne.Z)({},o),{},{validateMessages:(0,Ne.Z)((0,Ne.Z)({},o.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=(0,Ne.Z)((0,Ne.Z)({},u.current),{},(0,Y.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=(0,Ne.Z)({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},Ta=_a,Sa=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ca=function(t,n){var a=t.name,o=t.initialValues,u=t.fields,s=t.form,c=t.preserve,l=t.children,f=t.component,h=void 0===f?"form":f,d=t.validateMessages,p=t.validateTrigger,v=void 0===p?"onChange":p,m=t.onValuesChange,y=t.onFieldsChange,g=t.onFinish,k=t.onFinishFailed,b=gt(t,Sa),w=e.useContext(Ta),x=Ea(s),E=(0,r.Z)(x,1)[0],_=E.getInternalHooks(li),I=_.useSubscribe,T=_.setInitialValues,S=_.setCallbacks,C=_.setValidateMessages,N=_.setPreserve;e.useImperativeHandle(n,(function(){return E})),e.useEffect((function(){return w.registerForm(a,E),function(){w.unregisterForm(a)}}),[w,E,a]),C((0,Ne.Z)((0,Ne.Z)({},w.validateMessages),d)),S({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(a,e),y){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.apply(void 0,[e].concat(n))}},onFinish:function(e){w.triggerFormFinish(a,e),g&&g(e)},onFinishFailed:k}),N(c);var A=e.useRef(null);T(o,!A.current),A.current||(A.current=!0);var O=l,R="function"===typeof l;R&&(O=l(E.getFieldsValue(!0),E));I(!R);var Z=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,te.Z)(e)||"object"!==(0,te.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,me.Z)(n),(0,me.Z)(r)));return(0,me.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(Z.current||[],u||[])||E.setFields(u||[]),Z.current=u}),[u,E]);var P=e.useMemo((function(){return(0,Ne.Z)((0,Ne.Z)({},E),{},{validateTrigger:v})}),[E,v]),D=e.createElement(hi.Provider,{value:P},O);return!1===h?D:e.createElement(h,i({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),E.submit()},onReset:function(e){var t;e.preventDefault(),E.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),D)},Na=e.forwardRef(Ca);Na.FormProvider=Ia,Na.Field=va,Na.List=ma,Na.useForm=Ea;var Aa=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Oa(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Aa(r)&&Aa(i)))return!1;var r,i;return!0}var Ra="internalMark",Za=function(t){(0,J.Z)(r,t);var n=(0,ee.Z)(r);function r(e){var t;return(0,$.Z)(this,r),t=n.call(this,e),Qn(e.locale&&e.locale.Modal),_r(e._ANT_MARK__===Ra,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),t}return(0,X.Z)(r,[{key:"componentDidMount",value:function(){Qn(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Qn(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Qn()}},{key:"render",value:function(){var t=this.props,n=t.locale,r=t.children,a=function(e,t){void 0===t&&(t=Oa);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((function(e){return i(i({},e),{exist:!0})}))(n);return e.createElement(Xn.Provider,{value:a},r)}}]),r}(e.Component);Za.defaultProps={locale:{}};var Pa=function(n){(0,J.Z)(a,n);var r=(0,ee.Z)(a);function a(){var e;(0,$.Z)(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,X.Z)(a,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var n=this,r=this.props,a=r.prefixCls,o=r.className,u=r.closable,s=r.closeIcon,c=r.style,l=r.onClick,f=r.children,h=r.holder,d="".concat(a,"-notice"),p=Object.keys(this.props).reduce((function(e,t){return"data-"!==t.substr(0,5)&&"aria-"!==t.substr(0,5)&&"role"!==t||(e[t]=n.props[t]),e}),{}),v=e.createElement("div",i({className:Oe()(d,o,(0,Y.Z)({},"".concat(d,"-closable"),u)),style:c,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},p),e.createElement("div",{className:"".concat(d,"-content")},f),u?e.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(d,"-close")},s||e.createElement("span",{className:"".concat(d,"-close-x")})):null);return h?t.createPortal(v,h):v}}]),a}(e.Component);function Da(t){var n=e.useRef({}),a=e.useState([]),o=(0,r.Z)(a,2),u=o[0],s=o[1];return[function(r){var a=!0;t.add(r,(function(t,r){var o=r.key;if(t&&(!n.current[o]||a)){var u=e.createElement(Pa,i({},r,{holder:t}));n.current[o]=u,s((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat((0,me.Z)(e),[u]);var n=(0,me.Z)(e);return n[t]=u,n}))}a=!1}))},e.createElement(e.Fragment,null,u)]}Pa.defaultProps={onClose:function(){},duration:1.5};var La=0,Ma=Date.now();function Fa(){var e=La;return La+=1,"rcNotification_".concat(Ma,"_").concat(e)}var Ua=function(t){(0,J.Z)(r,t);var n=(0,ee.Z)(r);function r(){var e;(0,$.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||Fa(),i=(0,Ne.Z)((0,Ne.Z)({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),u=t.concat();return-1!==o?u.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=u[0].notice.key,i.updateMark=Fa(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,X.Z)(r,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var t=this,n=this.state.notices,r=this.props,a=r.prefixCls,o=r.className,u=r.closeIcon,s=r.style,c=[];return n.forEach((function(e,r){var i=e.notice,o=e.holderCallback,s=r===n.length-1?i.updateMark:void 0,l=i.key,f=i.userPassKey,h=(0,Ne.Z)((0,Ne.Z)((0,Ne.Z)({prefixCls:a,closeIcon:u},i),i.props),{},{key:l,noticeKey:f||l,updateMark:s,onClose:function(e){var n;t.remove(e),null===(n=i.onClose)||void 0===n||n.call(i)},onClick:i.onClick,children:i.content});c.push(l),t.noticePropsMap[l]={props:h,holderCallback:o}})),e.createElement("div",{className:Oe()(a,o),style:s},e.createElement(St,{keys:c,motionName:this.getTransitionName(),onVisibleChanged:function(e,n){var r=n.key;e||delete t.noticePropsMap[r]}},(function(n){var r=n.key,o=n.className,u=n.style,s=n.visible,c=t.noticePropsMap[r],l=c.props,f=c.holderCallback;return f?e.createElement("div",{key:r,className:Oe()(o,"".concat(a,"-hook-holder")),style:(0,Ne.Z)({},u),ref:function(e){"undefined"!==typeof r&&(e?(t.hookRefs.set(r,e),f(e,l)):t.hookRefs.delete(r))}}):e.createElement(Pa,i({},l,{className:Oe()(o,null===l||void 0===l?void 0:l.className),style:(0,Ne.Z)((0,Ne.Z)({},u),null===l||void 0===l?void 0:l.style),visible:s}))})))}}]),r}(e.Component);Ua.newInstance=void 0,Ua.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},Ua.newInstance=function(n,r){var a=n||{},o=a.getContainer,u=gt(a,["getContainer"]),s=document.createElement("div");o?o().appendChild(s):document.body.appendChild(s);var c=!1;t.render(e.createElement(Ua,i({},u,{ref:function(e){c||(c=!0,r({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){t.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return Da(e)}}))}})),s)};var ja=Ua,Va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},za=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Va}))};za.displayName="ExclamationCircleFilled";var qa=e.forwardRef(za),Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Ha=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Ba}))};Ha.displayName="CloseCircleFilled";var Wa=e.forwardRef(Ha),Ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Ga=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:Ka}))};Ga.displayName="CheckCircleFilled";var Qa,Ya=e.forwardRef(Ga),$a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Xa=function(t,n){return e.createElement(Vn,(0,Ne.Z)((0,Ne.Z)({},t),{},{ref:n,icon:$a}))};Xa.displayName="InfoCircleFilled";var Ja,eo,to,no=3,ro=1,io="",ao="move-up",oo=!1,uo=!1;function so(){return ro++}function co(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=Uo(),a=i.getPrefixCls,o=i.getRootPrefixCls,u=i.getIconPrefixCls,s=a("message",n||io),c=o(e.rootPrefixCls,s),l=u();if(Qa)t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:Qa});else{var f={prefixCls:s,transitionName:oo?ao:"".concat(c,"-").concat(ao),style:{top:Ja},getContainer:eo||r,maxCount:to};ja.newInstance(f,(function(e){Qa?t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:Qa}):(Qa=e,t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var lo={info:e.forwardRef(Xa),success:Ya,error:Wa,warning:qa,loading:Ar};function fo(t,n,r){var i,a=void 0!==t.duration?t.duration:no,o=lo[t.type],u=Oe()("".concat(n,"-custom-content"),(i={},(0,Y.Z)(i,"".concat(n,"-").concat(t.type),t.type),(0,Y.Z)(i,"".concat(n,"-rtl"),!0===uo),i));return{key:t.key,duration:a,style:t.style||{},className:t.className,content:e.createElement(zo,{iconPrefixCls:r},e.createElement("div",{className:u},t.icon||o&&e.createElement(o,null),e.createElement("span",null,t.content))),onClose:t.onClose,onClick:t.onClick}}var ho={open:function(e){var t=e.key||so(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};co(e,(function(n){var a=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(fo(i(i({},e),{key:t,onClose:r}),a,o))}))})),r=function(){Qa&&Qa.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(Ja=e.top,Qa=null),void 0!==e.duration&&(no=e.duration),void 0!==e.prefixCls&&(io=e.prefixCls),void 0!==e.getContainer&&(eo=e.getContainer),void 0!==e.transitionName&&(ao=e.transitionName,Qa=null,oo=!0),void 0!==e.maxCount&&(to=e.maxCount,Qa=null),void 0!==e.rtl&&(uo=e.rtl)},destroy:function(e){if(Qa)if(e){(0,Qa.removeNotice)(e)}else{var t=Qa.destroy;t(),Qa=null}}};function po(e,t){e[t]=function(n,r,a){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(i(i({},n),{type:t})):("function"===typeof r&&(a=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:a}))}}["success","info","warning","error","loading"].forEach((function(e){return po(ho,e)})),ho.warn=ho.warning,ho.useMessage=function(t,n){return function(){var a,o,u=null,s=Da({add:function(e,t){null===u||void 0===u||u.component.add(e,t)}}),c=(0,r.Z)(s,2),l=c[0],f=c[1];var h=e.useRef({});return h.current.open=function(e){var r=e.prefixCls,s=a("message",r),c=a(),f=e.key||so(),h=new Promise((function(r){var a=function(){return"function"===typeof e.onClose&&e.onClose(),r(!0)};t(i(i({},e),{prefixCls:s,rootPrefixCls:c,getPopupContainer:o}),(function(t){var r=t.prefixCls,o=t.instance;u=o,l(n(i(i({},e),{key:f,onClose:a}),r))}))})),d=function(){u&&u.removeNotice(f)};return d.then=function(e,t){return h.then(e,t)},d.promise=h,d},["success","info","warning","error","loading"].forEach((function(e){return po(h.current,e)})),[h.current,e.createElement(cr,{key:"holder"},(function(e){return a=e.getPrefixCls,o=e.getPopupContainer,f}))]}}(co,fo);var vo=ho;var mo,yo,go,ko={},bo=4.5,wo=24,xo=24,Eo="",_o="topRight",Io=!1;function To(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xo;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function So(e,t){var n=e.placement,r=void 0===n?_o:n,i=e.top,a=e.bottom,o=e.getContainer,u=void 0===o?mo:o,s=e.prefixCls,c=Uo(),l=c.getPrefixCls,f=c.getIconPrefixCls,h=l("notification",s||Eo),d=f(),p="".concat(h,"-").concat(r),v=ko[p];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:e})}));else{var m=Oe()("".concat(h,"-").concat(r),(0,Y.Z)({},"".concat(h,"-rtl"),!0===Io));ko[p]=new Promise((function(e){ja.newInstance({prefixCls:h,className:m,style:To(r,i,a),getContainer:u,maxCount:go},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:n})}))}))}}var Co={success:ei,info:$r,error:ri,warning:oi};function No(t,n,r){var i=t.duration,a=t.icon,o=t.type,u=t.description,s=t.message,c=t.btn,l=t.onClose,f=t.onClick,h=t.key,d=t.style,p=t.className,v=t.closeIcon,m=void 0===v?yo:v,y=void 0===i?bo:i,g=null;a?g=e.createElement("span",{className:"".concat(n,"-icon")},t.icon):o&&(g=e.createElement(Co[o]||null,{className:"".concat(n,"-icon ").concat(n,"-icon-").concat(o)}));var k=e.createElement("span",{className:"".concat(n,"-close-x")},m||e.createElement(qn,{className:"".concat(n,"-close-icon")})),b=!u&&g?e.createElement("span",{className:"".concat(n,"-message-single-line-auto-margin")}):null;return{content:e.createElement(zo,{iconPrefixCls:r},e.createElement("div",{className:g?"".concat(n,"-with-icon"):"",role:"alert"},g,e.createElement("div",{className:"".concat(n,"-message")},b,s),e.createElement("div",{className:"".concat(n,"-description")},u),c?e.createElement("span",{className:"".concat(n,"-btn")},c):null)),duration:y,closable:!0,closeIcon:k,onClose:l,onClick:f,key:h,style:d||{},className:Oe()(p,(0,Y.Z)({},"".concat(n,"-").concat(o),!!o))}}var Ao={open:function(e){So(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(No(e,n,r))}))},close:function(e){Object.keys(ko).forEach((function(t){return Promise.resolve(ko[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,u=e.prefixCls;void 0!==u&&(Eo=u),void 0!==t&&(bo=t),void 0!==n?_o=n:e.rtl&&(_o="topLeft"),void 0!==r&&(xo=r),void 0!==i&&(wo=i),void 0!==a&&(mo=a),void 0!==o&&(yo=o),void 0!==e.rtl&&(Io=e.rtl),void 0!==e.maxCount&&(go=e.maxCount)},destroy:function(){Object.keys(ko).forEach((function(e){Promise.resolve(ko[e]).then((function(e){e.destroy()})),delete ko[e]}))}};["success","info","warning","error"].forEach((function(e){Ao[e]=function(t){return Ao.open(i(i({},t),{type:e}))}})),Ao.warn=Ao.warning,Ao.useNotification=function(t,n){return function(){var a,o=null,u=Da({add:function(e,t){null===o||void 0===o||o.component.add(e,t)}}),s=(0,r.Z)(u,2),c=s[0],l=s[1];var f=e.useRef({});return f.current.open=function(e){var r=e.prefixCls,u=a("notification",r);t(i(i({},e),{prefixCls:u}),(function(t){var r=t.prefixCls,i=t.instance;o=i,c(n(e,r))}))},["success","info","warning","error"].forEach((function(e){f.current[e]=function(t){return f.current.open(i(i({},t),{type:e}))}})),[f.current,e.createElement(cr,{key:"holder"},(function(e){return a=e.getPrefixCls,l}))]}}(So,No);var Oo=Ao,Ro=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=tn(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Bt(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Qt(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Qt(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=Kt(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Kt(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Yt(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[Wt(Math.round(e).toString(16)),Wt(Math.round(t).toString(16)),Wt(Math.round(n).toString(16)),Wt($t(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*zt(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*zt(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Yt(this.r,this.g,this.b,!1),t=0,n=Object.entries(en);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=qt(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=qt(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=qt(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=qt(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],u=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+u)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Zo="-ant-".concat(Date.now(),"-").concat(Math.random());var Po,Do,Lo=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function Mo(){return Po||"ant"}function Fo(){return Do||"anticon"}var Uo=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(Mo(),"-").concat(e):Mo())},getIconPrefixCls:Fo,getRootPrefixCls:function(e,t){return e||(Po||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):Mo()))}}},jo=function(t){var n,r,a=t.children,o=t.csp,u=t.autoInsertSpaceInButton,s=t.form,c=t.locale,l=t.componentSize,f=t.direction,h=t.space,d=t.virtual,p=t.dropdownMatchSelectWidth,v=t.legacyLocale,m=t.parentContext,y=t.iconPrefixCls,g=e.useCallback((function(e,n){var r=t.prefixCls;if(n)return n;var i=r||m.getPrefixCls("");return e?"".concat(i,"-").concat(e):i}),[m.getPrefixCls,t.prefixCls]),k=i(i({},m),{csp:o,autoInsertSpaceInButton:u,locale:c||v,direction:f,space:h,virtual:d,dropdownMatchSelectWidth:p,getPrefixCls:g});Lo.forEach((function(e){var n=t[e];n&&(k[e]=n)}));var b=function(t,n,r){var i=e.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=t(),i.current.condition=n),i.current.value}((function(){return k}),k,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=e.useMemo((function(){return{prefixCls:y,csp:o}}),[y]),x=a,E={};return c&&(E=(null===(n=c.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(r=Kn.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),s&&s.validateMessages&&(E=i(i({},E),s.validateMessages)),Object.keys(E).length>0&&(x=e.createElement(Ia,{validateMessages:E},a)),c&&(x=e.createElement(Za,{locale:c,_ANT_MARK__:Ra},x)),y&&(x=e.createElement(Vt.Provider,{value:w},x)),l&&(x=e.createElement(Tr,{size:l},x)),e.createElement(sr.Provider,{value:b},x)},Vo=function(t){return e.useEffect((function(){t.direction&&(vo.config({rtl:"rtl"===t.direction}),Oo.config({rtl:"rtl"===t.direction}))}),[t.direction]),e.createElement(Jn,null,(function(n,r,a){return e.createElement(cr,null,(function(n){return e.createElement(jo,i({parentContext:n,legacyLocale:a},t))}))}))};Vo.ConfigContext=sr,Vo.SizeContext=Sr,Vo.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(Po=t),void 0!==n&&(Do=n),r&&function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new Ro(e),a=vn(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[1],n["".concat(t,"-color-deprecated-border")]=a[3]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new Ro(t.primaryColor),o=vn(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var u=new Ro(o[0]);n["primary-color-active-deprecated-f-30"]=r(u,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(u,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));Sn("\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  "),"".concat(Zo,"-dynamic-theme"))}(Mo(),r)};var zo=Vo,qo=function(t){var n=t.icon,r=t.onCancel,i=t.onOk,a=t.close,o=t.zIndex,u=t.afterClose,s=t.visible,c=t.keyboard,l=t.centered,f=t.getContainer,h=t.maskStyle,d=t.okText,p=t.okButtonProps,v=t.cancelText,m=t.cancelButtonProps,y=t.direction,g=t.prefixCls,k=t.rootPrefixCls,b=t.iconPrefixCls,w=t.bodyStyle,x=t.closable,E=void 0!==x&&x,_=t.closeIcon,I=t.modalRender,T=t.focusTriggerAfterClose;_r(!("string"===typeof n&&n.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(n,"` at https://ant.design/components/icon"));var S=t.okType||"primary",C="".concat(g,"-confirm"),N=!("okCancel"in t)||t.okCancel,A=t.width||416,O=t.style||{},R=void 0===t.mask||t.mask,Z=void 0!==t.maskClosable&&t.maskClosable,P=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),D=Oe()(C,"".concat(C,"-").concat(t.type),(0,Y.Z)({},"".concat(C,"-rtl"),"rtl"===y),t.className),L=N&&e.createElement(si,{actionFn:r,close:a,autoFocus:"cancel"===P,buttonProps:m,prefixCls:"".concat(k,"-btn")},v);return e.createElement(zo,{prefixCls:k,iconPrefixCls:b,direction:y},e.createElement(Gr,{prefixCls:g,className:D,wrapClassName:Oe()((0,Y.Z)({},"".concat(C,"-centered"),!!t.centered)),onCancel:function(){return a({triggerCancel:!0})},visible:s,title:"",footer:"",transitionName:Hr(k,"zoom",t.transitionName),maskTransitionName:Hr(k,"fade",t.maskTransitionName),mask:R,maskClosable:Z,maskStyle:h,style:O,bodyStyle:w,width:A,zIndex:o,afterClose:u,keyboard:c,centered:l,getContainer:f,closable:E,closeIcon:_,modalRender:I,focusTriggerAfterClose:T},e.createElement("div",{className:"".concat(C,"-body-wrapper")},e.createElement("div",{className:"".concat(C,"-body")},n,void 0===t.title?null:e.createElement("span",{className:"".concat(C,"-title")},t.title),e.createElement("div",{className:"".concat(C,"-content")},t.content)),e.createElement("div",{className:"".concat(C,"-btns")},L,e.createElement(si,{type:S,actionFn:i,close:a,autoFocus:"ok"===P,buttonProps:p,prefixCls:"".concat(k,"-btn")},d)))))},Bo=[],Ho=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Wo="";function Ko(n){var r=document.createDocumentFragment(),a=i(i({},n),{close:s,visible:!0});function o(){t.unmountComponentAtNode(r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=i.some((function(e){return e&&e.triggerCancel}));n.onCancel&&o&&n.onCancel.apply(n,i);for(var u=0;u<Bo.length;u++){var c=Bo[u];if(c===s){Bo.splice(u,1);break}}}function u(n){var a=n.okText,o=n.cancelText,u=n.prefixCls,s=Ho(n,["okText","cancelText","prefixCls"]);setTimeout((function(){var n=Yn(),c=Uo(),l=c.getPrefixCls,f=c.getIconPrefixCls,h=l(void 0,Wo),d=u||"".concat(h,"-modal"),p=f();t.render(e.createElement(qo,i({},s,{prefixCls:d,rootPrefixCls:h,iconPrefixCls:p,okText:a||(s.okCancel?n.okText:n.justOkText),cancelText:o||n.cancelText})),r)}))}function s(){for(var e=this,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];u(a=i(i({},a),{visible:!1,afterClose:function(){"function"===typeof n.afterClose&&n.afterClose(),o.apply(e,r)}}))}return u(a),Bo.push(s),{destroy:s,update:function(e){u(a="function"===typeof e?e(a):i(i({},a),e))}}}function Go(t){return i(i({icon:e.createElement(oi,null),okCancel:!1},t),{type:"warning"})}function Qo(t){return i(i({icon:e.createElement($r,null),okCancel:!1},t),{type:"info"})}function Yo(t){return i(i({icon:e.createElement(ei,null),okCancel:!1},t),{type:"success"})}function $o(t){return i(i({icon:e.createElement(ri,null),okCancel:!1},t),{type:"error"})}function Xo(t){return i(i({icon:e.createElement(oi,null),okCancel:!0},t),{type:"confirm"})}var Jo=function(t,n){var a=t.afterClose,o=t.config,u=e.useState(!0),s=(0,r.Z)(u,2),c=s[0],l=s[1],f=e.useState(o),h=(0,r.Z)(f,2),d=h[0],p=h[1],v=e.useContext(sr),m=v.direction,y=v.getPrefixCls,g=y("modal"),k=y(),b=function(){l(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));d.onCancel&&r&&d.onCancel()};return e.useImperativeHandle(n,(function(){return{destroy:b,update:function(e){p((function(t){return i(i({},t),e)}))}}})),e.createElement(Jn,{componentName:"Modal",defaultLocale:Kn.Modal},(function(t){return e.createElement(qo,i({prefixCls:g,rootPrefixCls:k},d,{close:b,visible:c,afterClose:a,okText:d.okText||(d.okCancel?t.okText:t.justOkText),direction:m,cancelText:d.cancelText||t.cancelText}))}))},eu=e.forwardRef(Jo),tu=0,nu=e.memo(e.forwardRef((function(t,n){var i=function(){var t=e.useState([]),n=(0,r.Z)(t,2),i=n[0],a=n[1];return[i,e.useCallback((function(e){return a((function(t){return[].concat((0,me.Z)(t),[e])})),function(){a((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),a=(0,r.Z)(i,2),o=a[0],u=a[1];return e.useImperativeHandle(n,(function(){return{patchElement:u}}),[]),e.createElement(e.Fragment,null,o)})));function ru(e){return Ko(Go(e))}var iu=Gr;iu.useModal=function(){var t=e.useRef(null),n=e.useState([]),i=(0,r.Z)(n,2),a=i[0],o=i[1];e.useEffect((function(){a.length&&((0,me.Z)(a).forEach((function(e){e()})),o([]))}),[a]);var u=e.useCallback((function(n){return function(r){var i;tu+=1;var a,u=e.createRef(),s=e.createElement(eu,{key:"modal-".concat(tu),config:n(r),ref:u,afterClose:function(){a()}});return a=null===(i=t.current)||void 0===i?void 0:i.patchElement(s),{destroy:function(){function e(){var e;null===(e=u.current)||void 0===e||e.destroy()}u.current?e():o((function(t){return[].concat((0,me.Z)(t),[e])}))},update:function(e){function t(){var t;null===(t=u.current)||void 0===t||t.update(e)}u.current?t():o((function(e){return[].concat((0,me.Z)(e),[t])}))}}}}),[]);return[e.useMemo((function(){return{info:u(Qo),success:u(Yo),error:u($o),warning:u(Go),confirm:u(Xo)}}),[]),e.createElement(nu,{ref:t})]},iu.info=function(e){return Ko(Qo(e))},iu.success=function(e){return Ko(Yo(e))},iu.error=function(e){return Ko($o(e))},iu.warning=ru,iu.warn=ru,iu.confirm=function(e){return Ko(Xo(e))},iu.destroyAll=function(){for(;Bo.length;){var e=Bo.pop();e&&e()}},iu.config=function(e){var t=e.rootPrefixCls;_r(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Wo=t};var au=iu,ou=n(184);var uu=function(t){var n=(0,e.useState)(!1),i=(0,r.Z)(n,2),a=i[0],o=i[1],u=(0,e.useState)(!1),s=(0,r.Z)(u,2),c=s[0],l=s[1];(0,e.useEffect)((function(){o(t.visible)}),[t.visible]);var f=function(){var e=(0,W.Z)(G().mark((function e(t){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,d(t);case 3:n=e.sent,l(!1),n||h();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return t.handleCancle()},d=function(e){return t.onSubmitHanlderModal(e)};return(0,ou.jsx)(ou.Fragment,{children:(0,ou.jsxs)(au,{title:t.title,visible:a,onOk:f,confirmLoading:c,maskClosable:!1,onCancel:h,children:[(0,ou.jsxs)("form",{onSubmit:d,children:[(0,ou.jsx)("p",{children:"\ud574\ub2f9 \uc544\uc774\ub514\uc758 \uc720\uc800\uac00 \uc81c\uacf5\uc5c5\uccb4\uc5d0 \uc5f0\uacb0\ud569\ub2c8\ub2e4. \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),(0,ou.jsxs)("p",{children:["userID : ",t.userEmail]}),(0,ou.jsx)("label",{children:"Password : "}),(0,ou.jsx)("input",{type:"password",name:"modalPwd",value:t.PromptUserPwd,onChange:function(e){return t.onChangeHanlder(e)}})]}),t.ModalError&&(0,ou.jsx)("div",{children:t.ModalErrorMsg})]})})};var su=function(t){var n=(0,e.useState)(""),i=(0,r.Z)(n,2),a=i[0],o=i[1],u=(0,e.useState)(""),s=(0,r.Z)(u,2),c=s[0],l=s[1],f=(0,e.useState)(""),h=(0,r.Z)(f,2),d=h[0],p=h[1],v=(0,e.useState)(!1),m=(0,r.Z)(v,2),y=m[0],g=m[1],k=(0,e.useState)(!1),b=(0,r.Z)(k,2),w=b[0],x=b[1],E=(0,e.useState)(!1),_=(0,r.Z)(E,2),I=_[0],T=_[1],S=(0,e.useState)(""),C=(0,r.Z)(S,2),N=C[0],A=C[1],O=(0,e.useState)(!1),R=(0,r.Z)(O,2),Z=R[0],P=R[1],D=(0,e.useState)(!1),L=(0,r.Z)(D,2),M=L[0],F=L[1],U=(0,e.useState)(""),j=(0,r.Z)(U,2),V=j[0],z=j[1],q=(0,e.useState)(!1),B=(0,r.Z)(q,2),H=B[0],K=B[1],Y=(0,e.useState)(""),$=(0,r.Z)(Y,2),X=$[0],J=$[1],ee=(0,e.useState)(""),te=(0,r.Z)(ee,2),ne=te[0],re=te[1],ie=(0,e.useState)(""),ae=(0,r.Z)(ie,2),oe=ae[0],ue=ae[1],se=(0,e.useState)(""),ce=(0,r.Z)(se,2),le=ce[0],fe=ce[1],he=(0,e.useState)(""),de=(0,r.Z)(he,2),pe=de[0],ve=de[1];(0,e.useEffect)((function(){setTimeout((function(){t.ClickState&&Ie(t.ClickState)}),500)}),[t.ClickState]);var me=function(){var e=(0,W.Z)(G().mark((function e(t){var n,r,i,a,o,u;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q.authService.getAuth(),r=ne,i=oe,a=le,e.next=6,ge(a,i);case 6:return o=e.sent,e.prev=7,e.next=10,Q.authService.signInWithEmailAndPassword(n,r,t).catch((function(e){throw e}));case 10:n.currentUser&&Q.authService.linkWithCredential(n.currentUser,o).then(function(){var e=(0,W.Z)(G().mark((function e(t){var r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q.authService.OAuthProvider.credentialFromResult(t),e.next=3,Q.authService.signInWithCredential(n,r);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=20;break;case 13:return e.prev=13,e.t0=e.catch(7),console.log(e.t0),u=ke(e.t0),K(!0),J(u),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,W.Z)(G().mark((function e(t){var n,r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q.authService.getAuth(),e.next=3,Q.authService.fetchSignInMethodsForEmail(n,t);case 3:r=e.sent,console.log(r[0]),"password"===r[0]&&be();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,W.Z)(G().mark((function e(t,n){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===Q.authService.GoogleAuthProvider.PROVIDER_ID?3:e.t0===Q.authService.FacebookAuthProvider.PROVIDER_ID?6:e.t0===Q.authService.GithubAuthProvider.PROVIDER_ID?9:12;break;case 3:return e.next=5,Q.authService.GoogleAuthProvider.credential(n);case 5:case 8:case 11:return e.abrupt("return",e.sent);case 6:return e.next=8,Q.authService.FacebookAuthProvider.credential(n);case 9:return e.next=11,Q.authService.GithubAuthProvider.credential(n);case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(e){var t;switch(e.code){case"auth/user-not-found":case"auth/wrong-password":return t="\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud68c\uc6d0\uc774\uac70\ub098 \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub9bd\ub2c8\ub2e4.";case"auth/too-many-requests":return t="\ube44\ubc00\ubc88\ud638\ub97c \ud2c0\ub9b0 \ud69f\uc218\uac00 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";case"auth/email-already-in-use":return t="\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud68c\uc6d0\uc785\ub2c8\ub2e4.";case"auth/account-exists-with-different-credential":return t="\ub2e4\ub978 \uacc4\uc815\uc73c\ub85c \uc774\ubbf8 \uac00\uc785\ub418\uc5b4\uc788\ub294 \ud68c\uc6d0\uc785\ub2c8\ub2e4.";default:return t}},be=function(){z(""),F(!0)},we=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"email":o(r);break;case"password":l(r);break;case"password_confirm":p(r),xe(c,r);break;case"signIn":g(!y),x(!y);break;case"modalPwd":z(r)}},xe=function(e,t){e===t?(T(!1),A("")):(T(!0),A("\ube44\ubc00\ubc88\ud638\ub97c \ub3d9\uc77c\ud558\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694"))},Ee=function(e){var t;switch(e){case Q.authService.GoogleAuthProvider.PROVIDER_ID:return(t=new Q.authService.GoogleAuthProvider).addScope("Profile"),t.addScope("email"),t;case Q.authService.FacebookAuthProvider.PROVIDER_ID:return(t=new Q.authService.FacebookAuthProvider).addScope("email"),t;case Q.authService.GithubAuthProvider.PROVIDER_ID:return(t=new Q.authService.GithubAuthProvider).addScope("repo"),t.addScope("read:user"),t}},_e=function(){var e=(0,W.Z)(G().mark((function e(t){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P(!0),e.prev=2,!w){e.next=11;break}if(xe(c,d),!I){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,Q.authService.createUserWithEmailAndPassword(Q.authService.getAuth(),a,c);case 9:e.next=13;break;case 11:return e.next=13,Q.authService.signInWithEmailAndPassword(Q.authService.getAuth(),a,c);case 13:e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),n=ke(e.t0),A(n),T(!0),P(!1);case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,W.Z)(G().mark((function e(t){var n,r,i,a,o,u,s,c;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(""),n=Q.authService.getAuth(),r=t.target.name,null,e.prev=4,e.t0=r,e.next="google"===e.t0?8:"facebook"===e.t0?11:"github"===e.t0?14:17;break;case 8:return i=Q.authService.GoogleAuthProvider.PROVIDER_ID,a=Ee(i),e.abrupt("break",18);case 11:return i=Q.authService.FacebookAuthProvider.PROVIDER_ID,a=Ee(i),e.abrupt("break",18);case 14:return i=Q.authService.GithubAuthProvider.PROVIDER_ID,a=Ee(i),e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:return e.next=20,Q.authService.signInWithPopup(n,a).then((function(e){console.log(e)}));case 20:e.sent,e.next=30;break;case 23:e.prev=23,e.t1=e.catch(4),console.log(e.t1),o=ke(e.t1),T(!0),A(o),e.t1.customData&&"auth/account-exists-with-different-credential"!==e.t1.code&&(u=e.t1.customData.email,s=e.t1.customData._tokenResponse.oauthAccessToken,c=e.t1.customData._tokenResponse.providerId,re(u),ue(s),fe(c),ve("".concat(c," \uc81c\uacf5\uc5c5\uccb4\ub97c \uae30\uc874\uc544\uc774\ub514\uc5d0 \uc5f0\uacb0\ud558\uae30")),ye(u));case 30:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t){return e.apply(this,arguments)}}();return(0,ou.jsxs)("div",{style:{width:"500px",margin:"100px auto"},children:[(0,ou.jsxs)("form",{onSubmit:_e,className:"container",children:[(0,ou.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:we,className:"authInput"}),(0,ou.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:c,onChange:we,className:"authInput"}),w&&(0,ou.jsx)("input",{name:"password_confirm",type:"password",placeholder:"PasswordConfirm",required:!0,className:"authInput",onChange:we}),(0,ou.jsx)("input",{type:"submit",value:w?"Create Account":"Log In",name:"submit",className:"authInput authSubmit",disabled:Z}),(0,ou.jsxs)("div",{children:[(0,ou.jsx)("input",{type:"checkbox",checked:y,name:"signIn",value:"signIn",style:{all:"revert"},onChange:we}),(0,ou.jsx)("label",{children:"\ud68c\uc6d0\uac00\uc785"})]})]}),I&&(0,ou.jsx)("div",{className:"authError",children:N}),(0,ou.jsx)("div",{children:(0,ou.jsx)(uu,{title:pe,userEmail:ne,visible:M,handleCancle:function(){z(""),K(!1),J(""),F(!1)},onChangeHanlder:function(e){return we(e)},onSubmitHanlderModal:function(e){return function(e){return e.preventDefault(),K(!1),J(""),me(V)}(e)},PromptUserPwd:V,ModalError:H,ModalErrorMsg:X})})]})};function cu(e){return cu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(e)}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fu(e,t,n[t])}))}return e}function du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var pu=function(){},vu={},mu={},yu={mark:pu,measure:pu};try{"undefined"!==typeof window&&(vu=window),"undefined"!==typeof document&&(mu=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(yu=performance)}catch(gc){}var gu=(vu.navigator||{}).userAgent,ku=void 0===gu?"":gu,bu=vu,wu=mu,xu=yu,Eu=(bu.document,!!wu.documentElement&&!!wu.head&&"function"===typeof wu.addEventListener&&"function"===typeof wu.createElement),_u=(~ku.indexOf("MSIE")||ku.indexOf("Trident/"),"svg-inline--fa"),Iu="data-fa-i2svg",Tu=(function(){try{}catch(gc){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),Su=Tu.concat([11,12,13,14,15,16,17,18,19,20]),Cu={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Nu=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Cu.GROUP,Cu.SWAP_OPACITY,Cu.PRIMARY,Cu.SECONDARY].concat(Tu.map((function(e){return"".concat(e,"x")}))).concat(Su.map((function(e){return"w-".concat(e)}))),bu.FontAwesomeConfig||{});if(wu&&"function"===typeof wu.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=du(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=wu.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Nu[r]=i)}))}var Au=hu({},{familyPrefix:"fa",replacementClass:_u,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Nu);Au.autoReplaceSvg||(Au.observeMutations=!1);var Ou=hu({},Au);bu.FontAwesomeConfig=Ou;var Ru=bu||{};Ru.___FONT_AWESOME___||(Ru.___FONT_AWESOME___={}),Ru.___FONT_AWESOME___.styles||(Ru.___FONT_AWESOME___.styles={}),Ru.___FONT_AWESOME___.hooks||(Ru.___FONT_AWESOME___.hooks={}),Ru.___FONT_AWESOME___.shims||(Ru.___FONT_AWESOME___.shims=[]);var Zu=Ru.___FONT_AWESOME___,Pu=[];Eu&&((wu.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(wu.readyState)||wu.addEventListener("DOMContentLoaded",(function e(){wu.removeEventListener("DOMContentLoaded",e),1,Pu.map((function(e){return e()}))})));var Du,Lu="pending",Mu="settled",Fu="fulfilled",Uu="rejected",ju=function(){},Vu="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,zu="undefined"===typeof setImmediate?setTimeout:setImmediate,qu=[];function Bu(){for(var e=0;e<qu.length;e++)qu[e][0](qu[e][1]);qu=[],Du=!1}function Hu(e,t){qu.push([e,t]),Du||(Du=!0,zu(Bu,0))}function Wu(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=Fu;try{r=i(r)}catch(gc){Yu(a,gc)}}Ku(a,r)||(n===Fu&&Gu(a,r),n===Uu&&Yu(a,r))}function Ku(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===cu(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?Qu(e,r):Gu(e,r))}),(function(t){n||(n=!0,Yu(e,t))})),!0}}catch(gc){return n||Yu(e,gc),!0}return!1}function Gu(e,t){e!==t&&Ku(e,t)||Qu(e,t)}function Qu(e,t){e._state===Lu&&(e._state=Mu,e._data=t,Hu(Xu,e))}function Yu(e,t){e._state===Lu&&(e._state=Mu,e._data=t,Hu(Ju,e))}function $u(e){e._then=e._then.forEach(Wu)}function Xu(e){e._state=Fu,$u(e)}function Ju(e){e._state=Uu,$u(e),!e._handled&&Vu&&n.g.process.emit("unhandledRejection",e._data,e)}function es(e){n.g.process.emit("rejectionHandled",e)}function ts(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof ts===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Yu(t,e)}try{e((function(e){Gu(t,e)}),n)}catch(gc){n(gc)}}(e,this)}ts.prototype={constructor:ts,_state:Lu,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(ju),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===Uu&&Vu&&Hu(es,this)),this._state===Fu||this._state===Uu?Hu(Wu,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},ts.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new ts((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},ts.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new ts((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},ts.resolve=function(e){return e&&"object"===cu(e)&&e.constructor===ts?e:new ts((function(t){t(e)}))},ts.reject=function(e){return new ts((function(t,n){n(e)}))};var ns={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function rs(e){if(e&&Eu){var t=wu.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=wu.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return wu.head.insertBefore(t,r),e}}function is(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function as(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function os(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function us(e){return e.size!==ns.size||e.x!==ns.x||e.y!==ns.y||e.rotate!==ns.rotate||e.flipX||e.flipY}function ss(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var cs={x:0,y:0,width:"100%",height:"100%"};function ls(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function fs(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=y?"":"fa-w-".concat(Math.ceil(v/m*16)),k=[Ou.replacementClass,a?"".concat(Ou.familyPrefix,"-").concat(a):"",g].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:hu({},f.attributes,{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},w=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[Iu]=""),s&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||is())},children:[s]});var x=hu({},b,{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:hu({},w,f.styles)}),E=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=ss({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:hu({},cs,{fill:"white"})},p=c.children?{children:c.children.map(ls)}:{},v={tag:"g",attributes:hu({},h.inner),children:[ls(hu({tag:c.tag,attributes:hu({},c.attributes,h.path)},p))]},m={tag:"g",attributes:hu({},h.outer),children:[v]},y="mask-".concat(o||is()),g="clip-".concat(o||is()),k={tag:"mask",attributes:hu({},cs,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:hu({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},cs)}),{children:n,attributes:r}}(x):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=os(e.styles);if(a.length>0&&(n.style=a),us(i)){var o=ss({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:hu({},o.outer),children:[{tag:"g",attributes:hu({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:hu({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(x),_=E.children,I=E.attributes;return x.children=_,x.attributes=I,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hu({},i,{id:!0===a?"".concat(t,"-").concat(Ou.familyPrefix,"-").concat(n):a}),children:r}]}]}(x):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(us(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=os(hu({},a,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(x)}var hs=function(){},ds=(Ou.measurePerformance&&xu&&xu.mark&&xu.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function ps(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof Zu.hooks.addPack||i?Zu.styles[e]=hu({},Zu.styles[e]||{},a):Zu.hooks.addPack(e,a),"fas"===e&&ps("fa",t)}var vs=Zu.styles,ms=Zu.shims,ys=function(){var e=function(e){return ds(vs,(function(t,n,r){return t[r]=ds(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in vs;ds(ms,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};ys();Zu.styles;function gs(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ks(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?as(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(as(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(ks).join(""),"</").concat(t,">")}var bs=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function ws(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ws.prototype=Object.create(Error.prototype),ws.prototype.constructor=ws;var xs={fill:"currentColor"},Es={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},_s={tag:"path",attributes:hu({},xs,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Is=hu({},Es,{attributeName:"opacity"});hu({},xs,{cx:"256",cy:"364",r:"28"}),hu({},Es,{attributeName:"r",values:"28;14;28;28;14;28;"}),hu({},Is,{values:"1;0;1;1;0;1;"}),hu({},xs,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),hu({},Is,{values:"1;0;0;0;0;1;"}),hu({},xs,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),hu({},Is,{values:"0;0;1;1;0;0;"}),Zu.styles;function Ts(e){var t=e[0],n=e[1],r=du(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Ou.familyPrefix,"-").concat(Cu.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ou.familyPrefix,"-").concat(Cu.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ou.familyPrefix,"-").concat(Cu.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}Zu.styles;function Ss(){var e="fa",t=_u,n=Ou.familyPrefix,r=Ou.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var Cs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=hu({},e.definitions[t]||{},i[t]),ps(t,i[t]),ys()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}],n&&lu(t.prototype,n),r&&lu(t,r),e}();function Ns(){Ou.autoAddCss&&!Ps&&(rs(Ss()),Ps=!0)}function As(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return ks(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Eu){var t=wu.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Os(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return gs(Zs.definitions,n,r)||gs(Zu.styles,n,r)}var Rs,Zs=new Cs,Ps=!1,Ds={transform:function(e){return bs(e)}},Ls=(Rs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ns:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return As(hu({type:"icon"},e),(function(){return Ns(),Ou.autoA11y&&(f?y["aria-labelledby"]="".concat(Ou.replacementClass,"-title-").concat(d||is()):(y["aria-hidden"]="true",y.focusable="false")),fs({icons:{main:Ts(x),mask:u?Ts(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:hu({},ns,r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Os(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Os(r||{})),Rs(n,hu({},t,{mask:r}))}),Ms=n(7),Fs=n.n(Ms);function Us(e){return Us="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Hs(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function Ws(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Hs(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Ks=!1;try{Ks=!0}catch(gc){}function Gs(e){return e&&"object"===Us(e)&&e.prefix&&e.iconName&&e.icon?e:Ds.icon?Ds.icon(e):null===e?null:e&&"object"===Us(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Qs(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?js({},e,t):{}}function Ys(e){var t=e.forwardedRef,n=qs(e,["forwardedRef"]),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=Gs(r),l=Qs("classes",[].concat(Bs(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,a=e.inverse,o=e.border,u=e.listItem,s=e.flip,c=e.size,l=e.rotation,f=e.pull,h=(js(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":a,"fa-border":o,"fa-li":u,"fa-flip-horizontal":"horizontal"===s||"both"===s,"fa-flip-vertical":"vertical"===s||"both"===s},"fa-".concat(c),"undefined"!==typeof c&&null!==c),js(t,"fa-rotate-".concat(l),"undefined"!==typeof l&&null!==l&&0!==l),js(t,"fa-pull-".concat(f),"undefined"!==typeof f&&null!==f),js(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(h).map((function(e){return h[e]?e:null})).filter((function(e){return e}))}(n)),Bs(o.split(" ")))),f=Qs("transform","string"===typeof n.transform?Ds.transform(n.transform):n.transform),h=Qs("mask",Gs(i)),d=Ls(c,zs({},l,{},f,{},h,{symbol:a,title:u,titleId:s}));if(!d)return function(){var e;!Ks&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=d.abstract,v={ref:t};return Object.keys(n).forEach((function(e){Ys.defaultProps.hasOwnProperty(e)||(v[e]=n[e])})),$s(p[0],v)}Ys.displayName="FontAwesomeIcon",Ys.propTypes={border:Fs().bool,className:Fs().string,mask:Fs().oneOfType([Fs().object,Fs().array,Fs().string]),fixedWidth:Fs().bool,inverse:Fs().bool,flip:Fs().oneOf(["horizontal","vertical","both"]),icon:Fs().oneOfType([Fs().object,Fs().array,Fs().string]),listItem:Fs().bool,pull:Fs().oneOf(["right","left"]),pulse:Fs().bool,rotation:Fs().oneOf([0,90,180,270]),size:Fs().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Fs().bool,symbol:Fs().oneOfType([Fs().bool,Fs().string]),title:Fs().string,transform:Fs().oneOfType([Fs().string,Fs().object]),swapOpacity:Fs().bool},Ys.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var $s=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Ws(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Hs(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=qs(r,["style"]);return a.attrs.style=zs({},a.attrs.style,{},u),t.apply(void 0,[n.tag,zs({},a.attrs,{},s)].concat(Bs(i)))}.bind(null,e.createElement),Xs={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},Js={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},ec={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};var tc=function(){var t=(0,e.useState)(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=function(e){a(e)};return(0,ou.jsxs)("div",{className:"authContainer",children:[(0,ou.jsx)(Ys,{icon:ec,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,ou.jsx)(su,{ClickState:i}),(0,ou.jsxs)("div",{className:"authBtns",children:[(0,ou.jsxs)("button",{name:"google",className:"authBtn",onClick:o,children:["Continue with Google ",(0,ou.jsx)(Ys,{icon:Js})]}),(0,ou.jsxs)("button",{name:"github",className:"authBtn",onClick:o,children:["Continue with Github  ",(0,ou.jsx)(Ys,{icon:Xs})]}),(0,ou.jsx)("button",{name:"facebook",className:"authBtn",onClick:o,children:"Continue with Facebook"})]})]})},nc=n(46),rc={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},ic={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},ac={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},oc={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},uc={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},sc=n(436);var cc=function(t){var n=(0,e.useState)(t.Ntweet),i=(0,r.Z)(n,2),a=i[0],o=i[1],u=(0,e.useState)(t.IsOwner),s=(0,r.Z)(u,1)[0],c=(0,e.useState)(!1),l=(0,r.Z)(c,2),f=l[0],h=l[1],d=(0,e.useState)(t.Ntweet.text),p=(0,r.Z)(d,2),v=p[0],m=p[1],y=(0,e.useState)(""),g=(0,r.Z)(y,2),k=g[0],b=g[1],w=(0,e.useState)(""),x=(0,r.Z)(w,2),E=x[0],_=x[1],I=(0,e.useRef)(null);(0,e.useEffect)((function(){o(t.Ntweet)}),[t.Ntweet]);var T=function(){h((function(e){return!e}))},S=function(){var e=(0,W.Z)(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\uc815\ub9d0\ub85c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=3;break}return e.abrupt("return",!1);case 3:N(a.id,"delete");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,W.Z)(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("delete"),window.confirm("\ud574\ub2f9 \ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,N(a.id,"delete_photo");case 6:Z();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,W.Z)(G().mark((function e(t,n){var r,i,o,u;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=3;break}throw new Error("\ub4f1\ub85d\ud55c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.");case 3:return r=new sc(a,a.creatorId),e.next=6,r.getNweetById(t);case 6:i=e.sent,e.t0=n,e.next="delete_photo"===e.t0?10:"delete"===e.t0?17:"update"===e.t0?21:33;break;case 10:return r.setAttachment(""),r.setText(v),e.next=14,r.deleteFile(a);case 14:return e.next=16,r.updateNtweet(i,r.getObject());case 16:return e.abrupt("return",e.sent);case 17:if(!a.attachment){e.next=20;break}return e.next=20,r.deleteFile(a);case 20:return e.abrupt("return",r.deleteNtweet(i));case 21:if(o="",I.current&&(o=I.current.files[0]),u=a.attachment?a.attachment:"",!o){e.next=28;break}return e.next=27,r.uploadFile(o,k);case 27:u=e.sent;case 28:return r.setAttachment(u),r.setText(v),e.next=32,r.updateNtweet(i,r.getObject());case 32:return e.abrupt("return",e.sent);case 33:return e.abrupt("break",34);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(0),console.log(e.t1);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=(0,W.Z)(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N(a.id,"update");case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.target,n=t.name,r=t.value,i=t.files;if("ntweet"===n)m(r);else if("tweet_image"===n){var a=i[0];R(a)}},R=function(e){var t=new FileReader,n=e.name;t.onloadend=function(){b(t.result),_(n)},t.readAsDataURL(e)},Z=function(){setTimeout((function(){I.current&&(I.current.value=null),b("")}),1e3)};return(0,ou.jsx)(ou.Fragment,{children:a&&(0,ou.jsx)("div",{className:"nweet",children:f&&s?(0,ou.jsxs)(ou.Fragment,{children:[(0,ou.jsxs)("form",{onSubmit:A,className:"container nweetEdit",children:[(0,ou.jsx)("input",{value:v,onChange:O,name:"ntweet",type:"text",required:!0,placeholder:"Edit your ntweets",className:"formInput"}),a.attachment?(0,ou.jsxs)("div",{children:[(0,ou.jsx)("img",{alt:E,src:a.attachment.attachmentUrl,width:"50px",height:"50px"}),(0,ou.jsx)("button",{onClick:C,className:"formBtn",children:"x"})]}):(0,ou.jsxs)(ou.Fragment,{children:[(0,ou.jsx)("input",{type:"file",name:"tweet_image",accept:"image/*",onChange:O,className:"formInput",ref:I}),k&&(0,ou.jsxs)("div",{children:[(0,ou.jsx)("h4",{children:E}),(0,ou.jsx)("img",{src:k,alt:E,width:"50px",height:"50px"}),(0,ou.jsx)("button",{type:"button",onClick:Z,className:"formBtn",children:"Clear"})]})]}),(0,ou.jsx)("button",{type:"submit",className:"formBtn",children:"Update ntweet"})]}),(0,ou.jsx)("button",{type:"button",onClick:T,className:"formBtn cancelBtn",children:"Cancle"})]}):(0,ou.jsxs)(ou.Fragment,{children:[a.attachment&&(0,ou.jsx)("div",{children:(0,ou.jsx)("img",{alt:E,src:a.attachment.attachmentUrl,width:"50px",height:"50px"})}),(0,ou.jsx)("h4",{children:a.text}),s&&(0,ou.jsxs)("div",{className:"nweet__actions",children:[(0,ou.jsx)("span",{name:"delete",value:a.id,onClick:S,children:(0,ou.jsx)(Ys,{icon:oc})}),(0,ou.jsx)("span",{onClick:T,children:(0,ou.jsx)(Ys,{icon:rc})})]})]})})})},lc=n(436);var fc=function(t){var n=(0,e.useState)(t.User),i=(0,r.Z)(n,1)[0],a=(0,e.useState)(""),o=(0,r.Z)(a,2),u=o[0],s=o[1],c=(0,e.useState)(null),l=(0,r.Z)(c,2),f=l[0],h=l[1],d=(0,e.useState)(""),p=(0,r.Z)(d,2),v=p[0],m=p[1],y=(0,e.useRef)(null),g=function(e){var t=e.target,n=t.name,r=t.value,i=t.files;if("tweet"===n&&s(r),"tweet_image"===n){var a=i[0];b(a)}},k=function(){var e=(0,W.Z)(G().mark((function e(t){var n,r,a;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i&&u){e.next=3;break}return e.abrupt("return",!1);case 3:if(n=new lc(u,i.uid),r=y.current.files[0],a="",!r){e.next=10;break}return e.next=9,n.uploadFile(r,f);case 9:a=e.sent;case 10:n.setAttachment(a),n.createtweet(n.getObject()),s(""),w();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=new FileReader,n=e.name;t.onloadend=function(){h(t.result),m(n)},t.readAsDataURL(e)},w=function(){y.current&&(y.current.value=null),h("")};return(0,ou.jsxs)(ou.Fragment,{children:[(0,ou.jsxs)("form",{onSubmit:k,className:"factoryForm",children:[(0,ou.jsxs)("div",{className:"factoryInput__container",children:[(0,ou.jsx)("input",{type:"text",name:"tweet",className:"factoryInput__input",placeholder:"What's on your mind?",maxLength:120,onChange:g,value:u}),(0,ou.jsx)("input",{type:"submit",value:"Ntwieet",className:"factoryInput__arrow"})]}),(0,ou.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[(0,ou.jsx)("span",{children:"Add photos"}),(0,ou.jsx)(Ys,{icon:ic})]}),(0,ou.jsx)("input",{type:"file",id:"attach-file",style:{opacity:0},name:"tweet_image",accept:"image/*",onChange:g,ref:y})]}),(0,ou.jsx)("div",{style:{margin:"0 auto"},children:f&&(0,ou.jsxs)("div",{className:"factoryForm__attachment",children:[(0,ou.jsx)("h4",{children:v}),(0,ou.jsx)("img",{src:f,alt:v,style:{backgroundColor:"white"}}),(0,ou.jsxs)("div",{onClick:w,className:"factoryForm__clear",children:[(0,ou.jsx)("span",{children:"Remove"}),(0,ou.jsx)(Ys,{icon:ac})]})]})})]})};var hc=function(t){var n=(0,e.useState)([]),i=(0,r.Z)(n,2),a=i[0],o=i[1];(0,e.useEffect)((function(){u()}),[]);var u=function(){var e=(0,W.Z)(G().mark((function e(){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Q.dbService.getFirestore(),t=Q.dbService.collection(e,nc.DB_NTWIEET_COLLECTION_NAME),n=Q.dbService.query(t,Q.dbService.orderBy("createdAt","desc")),r=Q.dbService.onSnapshot(n,(function(e){var t=e.docs.map((function(e){return(0,Ne.Z)({id:e.id},e.data())}));o(t)}));return function(){return r()}};return(0,ou.jsxs)("div",{className:"container",children:[(0,ou.jsx)(fc,{User:t.User}),(0,ou.jsx)("div",{style:{marginTop:30},children:a&&a.map((function(e){return(0,ou.jsx)(cc,{Ntweet:e,IsOwner:t.User.uid===e.creatorId},e.id)}))})]})},dc=n(436);var pc=function(t){var n=(0,e.useState)(t.User),i=(0,r.Z)(n,1)[0],a=(0,e.useState)(t.User.displayName?t.User.displayName:""),o=(0,r.Z)(a,2),u=o[0],s=o[1],c=(0,e.useState)([]),l=(0,r.Z)(c,2),f=l[0],h=l[1],d=_();(0,e.useEffect)((function(){p()}),[]);var p=function(){var e=(0,W.Z)(G().mark((function e(){var t,n,r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.uid,n=new dc,e.next=4,n.getNweetsByUserId(t);case 4:r=e.sent,h(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,W.Z)(G().mark((function e(){var t;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Q.authService.getAuth(),Q.authService.signOut(t).then((function(){d("/")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,W.Z)(G().mark((function e(n){var r,a;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i.displayName!==u){e.next=3;break}return e.abrupt("return",!1);case 3:if(u){e.next=5;break}return e.abrupt("return",!1);case 5:return r=new dc,a={displayName:u},e.next=9,r.updateProfile(a);case 9:return t.refreshUser(),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ou.jsx)(ou.Fragment,{children:(0,ou.jsxs)("div",{className:"container",children:[(0,ou.jsxs)("form",{onSubmit:m,className:"profileForm",children:[(0,ou.jsx)("input",{type:"text",placeholder:"Display Name",value:u,onChange:function(e){var t=e.target,n=(t.name,t.value);s(n)},className:"formInput"}),(0,ou.jsx)("input",{type:"submit",className:"formBtn",style:{marginTop:10},value:"Update Profile"})]}),(0,ou.jsx)("button",{onClick:v,className:"formBtn cancelBtn logOut",children:"Log out"}),f&&f.map((function(e){return(0,ou.jsx)(cc,{Ntweet:e,IsOwner:t.User.uid===e.creatorId},e.id)}))]})})};var vc=function(t){var n=(0,e.useState)(""),i=(0,r.Z)(n,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){t.User&&o(t.User.displayName?t.User.displayName:"")}),[t.User]),(0,ou.jsx)("nav",{children:(0,ou.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,ou.jsx)("li",{children:(0,ou.jsx)(H,{to:"/",style:{marginRight:10},children:(0,ou.jsx)(Ys,{icon:ec,color:"#04AAFF",size:"2x"})})}),(0,ou.jsx)("li",{children:(0,ou.jsxs)(H,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[(0,ou.jsx)(Ys,{icon:uc,color:"#04AAFF",size:"2x"}),a&&(0,ou.jsxs)("span",{style:{marginTop:10},children:[a,a?"'s":"My"," Profile"]})]})})]})})};var mc=function(e){return(0,ou.jsxs)(B,{children:[e.isLoggedIn&&(0,ou.jsx)(vc,{User:e.User}),(0,ou.jsx)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:(0,ou.jsx)(b,{children:e.isLoggedIn?(0,ou.jsxs)(ou.Fragment,{children:[(0,ou.jsx)(g,{exact:!0,path:"/",element:(0,ou.jsx)(hc,{User:e.User})}),(0,ou.jsx)(g,{exact:!0,path:"/profile",element:(0,ou.jsx)(pc,{refreshUser:e.refreshUser,User:e.User})})]}):(0,ou.jsx)(g,{exact:!0,path:"/",element:(0,ou.jsx)(tc,{})})})})]})};var yc=function(){var t=(0,e.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=(0,e.useState)(!1),u=(0,r.Z)(o,2),s=u[0],c=u[1],l=(0,e.useState)(null),f=(0,r.Z)(l,2),h=f[0],d=f[1];return(0,e.useEffect)((function(){Q.authService.getAuth().onAuthStateChanged((function(e){e?(c(!0),d(e)):c(!1),a(!0)}))}),[]),(0,ou.jsx)(ou.Fragment,{children:i&&(0,ou.jsx)(mc,{refreshUser:function(){var e=Q.authService.getAuth().currentUser;d(Object.assign({},e))},isLoggedIn:s,User:h})})};t.render((0,ou.jsx)(yc,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ccdeee63.js.map